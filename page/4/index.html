<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Brath-Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Brath-Blog"><meta name="msapplication-TileImage" content="https://brath.cloud/me.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Brath-Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Brath-Blog"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Brath-Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="Brath"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Brath-Blog","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"Brath"},"publisher":{"@type":"Organization","name":"Brath-Blog","logo":{"@type":"ImageObject","url":"https://brath.cloud/me.png"}},"description":""}</script><link rel="icon" href="https://brath.cloud/me.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://brath.cloud/me.png" alt="Brath-Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">ä¸»é¡µ</a><a class="navbar-item" href="/archives">æ–‡ç« åˆ—è¡¨</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">æ›´å¤š</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Guoqing815"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.691Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2023-01-22T20:36:51.000Z" title="2023/1/23 04:36:51">2023-01-23</time>æ›´æ–°</span><span class="level-item">17 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2566ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90MySQL%E3%80%91%E3%80%90Redis%E3%80%91Redis%E4%B8%8EMysql%20Master%E4%B8%8ESlave%E5%90%8C%E6%AD%A5%EF%BC%9Acanal%E6%95%99%E5%AD%A6/">Redisä¸Mysql | Masterä¸SlaveåŒæ­¥ï¼šcanalæ•™å­¦</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€">#</a> å‰è¨€ï¼š</h2>
<p>â€‹		ä½œè€…æœ€è¿‘åœ¨åšè‡ªå·±çš„é¡¹ç›®ï¼Œä½¿ç”¨åˆ° Redisï¼Œéœ€è¦çƒ­æ›´æ–°ï¼Œä¿®æ”¹ Mysql ååŒæ­¥ Redis ç¼“å­˜ï¼Œå‡ºäºå¯¹åœˆå­çš„è´¡çŒ®ï¼Œä¹Ÿè¾ƒäºå½“å‰çš„ canal çš„åšå®¢å¤§å¤šæ•°ä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œæ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæ—¶é—´æ˜¯ 2022 å¹´ 6 æœˆ 29 æ—¥ã€‚ç›®çš„æ˜¯å¸®åŠ©æ›´å¤šçš„äººï¼Œå¸Œæœ›èƒ½ä¸ºåœ¨ç¥–å›½çš„ç»æµå‘å±•ä½œå‡ºå°å°çš„è´¡çŒ®ã€‚</p>
<p>â€‹		end</p>
<h4 id="å­¦ä¹ canalåŸºæœ¬éœ€è¦"><a class="markdownIt-Anchor" href="#å­¦ä¹ canalåŸºæœ¬éœ€è¦">#</a> å­¦ä¹  Canal åŸºæœ¬éœ€è¦ï¼š</h4>
<p>â€‹	Linux æœåŠ¡å™¨ï¼Œæ€§èƒ½æ— å¤§è¦æ±‚</p>
<p>â€‹	Java åŸºç¡€</p>
<p>â€‹	Mysqlï¼ŒRedis åŸºç¡€</p>
<h3 id="ä¿—è¯è¯´è¦äº†è§£ä¸€ä¸ªä¸œè¥¿å…ˆäº†è§£ä»–çš„ç”±æ¥"><a class="markdownIt-Anchor" href="#ä¿—è¯è¯´è¦äº†è§£ä¸€ä¸ªä¸œè¥¿å…ˆäº†è§£ä»–çš„ç”±æ¥">#</a> ä¿—è¯è¯´ï¼Œè¦äº†è§£ä¸€ä¸ªä¸œè¥¿ï¼Œå…ˆäº†è§£ä»–çš„ç”±æ¥ï¼š</h3>
<h2 id="ä¸€-canalèµ·æº"><a class="markdownIt-Anchor" href="#ä¸€-canalèµ·æº">#</a> ä¸€ã€Canal èµ·æº</h2>
<p>â€‹		é˜¿é‡Œå·´å·´å› ä¸ºä¸šåŠ¡ç‰¹æ€§ï¼Œä¹°å®¶é›†ä¸­åœ¨å›½å¤–ï¼Œè¡ç”Ÿå‡ºäº†æ­å·ç¾å›½å¼‚åœ°æ•°æ®åŒæ­¥éœ€æ±‚ï¼Œä» 2010 å¹´å¼€å§‹ï¼Œé˜¿é‡Œå·´å·´å¼€å§‹å¼€å‘ canalï¼Œcanal æ˜¯åŸºäº Java å¼€å‘çš„æ•°æ®åº“å¢é‡æ—¥å¿—è§£æï¼Œæä¾›å¢é‡æ•°æ®è®¢é˜… &amp; æ¶ˆè´¹çš„ä¸­é—´ä»¶ã€‚Canal ä¸»è¦æ”¯æŒäº† Mysql å’Œ Bilog è§£æï¼Œè§£æå®Œæˆååˆ©ç”¨ canal Client æ¥å¤„ç†è·å–ç›¸å…³æ•°æ®ã€‚</p>
<p>äº†è§£å®Œ canal çš„èµ·æºï¼Œå†æ¥çœ‹çœ‹ canal çš„æ ¸å¿ƒä¸šåŠ¡ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ mysql çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼šbinary_log ç®€ç§°ï¼šBinlog</p>
<h2 id="äºŒ-binlog"><a class="markdownIt-Anchor" href="#äºŒ-binlog">#</a> äºŒã€Binlog</h2>
<p>â€‹		binlog æŒ‡äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå®ƒè®°å½•äº†æ•°æ®åº“ä¸Šçš„æ‰€æœ‰æ”¹å˜ï¼Œå¹¶ä»¥äºŒè¿›åˆ¶çš„å½¢å¼ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŸ¥çœ‹æ•°æ®åº“çš„å˜æ›´å†å²ã€æ•°æ®åº“å¢é‡å¤‡ä»½å’Œæ¢å¤ã€MySQL çš„å¤åˆ¶ï¼ˆä¸»ä»æ•°æ®åº“çš„å¤åˆ¶ï¼‰ã€‚</p>
<h4 id="binlogæœ‰ä¸‰ç§æ ¼å¼"><a class="markdownIt-Anchor" href="#binlogæœ‰ä¸‰ç§æ ¼å¼">#</a> binlog æœ‰ä¸‰ç§æ ¼å¼ï¼š</h4>
<p>statementï¼šåŸºäº SQL è¯­å¥çš„å¤åˆ¶ï¼ˆstatement-based replicationï¼ŒSBRï¼‰<br>
rowï¼šåŸºäºè¡Œçš„å¤åˆ¶ï¼ˆrow-based replicationï¼ŒRBRï¼‰<br>
mixedï¼šæ··åˆæ¨¡å¼å¤åˆ¶ï¼ˆmixed-based replicationï¼ŒMBRï¼‰</p>
<h4 id="statementè¯­å¥çº§åˆ«"><a class="markdownIt-Anchor" href="#statementè¯­å¥çº§åˆ«">#</a> statementï¼šè¯­å¥çº§åˆ«</h4>
<p>æ¯ä¸€æ¡ä¼šä¿®æ”¹æ•°æ®çš„ sql éƒ½ä¼šè®°å½•åœ¨ binlog ä¸­ã€‚</p>
<p>â€‹		ä¼˜ç‚¹ï¼šä¸éœ€è¦è®°å½•æ¯ä¸€è¡Œçš„å˜åŒ–ï¼Œå‡å°‘äº† binlog æ—¥å¿—é‡ï¼ŒèŠ‚çº¦äº† IOï¼Œæé«˜æ€§èƒ½ã€‚ä½†æ˜¯æ³¨æ„ statement ç›¸æ¯”äº row èƒ½èŠ‚çº¦å¤šå°‘æ€§èƒ½ä¸æ—¥å¿—é‡ï¼Œå–å†³äºåº”ç”¨çš„ SQL æƒ…å†µã€‚æ­£å¸¸åŒä¸€æ¡è®°å½•ä¿®æ”¹æˆ–è€…æ’å…¥ row æ ¼å¼æ‰€äº§ç”Ÿçš„æ—¥å¿—é‡è¿˜å°äº Statement äº§ç”Ÿçš„æ—¥å¿—é‡ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å¦‚æœå¸¦æ¡ä»¶çš„ update æ“ä½œï¼Œä»¥åŠæ•´è¡¨åˆ é™¤ï¼Œalter è¡¨ç­‰æ“ä½œï¼ŒROW æ ¼å¼ä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—ï¼Œå› æ­¤åœ¨è€ƒè™‘æ˜¯å¦ä½¿ç”¨ ROW æ ¼å¼æ—¥å¿—æ—¶åº”è¯¥è·Ÿæ®åº”ç”¨çš„å®é™…æƒ…å†µï¼Œå…¶æ‰€äº§ç”Ÿçš„æ—¥å¿—é‡ä¼šå¢åŠ å¤šå°‘ï¼Œä»¥åŠå¸¦æ¥çš„ IO æ€§èƒ½é—®é¢˜ã€‚</p>
<p>â€‹		ç¼ºç‚¹ï¼šç”±äºè®°å½•çš„åªæ˜¯æ‰§è¡Œè¯­å¥ï¼Œä¸ºäº†è¿™äº›è¯­å¥åœ¨ slave ä¸Šæ­£ç¡®è¿è¡Œï¼Œæˆ‘ä»¬è¿˜å¿…é¡»è®°å½•æ¯æ¡è¯­å¥åœ¨æ‰§è¡Œæ—¶å€™çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¿è¯æ‰€æœ‰è¯­å¥èƒ½åœ¨ slave å¾—åˆ°å’Œåœ¨ master ç«¯æ‰§è¡Œæ—¶ç›¸åŒçš„ç»“æœã€‚å¦å¤–ï¼Œä¸€äº›ç‰¹å®šçš„å‡½æ•°åŠŸèƒ½å¦‚æœè¦åœ¨ slave å’Œ master ä¸Šä¿æŒä¸€è‡´ä¼šæœ‰å¾ˆå¤šç›¸å…³é—®é¢˜ã€‚</p>
<h4 id="rowè¡Œæ•°æ®çº§åˆ«"><a class="markdownIt-Anchor" href="#rowè¡Œæ•°æ®çº§åˆ«">#</a> rowï¼šè¡Œæ•°æ®çº§åˆ«</h4>
<p>5.1.5 ç‰ˆæœ¬çš„ MySQL æ‰å¼€å§‹æ”¯æŒ row level çš„å¤åˆ¶ï¼Œå®ƒä¸è®°å½• sql è¯­å¥ä¸Šä¸‹æ–‡ç›¸å…³ä¿¡æ¯ï¼Œä»…ä¿å­˜å“ªæ¡è®°å½•è¢«ä¿®æ”¹ã€‚</p>
<p>â€‹		ä¼˜ç‚¹ï¼šbinlog ä¸­å¯ä»¥ä¸è®°å½•æ‰§è¡Œçš„ sql è¯­å¥çš„ä¸Šä¸‹æ–‡ç›¸å…³çš„ä¿¡æ¯ï¼Œä»…éœ€è¦è®°å½•é‚£ä¸€æ¡è®°å½•è¢«ä¿®æ”¹æˆä»€ä¹ˆäº†ã€‚æ‰€ä»¥ row level çš„æ—¥å¿—ä¼šéå¸¸æ¸…æ¥šçš„è®°ä¸‹æ¯ä¸€è¡Œæ•°æ®ä¿®æ”¹çš„ç»†èŠ‚ã€‚è€Œä¸”ä¸ä¼šå‡ºç°æŸäº›ç‰¹å®šæƒ…å†µä¸‹çš„å­˜å‚¨è¿‡ç¨‹ï¼Œæˆ– functionï¼Œä»¥åŠ trigger çš„è°ƒç”¨å’Œè§¦å‘æ— æ³•è¢«æ­£ç¡®å¤åˆ¶çš„é—®é¢˜ã€‚</p>
<p>â€‹		ç¼ºç‚¹ï¼šæ‰€æœ‰çš„æ‰§è¡Œçš„è¯­å¥å½“è®°å½•åˆ°æ—¥å¿—ä¸­çš„æ—¶å€™ï¼Œéƒ½å°†ä»¥æ¯è¡Œè®°å½•çš„ä¿®æ”¹æ¥è®°å½•ï¼Œè¿™æ ·å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—å†…å®¹ã€‚ä½†æ˜¯æ–°ç‰ˆæœ¬çš„ MySQL å¯¹ row level æ¨¡å¼è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ä¿®æ”¹éƒ½ä¼šä»¥ row level æ¥è®°å½•ï¼Œåƒé‡åˆ°è¡¨ç»“æ„å˜æ›´çš„æ—¶å€™å°±ä¼šä»¥ statement æ¨¡å¼æ¥è®°å½•ï¼Œå¦‚æœ sql è¯­å¥ç¡®å®å°±æ˜¯ update æˆ–è€… delete ç­‰ä¿®æ”¹æ•°æ®çš„è¯­å¥ï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¼šè®°å½•æ‰€æœ‰è¡Œçš„å˜æ›´ã€‚</p>
<h4 id="mixedæ··åˆçº§åˆ«"><a class="markdownIt-Anchor" href="#mixedæ··åˆçº§åˆ«">#</a> mixedï¼šæ··åˆçº§åˆ«</h4>
<p>ä» 5.1.8 ç‰ˆæœ¬å¼€å§‹ï¼ŒMySQL æä¾›äº† Mixed æ ¼å¼ï¼Œå®é™…ä¸Šå°±æ˜¯ Statement ä¸ Row çš„ç»“åˆã€‚</p>
<p>â€‹		åœ¨ Mixed æ¨¡å¼ä¸‹ï¼Œä¸€èˆ¬çš„è¯­å¥ä¿®æ”¹ä½¿ç”¨ statment æ ¼å¼ä¿å­˜ binlogï¼Œå¦‚æœä¸€äº›å‡½æ•°ï¼Œstatement æ— æ³•å®Œæˆä¸»ä»å¤åˆ¶çš„æ“ä½œï¼Œåˆ™é‡‡ç”¨ row æ ¼å¼ä¿å­˜ binlogï¼ŒMySQL ä¼šæ ¹æ®æ‰§è¡Œçš„æ¯ä¸€æ¡å…·ä½“çš„ sql è¯­å¥æ¥åŒºåˆ†å¯¹å¾…è®°å½•çš„æ—¥å¿—å½¢å¼ï¼Œä¹Ÿå°±æ˜¯åœ¨ Statement å’Œ Row ä¹‹é—´é€‰æ‹©ä¸€ç§ã€‚</p>
<h5 id="ç”±äº-statement-å’Œ-mixed-çš„ç‰¹æ®Šæ€§é€šè¿‡sqlæ¥å¤‡ä»½æ€»ä¼šæœ‰æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µæ¯”å¦‚nowå‡½æ•°"><a class="markdownIt-Anchor" href="#ç”±äº-statement-å’Œ-mixed-çš„ç‰¹æ®Šæ€§é€šè¿‡sqlæ¥å¤‡ä»½æ€»ä¼šæœ‰æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µæ¯”å¦‚nowå‡½æ•°">#</a> ç”±äº statement å’Œ mixed çš„ç‰¹æ®Šæ€§ï¼Œé€šè¿‡ sql æ¥å¤‡ä»½ï¼Œæ€»ä¼šæœ‰æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼šnow () å‡½æ•°ã€‚</h5>
<h5 id="æ‰€ä»¥ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ä½¿ç”¨-rowçº§åˆ«ä¹Ÿå°±æ˜¯è¡Œçº§åˆ«è¿™æ ·ä¿è¯æˆ‘ä»¬å¤‡ä»½çš„æ•°æ®å’Œå‡ºå£çš„æ•°æ®ç›¸ä¸€è‡´"><a class="markdownIt-Anchor" href="#æ‰€ä»¥ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ä½¿ç”¨-rowçº§åˆ«ä¹Ÿå°±æ˜¯è¡Œçº§åˆ«è¿™æ ·ä¿è¯æˆ‘ä»¬å¤‡ä»½çš„æ•°æ®å’Œå‡ºå£çš„æ•°æ®ç›¸ä¸€è‡´">#</a> æ‰€ä»¥ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ä½¿ç”¨ Row çº§åˆ«ï¼Œä¹Ÿå°±æ˜¯è¡Œçº§åˆ«ï¼Œè¿™æ ·ä¿è¯æˆ‘ä»¬å¤‡ä»½çš„æ•°æ®å’Œå‡ºå£çš„æ•°æ®ç›¸ä¸€è‡´ã€‚</h5>
<h3 id="ä¸‰-ä¸‹è½½å’Œå®‰è£…canalå·¥å…·"><a class="markdownIt-Anchor" href="#ä¸‰-ä¸‹è½½å’Œå®‰è£…canalå·¥å…·">#</a> ä¸‰ã€ä¸‹è½½å’Œå®‰è£… Canal å·¥å…·</h3>
<p>ä¸‹è½½å‰ï¼Œåœ¨ mysql åˆ›å»º canal ç”¨æˆ·ï¼Œå› ä¸º canal æœåŠ¡ç«¯éœ€è¦è¿æ¥ mysql æ•°æ®åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- ä½¿ç”¨å‘½ä»¤ç™»å½•ï¼šmysql -u root -p</span><br><span class="line">-- åˆ›å»ºç”¨æˆ· ç”¨æˆ·åï¼šcanal å¯†ç ï¼šCanal@123456</span><br><span class="line">create user <span class="string">&#x27;canal&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;Canal@123456&#x27;</span>;</span><br><span class="line">-- æˆæƒ *.*è¡¨ç¤ºæ‰€æœ‰åº“</span><br><span class="line">grant SELECT, REPLICATION SLAVE, REPLICATION CLIENT on *.* to <span class="string">&#x27;canal&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;Canal@123456&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="æ”¹äº†é…ç½®æ–‡ä»¶ä¹‹åé‡å¯mysqlä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ‰“å¼€binlogæ¨¡å¼"><a class="markdownIt-Anchor" href="#æ”¹äº†é…ç½®æ–‡ä»¶ä¹‹åé‡å¯mysqlä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ‰“å¼€binlogæ¨¡å¼">#</a> æ”¹äº†é…ç½®æ–‡ä»¶ä¹‹åï¼Œé‡å¯ MySQLï¼Œä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ‰“å¼€ binlog æ¨¡å¼ï¼š</h4>
<p><img src="https://brath.cloud/blogImg/20200808151606261.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h4 id="æŸ¥çœ‹binlogæ—¥å¿—æ–‡ä»¶åˆ—è¡¨"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹binlogæ—¥å¿—æ–‡ä»¶åˆ—è¡¨">#</a> æŸ¥çœ‹ binlog æ—¥å¿—æ–‡ä»¶åˆ—è¡¨ï¼š</h4>
<p><img src="https://brath.cloud/blogImg/20200808151715291.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h3 id="ç‚¹æ­¤ä¸‹è½½canal"><a class="markdownIt-Anchor" href="#ç‚¹æ­¤ä¸‹è½½canal">#</a> ç‚¹æ­¤ä¸‹è½½ CanalğŸ‘‡</h3>
<p><a target="_blank" rel="noopener" href="https://ghproxy.com/https://github.com/alibaba/canal/releases/download/canal-1.1.2/canal.deployer-1.1.2.tar.gz">https://ghproxy.com/https://github.com/alibaba/canal/releases/download/canal-1.1.2/canal.deployer-1.1.2.tar.gz</a></p>
<p>æ­¤é“¾æ¥ä¸º github ä»£ç†æä¾›è¿æ¥ï¼Œä»…ä¾›å‚è€ƒï¼Œæ­¤å¤„æ— å¹¿å‘Šæ„ä¹‰ã€‚</p>
<p><img src="https://brath.cloud/blogImg/image-20220629152616754.png" alt="image-20220629152616754"></p>
<p>ä¸‹è½½å¥½åä¸Šä¼ è‡³ linux æœåŠ¡å™¨ï¼Œåˆ›å»º canal æ–‡ä»¶å¤¹å¹¶è§£å‹åˆ° canal æ–‡ä»¶å¤¹ä¸­</p>
<p><img src="https://brath.cloud/blogImg/image-20220629153150741.png" alt="image-20220629153150741"></p>
<p>å®Œæˆåä¼šå¾—åˆ°ä»¥ä¸Šå››ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼šbinï¼Œconfï¼Œlibï¼Œlogs</p>
<p>éœ€è¦ä¿®æ”¹ä¸€å¤„é…ç½®æ–‡ä»¶ï¼š</p>
<p>â€‹		/canal/conf/example ä¸‹çš„ instance.properties</p>
<p><img src="https://brath.cloud/blogImg/image-20220629153511220.png" alt="image-20220629153511220"></p>
<p>ä¿®æ”¹å®Œæˆåä¿å­˜é€€å‡º</p>
<p>æ¥ä¸‹æ¥è¿›å…¥ bin ç›®å½• sh <a target="_blank" rel="noopener" href="http://startUp.sh">startUp.sh</a> å¯åŠ¨ canal æœåŠ¡ç«¯</p>
<h4 id="è‡³æ­¤æœåŠ¡ç«¯çš„æ“ä½œåŸºæœ¬å®Œæˆ"><a class="markdownIt-Anchor" href="#è‡³æ­¤æœåŠ¡ç«¯çš„æ“ä½œåŸºæœ¬å®Œæˆ">#</a> è‡³æ­¤æœåŠ¡ç«¯çš„æ“ä½œåŸºæœ¬å®Œæˆ</h4>
<p>Java å®¢æˆ·ç«¯æ“ä½œ<br>
é¦–å…ˆå¼•å…¥ maven ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.otter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>canal.client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºä¸€ä¸ª canal é¡¹ç›®ï¼Œä½¿ç”¨ SpringBoot æ„å»ºï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œåˆ›å»º canal åŒ…ï¼š</p>
<p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20220629153956493.png" alt="image-20220629153956493"></p>
<p>canal å·¥å…·ç±»ï¼Œä»…ä¾›å‚è€ƒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.brath.canal;</span><br><span class="line"><span class="keyword">import</span> java.awt.print.Printable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.brath.common.redis.service.TokenService;</span><br><span class="line"><span class="keyword">import</span> cn.brath.common.redis.util.RedisKeys;</span><br><span class="line"><span class="keyword">import</span> cn.brath.common.utils.AssertUtil;</span><br><span class="line"><span class="keyword">import</span> cn.brath.common.utils.UserTokenManager;</span><br><span class="line"><span class="keyword">import</span> cn.brath.entity.IvUser;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.otter.canal.client.CanalConnector;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.otter.canal.client.CanalConnectors;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.otter.canal.protocol.CanalEntry.*;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.otter.canal.protocol.Message;</span><br><span class="line"><span class="keyword">import</span> com.google.protobuf.InvalidProtocolBufferException;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.print.attribute.standard.MediaPrintableArea;</span><br><span class="line"><span class="keyword">import</span> java.net.InetSocketAddress;</span><br><span class="line"><span class="keyword">import</span> java.time.ZoneId;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CanalClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * SLF4Jæ—¥å¿—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(CanalClient.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">host</span> <span class="operator">=</span> <span class="string">&quot;***.***.***.***&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">port</span> <span class="operator">=</span> <span class="string">&quot;11111&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">destination</span> <span class="operator">=</span> <span class="string">&quot;example&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·ä»¤ç‰Œä¸šåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TokenService tokenService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">TokenServiceIn</span><span class="params">(TokenService tokenService)</span> &#123;</span><br><span class="line">        CanalClient.tokenService = tokenService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * canalå¯åŠ¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!AssertUtil.isEmptys(host, port, destination)) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;canalå®¢æˆ·ç«¯è¿æ¥å¤±è´¥ï¼Œå½“å‰æœåŠ¡ç«¯hostï¼š&#123;&#125;ï¼Œportï¼š&#123;&#125;ï¼Œdestinationï¼š&#123;&#125;&quot;</span>, host, port, destination);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">CanalConnector</span> <span class="variable">connector</span> <span class="operator">=</span> CanalConnectors.newSingleConnector(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(host, Integer.valueOf(port)), destination, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span></span><br><span class="line">        );</span><br><span class="line">        <span class="type">int</span> <span class="variable">batchSize</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å»ºç«‹è¿æ¥</span></span><br><span class="line">            connector.connect();</span><br><span class="line">            <span class="comment">//ç›®æ ‡ä¸ºå…¨éƒ¨è¡¨</span></span><br><span class="line">            connector.subscribe(<span class="string">&quot;.*\\..*&quot;</span>);</span><br><span class="line">            connector.rollback();</span><br><span class="line">            logger.info(<span class="string">&quot;canalå®¢æˆ·ç«¯è¿æ¥å®Œæˆï¼Œå½“å‰æœåŠ¡ç«¯hostï¼š&#123;&#125;ï¼Œportï¼š&#123;&#125;ï¼Œdestinationï¼š&#123;&#125;&quot;</span>, host, port, destination);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="comment">//å°è¯•ä»masteré‚£è¾¹æ‹‰å»æ•°æ®batchSizeæ¡è®°å½•ï¼Œæœ‰å¤šå°‘å–å¤šå°‘</span></span><br><span class="line">                    <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> connector.getWithoutAck(batchSize);</span><br><span class="line">                    <span class="type">long</span> <span class="variable">batchId</span> <span class="operator">=</span> message.getId();</span><br><span class="line">                    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> message.getEntries().size();</span><br><span class="line">                    <span class="keyword">if</span> (batchId == -<span class="number">1</span> || size == <span class="number">0</span>) &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        logger.info(<span class="string">&quot;åŒæ­¥ä»»åŠ¡è¿›è¡Œä¸­ï¼Œæ£€æµ‹åˆ°ä¿®æ”¹æ•°æ®ï¼Œæ‰§è¡ŒåŒæ­¥Redis&quot;</span>);</span><br><span class="line">                        dataHandle(message.getEntries());</span><br><span class="line">                    &#125;</span><br><span class="line">                    connector.ack(batchId);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InvalidProtocolBufferException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            connector.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°æ®å¤„ç†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> entrys</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dataHandle</span><span class="params">(List&lt;Entry&gt; entrys)</span> <span class="keyword">throws</span> InvalidProtocolBufferException &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">beforeData</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">afterData</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (Entry entry : entrys) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EntryType.ROWDATA.equals(entry.getEntryType())) &#123;</span><br><span class="line">                <span class="comment">//ååºåˆ—åŒ–rowdata</span></span><br><span class="line">                <span class="type">RowChange</span> <span class="variable">rowChange</span> <span class="operator">=</span> RowChange.parseFrom(entry.getStoreValue());</span><br><span class="line">                <span class="comment">//è·å–æ•°æ®é›†</span></span><br><span class="line">                List&lt;RowData&gt; rowDataList = rowChange.getRowDatasList();</span><br><span class="line">                <span class="comment">//è·å–æ•°æ®éå†</span></span><br><span class="line">                <span class="keyword">for</span> (RowData rowData : rowDataList) &#123;</span><br><span class="line">                    afterData = <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                    List&lt;Column&gt; afterColumnsList = rowData.getAfterColumnsList();</span><br><span class="line">                    <span class="keyword">for</span> (Column column : afterColumnsList) &#123;</span><br><span class="line">                        afterData.put(column.getName(), column.getValue());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">//å› ä¸ºä½œè€…è¿™é‡ŒåªåšåŒæ­¥Redisï¼Œä¸è€ƒè™‘åˆ°æ“ä½œç±»å‹ï¼Œåªéœ€è¦è¦†ç›–ç›¸åŒé”®å€¼æ•°æ®</span></span><br><span class="line">                </span><br><span class="line">                <span class="comment">//å†™å…¥Redis</span></span><br><span class="line">                executeRedisWarehousing(afterData);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰§è¡ŒRedisç”¨æˆ·æ•°æ®å…¥åº“</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> afterData</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">executeRedisWarehousing</span><span class="params">(JSONObject afterData)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;å¼€å§‹æ‰§è¡ŒRedisçƒ­æ›´æ–°å…¥åº“åŒæ­¥Mysql -- &quot;</span>);</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">do</span>...</span><br><span class="line">        </span><br><span class="line">        logger.info(<span class="string">&quot;å…¥åº“å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨ç±»ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å¯åŠ¨ç±»ä½¿ç”¨">#</a> å¯åŠ¨ç±»ä½¿ç”¨ï¼š</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(InterviewUserServiceApplication.class, args);</span><br><span class="line">        <span class="comment">//é¡¹ç›®å¯åŠ¨ï¼Œæ‰§è¡Œcanalå®¢æˆ·ç«¯ç›‘å¬</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">CanalClient</span>().run();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            log.error(<span class="string">&quot; canalå®¢æˆ·ç«¯ç›‘å¬ å¯åŠ¨å¤±è´¥ï¼ŒåŸå› å¯èƒ½æ˜¯ï¼š&#123;&#125;&quot;</span>, e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å¯åŠ¨é¡¹ç›®è¿è¡Œï¼ŒæˆåŠŸè¿æ¥ canal åæˆ‘ä»¬å°è¯•ä¿®æ”¹ä¸€ä¸ª mysql çš„æ•°æ®ï¼Œå‘ç°åœ¨å®¢æˆ·ç«¯æˆåŠŸå®Œæˆäº†ä¸ Redis çš„åŒæ­¥æ“ä½œ</p>
<p><img src="https://brath.cloud/blogImg/image-20220629154454409.png" alt="image-20220629154454409"></p>
<h3 id="ç›¸å…³å¼‚å¸¸"><a class="markdownIt-Anchor" href="#ç›¸å…³å¼‚å¸¸">#</a> ç›¸å…³å¼‚å¸¸ï¼š</h3>
<p>Canal å¼‚å¸¸ï¼š</p>
<p>dump address /124.222.106.122:3306 has an error, retrying. caused by <a target="_blank" rel="noopener" href="http://java.la">java.la</a></p>
<p>è§£å†³åŠæ³•ï¼šé‡å¯ Mysqlï¼Œåˆ é™¤ example ä¸‹çš„ dat åç¼€æ–‡ä»¶åé‡å¯ canal</p>
<p>å…¶ä»–ï¼š</p>
<p>â€‹	æ˜¯å¦å¼€æ”¾ç«¯å£ 11111</p>
<p>â€‹	mysql æ˜¯å¦è¿æ¥æˆåŠŸï¼ŒæŸ¥çœ‹ logs/example/example.log</p>
<p>â€‹	æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯æ˜¯å¦è¿æ¥æˆåŠŸï¼ŒæŸ¥çœ‹å½“å‰é¡¹ç›®æ—¥å¿—å³å¯</p>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.688Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2023-01-20T10:16:39.000Z" title="2023/1/20 18:16:39">2023-01-20</time>æ›´æ–°</span><span class="level-item">27 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦3980ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90IDE%E3%80%91Jet%E5%85%A8%E5%AE%B6%E6%A1%B6%E6%BF%80%E6%B4%BB%E6%95%99%E7%A8%8B/">JetBrainså…¨ç³»åˆ—æ¿€æ´»ç </a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="jetbrainså…¨ç³»åˆ—æ¿€æ´»ç "><a class="markdownIt-Anchor" href="#jetbrainså…¨ç³»åˆ—æ¿€æ´»ç ">#</a> <strong>JetBrains å…¨ç³»åˆ—æ¿€æ´»ç </strong></h1>
<p>æ³¨ï¼šä¸åŒçš„è½¯ä»¶ï¼Œéœ€è¦ä¸åŒçš„æ¿€æ´»ç ï¼Œåƒä¸‡åˆ«å¤åˆ¶é”™äº†</p>
<h2 id="æœ¬æ–‡è®²çš„æ˜¯æ”¯æŒ202222æœ€æ–°ç‰ˆæœ¬çš„rubymineç ´è§£-rubymineæ¿€æ´»ç -rubymineå®‰è£…-rubymineæ°¸ä¹…æ¿€æ´»ç çš„æœ€æ–°æ°¸ä¹…æ¿€æ´»æ•™ç¨‹æœ¬æ–‡æœ‰macå’Œwindowsç³»ç»Ÿçš„rubymineå®‰è£…æ•™ç¨‹"><a class="markdownIt-Anchor" href="#æœ¬æ–‡è®²çš„æ˜¯æ”¯æŒ202222æœ€æ–°ç‰ˆæœ¬çš„rubymineç ´è§£-rubymineæ¿€æ´»ç -rubymineå®‰è£…-rubymineæ°¸ä¹…æ¿€æ´»ç çš„æœ€æ–°æ°¸ä¹…æ¿€æ´»æ•™ç¨‹æœ¬æ–‡æœ‰macå’Œwindowsç³»ç»Ÿçš„rubymineå®‰è£…æ•™ç¨‹">#</a> æœ¬æ–‡è®²çš„æ˜¯æ”¯æŒ 2022.2.2 æœ€æ–°ç‰ˆæœ¬çš„ RubyMine ç ´è§£ã€RubyMine æ¿€æ´»ç ã€RubyMine å®‰è£…ã€RubyMine æ°¸ä¹…æ¿€æ´»ç çš„æœ€æ–°æ°¸ä¹…æ¿€æ´»æ•™ç¨‹ï¼Œæœ¬æ–‡æœ‰ mac å’Œ windows ç³»ç»Ÿçš„ RubyMine å®‰è£…æ•™ç¨‹ã€‚</h2>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/131-21010G6105IL.png" alt="131-21010G6105IL"></p>
<h3 id="1ä¸‹è½½ä½ éœ€è¦çš„ideå·¥å…·"><a class="markdownIt-Anchor" href="#1ä¸‹è½½ä½ éœ€è¦çš„ideå·¥å…·">#</a> 1. ä¸‹è½½ä½ éœ€è¦çš„ IDE å·¥å…·</h3>
<h3 id="2ä¸‹è½½ç ´è§£å·¥å…·-å¾®ä¿¡å…¬ä¼—å·æœç´¢interviewcoderæˆ–æ‰«ç å…³æ³¨å…¬ä¼—å·å›å¤å…³é”®è¯ç ´è§£å³å¯è·å–"><a class="markdownIt-Anchor" href="#2ä¸‹è½½ç ´è§£å·¥å…·-å¾®ä¿¡å…¬ä¼—å·æœç´¢interviewcoderæˆ–æ‰«ç å…³æ³¨å…¬ä¼—å·å›å¤å…³é”®è¯ç ´è§£å³å¯è·å–">#</a> 2. ä¸‹è½½ç ´è§£å·¥å…· (å¾®ä¿¡å…¬ä¼—å·æœç´¢ InterviewCoder) æˆ–æ‰«ç å…³æ³¨å…¬ä¼—å·å›å¤å…³é”®è¯ã€Šç ´è§£ã€‹å³å¯è·å–</h3>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/%E4%BA%8C%E7%BB%B4%E7%A0%81mini.png" alt="äºŒç»´ç mini"></p>
<h3 id="3ä¸‹è½½å¥½åè§£å‹å¹¶æ‰“å¼€é€‰æ‹©scripts"><a class="markdownIt-Anchor" href="#3ä¸‹è½½å¥½åè§£å‹å¹¶æ‰“å¼€é€‰æ‹©scripts">#</a> 3. ä¸‹è½½å¥½åè§£å‹å¹¶æ‰“å¼€ï¼Œé€‰æ‹© scripts</h3>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/sp20220926_173051_163.png" alt="å›¾ç‰‡[5]-RubyMineç ´è§£å®‰è£…æ¿€æ´»æ•™ç¨‹2022-09-26æœ€æ–°ï¼ˆäº²æµ‹å¯ç”¨ï¼‰-ä¸é è°±ç¨‹åºå‘˜"></p>
<h3 id="4å…ˆæ‰§è¡Œunistall-current-uservbsç›´æ¥åŒå‡»æ‰“å¼€æ­¤æ­¥éª¤æ˜¯ä¸ºäº†é˜²æ­¢ä¹‹å‰æœ‰è¿‡æ¿€æ´»ä¿¡æ¯ç¡®ä¿å½“å‰ç¯å¢ƒå˜é‡ä¸‹æ²¡æœ‰æ¿€æ´»å·¥å…·çš„å˜é‡ä¿¡æ¯å¯å…ˆæ‰§è¡Œå¸è½½è„šæœ¬åœ¨å†è¿›è¡Œåé¢çš„æ¿€æ´»æ“ä½œé¿å…æ¿€æ´»å¤±è´¥"><a class="markdownIt-Anchor" href="#4å…ˆæ‰§è¡Œunistall-current-uservbsç›´æ¥åŒå‡»æ‰“å¼€æ­¤æ­¥éª¤æ˜¯ä¸ºäº†é˜²æ­¢ä¹‹å‰æœ‰è¿‡æ¿€æ´»ä¿¡æ¯ç¡®ä¿å½“å‰ç¯å¢ƒå˜é‡ä¸‹æ²¡æœ‰æ¿€æ´»å·¥å…·çš„å˜é‡ä¿¡æ¯å¯å…ˆæ‰§è¡Œå¸è½½è„šæœ¬åœ¨å†è¿›è¡Œåé¢çš„æ¿€æ´»æ“ä½œé¿å…æ¿€æ´»å¤±è´¥">#</a> 4. å…ˆæ‰§è¡Œ unistall-current-user.vbs, ç›´æ¥åŒå‡»æ‰“å¼€ï¼Œæ­¤æ­¥éª¤æ˜¯ä¸ºäº†é˜²æ­¢ä¹‹å‰æœ‰è¿‡æ¿€æ´»ä¿¡æ¯ï¼Œç¡®ä¿å½“å‰ç¯å¢ƒå˜é‡ä¸‹æ²¡æœ‰æ¿€æ´»å·¥å…·çš„å˜é‡ä¿¡æ¯ï¼Œå¯å…ˆæ‰§è¡Œå¸è½½è„šæœ¬åœ¨å†è¿›è¡Œåé¢çš„æ¿€æ´»æ“ä½œï¼Œé¿å…æ¿€æ´»å¤±è´¥ã€‚</h3>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/sp20220926_173124_742-1024x464.png" alt="å›¾ç‰‡[8]-RubyMineç ´è§£å®‰è£…æ¿€æ´»æ•™ç¨‹2022-09-26æœ€æ–°ï¼ˆäº²æµ‹å¯ç”¨ï¼‰-ä¸é è°±ç¨‹åºå‘˜"></p>
<ul>
<li>å‡ºç°å¼¹æ¡† done è¯´æ˜æˆåŠŸ</li>
<li><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/sp20220926_173141_329.png" alt="å›¾ç‰‡[9]-RubyMineç ´è§£å®‰è£…æ¿€æ´»æ•™ç¨‹2022-09-26æœ€æ–°ï¼ˆäº²æµ‹å¯ç”¨ï¼‰-ä¸é è°±ç¨‹åºå‘˜"></li>
<li>ç„¶åå†æ‰§è¡Œ install-current-user.vbs, ç›´æ¥åŒå‡»æ‰“å¼€å³å¯</li>
<li><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/sp20220926_173154_884-1024x512.png" alt="å›¾ç‰‡[10]-RubyMineç ´è§£å®‰è£…æ¿€æ´»æ•™ç¨‹2022-09-26æœ€æ–°ï¼ˆäº²æµ‹å¯ç”¨ï¼‰-ä¸é è°±ç¨‹åºå‘˜"></li>
<li>è¿™é‡Œéœ€è¦ç­‰å¾… 10 ç§’å·¦å³æ‰ä¼šå‡ºç°ç¬¬äºŒä¸ª done å¼¹æ¡†ï¼Œæ‰æ˜¯æˆåŠŸ</li>
<li><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/sp20220926_173214_384-300x267.png" alt="å›¾ç‰‡[11]-RubyMineç ´è§£å®‰è£…æ¿€æ´»æ•™ç¨‹2022-09-26æœ€æ–°ï¼ˆäº²æµ‹å¯ç”¨ï¼‰-ä¸é è°±ç¨‹åºå‘˜"></li>
</ul>
<h3 id="5ç„¶åå†è¾“å…¥å¯¹åº”çš„æ¿€æ´»ç å³å¯"><a class="markdownIt-Anchor" href="#5ç„¶åå†è¾“å…¥å¯¹åº”çš„æ¿€æ´»ç å³å¯">#</a> 5. ç„¶åå†è¾“å…¥å¯¹åº”çš„æ¿€æ´»ç å³å¯ï¼ï¼ï¼ï¼</h3>
<h2 id="ideaä¸“ç”¨"><a class="markdownIt-Anchor" href="#ideaä¸“ç”¨">#</a> <strong>IDEA ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XIZQAN09CR-eyJsaWNlbnNlSWQiOiJYSVpRQU4wOUNSIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBEQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFNJIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQUEMiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBDV01QIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQUkIiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBQUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiSUkiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQR08iLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBTVyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFdTIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfV0sIm1ldGFkYXRhIjoiMDEyMDIyMDgwMVBTQU4wMDAwMDUiLCJoYXNoIjoiVFJJQUw6LTEwMzUwMzQyMiIsImdyYWNlUGVyaW9kRGF5cyI6NywiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-CoFOL4hCLVDFAdlOcxtyff4LA+HU4DIoRo+QTdjWbEuevzCGrh4ghKPWTCWT7YdMYoaaLGQfpR7DP8I2w4AxRMBH5T/KEUeNM70uTkdzIXboS460xZGLImtcte5hiD/U6k3P6NL2BVQgQwGTMRG5utlGdj1WtF/jb+yzp7+vaJiCt8uqqqXjEohapQsROTUihqtVRVkd9peAtS1gzKc39YEMnxu7Oggjuo797zMSnSswT5b4EVjgs+GJxL8RObb1o5xnKk8z4fCSRzVXD4tcVbwMXs/OVcr9+cgUYMiRCLhlHVOQJtb8F5r3IFYKFEPCPmwVAFHfmkMxC3uVmAcVsg==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="pycharmä¸“ç”¨"><a class="markdownIt-Anchor" href="#pycharmä¸“ç”¨">#</a> <strong>PyCharm ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WDV7B5UM4J-eyJsaWNlbnNlSWQiOiJXRFY3QjVVTTRKIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFBDIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQQ1dNUCIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUEMiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDoyNjMyMTUzOTMiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0=-S44u4zyBrYbltQAZezyCkBYsVU9HRftkKneJSWd2SsZMxgJiA1JfkhEl2yc4zrXBBqCCn2PKpaw8noyremrYtur0Iz93xp1geS6VSI4t5w5jgHR1CEUcL9Ia4BIl3CIMkxR3WXPrSGAt9jVitTmmCGGO9swTN4Hxey4iNNsEhkp8LDG949kRhN1ly00RH+p+rUP+FdVxwZ7e06rIV1c/8MGoJi4Z+7oyi+WnfIP+QIwxoNa60dzshI9Ep9d0p6bIR6eBKbNkfooWmp87mpOyN5QPupwF4q1KgS+LbFTeY/zZK6yP7tj+T2rbE3WI8MhnIviArGLs9DjZm20MwZTWvg==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="webstormä¸“ç”¨"><a class="markdownIt-Anchor" href="#webstormä¸“ç”¨">#</a> <strong>Webstorm ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QA01VSISIH-eyJsaWNlbnNlSWQiOiJRQTAxVlNJU0lIIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IldTIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUFNJIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQQ1dNUCIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFdTIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfV0sIm1ldGFkYXRhIjoiMDEyMDIyMDgwMVBTQU4wMDAwMDUiLCJoYXNoIjoiVFJJQUw6MTg0ODI4OTEzMCIsImdyYWNlUGVyaW9kRGF5cyI6NywiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-PqVYTlv/yp1AaLCz/i/e//sf0n6LD6uvJTy7/jl9F2A3RJjjMvWCDeCx8tK8PZep5I+GosApeiQdzkv7aG/TfjJRiHzdF0PgJaATxwaf9hDQx7fWT2zALtrOqT89C0Qe/OsLKM9mSFm9y5ul4JW7MQSfCDMtm8B8fUQ5ZFu0nB3XcI4YnMPDjKGaifDUdY2B0u7k29CQ4JLnYxC8HL4644GG+T8F+mNkOoDDNTSE8LmcEKWXYKPzD+YEJ5flLyHc5OVtYDPF2MQ/wsbwMVf7l1O22pkr8jKdyHLzbtaeIXojlOI8fvqnXSSetFmdMa/eRC0kHHf42BZ7VQ8etd599g==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="datagripä¸“ç”¨"><a class="markdownIt-Anchor" href="#datagripä¸“ç”¨">#</a> <strong>DataGrip ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FJVUHLU3X1-eyJsaWNlbnNlSWQiOiJGSlZVSExVM1gxIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBEQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiREIiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQU0kiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBXUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX1dLCJtZXRhZGF0YSI6IjAxMjAyMjA4MDFQU0FOMDAwMDA1IiwiaGFzaCI6IlRSSUFMOi0yNDc1NjQ2MTIiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0=-IWA8NqxA1nOvfTGTVFX4PNAWRswj0hTsqntqWZcqcYFz/zIobEAYmHm0Lks82E0mPcNCzt0LPW6BfUZCI8f4r5E1nsonNS40bDv44qAcjBmQaLf5XxZLyoKRzl7YacDuqql+NY3tInFBX8Q4PQu56aVsS6DOZmeoO4fC66Qtwg2z+A+kvVpSlB3+1Fqww7SHZMuQbLlEOVSHqO2tf4bJVTIMH/OSMph5CpY4uJ8iv7yeBX+WQpcOy4tv1AZNEY9tIKI8nRVbnVnZaAf5R2ng1AduGCVSOaU1/ElLPReBvXTG6gZHtjKDHlAy2kq6JIH/CCeG/3ZkDLB0GzB29aSgHA==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="golandä¸“ç”¨"><a class="markdownIt-Anchor" href="#golandä¸“ç”¨">#</a> <strong>GoLand ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PSUYBOSE34-eyJsaWNlbnNlSWQiOiJQU1VZQk9TRTM0IiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkdPIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUEdPIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDotNTIzMzE4Njc5IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-JWZKP0AJWKSXcl1Ep6poGhauD7GlLMbPVMompa2zVsDzjP2L82BvMo0RZTPYcGiLnP7YL7kHUNFrn2wJiNlXVwp9AnXUvVTspDqhf5MwZ/W0Aug0HpJB0BVSPM7KRL41wyN2DHGyvRJ/w4/s057IQEZWUUy2HUUM1E48WqezS7HlKQBVrrD+IFjHE2Xv4xaPt/KBFXTn+MwWBiYcKsIdDurNKjHdRwo/Gl0umRc8/CFMYK6nrgoWA13PAgHMZioQPc4DK2aVCbCDECpTGoMIsKl2jZJei+wPfOf9Ud9i0/95YEyoK8/XnkUBzsm19quFegTEVp3HhT/EMheCuvMmeQ==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="phpstormä¸“ç”¨"><a class="markdownIt-Anchor" href="#phpstormä¸“ç”¨">#</a> <strong>PhpStorm ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZEW8I0GZC6-eyJsaWNlbnNlSWQiOiJaRVc4STBHWkM2IiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBTIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUFBTIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDo5NzM1MDQ0MzkiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0=-UVh/hXrqvTl8syZGee3sWsipAUdbN7XBg2XpFkSNh+oGBGzwvsj2k5A3v2LGO6+46rDU/HdG14jHYnT1iDMum5K5I7aCVYOIcJcmSAViwNDLqvTcOjMOdDZ4XS3aDg/KeaX5PozDa+H/KgHdGL07nKCBuhopAesiGXZC0RYerwCnYX1DjG9b/02igSyCuIYfsCO8d3GL+/ESz+sI8FiXmyZB7N413SJDGnp9klF51Kz469YzWZNEIXp9zg3Wu/Vsq8zlW9mGCFmsyiu0btTkS5PZfxp5BebH8Ef5SvPP7SyLJ2Q0FqeCJ9ESXp6aNBW8lmTVY+R0ZpqgsBOwbkq2xg==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="riderä¸“ç”¨"><a class="markdownIt-Anchor" href="#riderä¸“ç”¨">#</a> <strong>Rider ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BZPI62LS1G-eyJsaWNlbnNlSWQiOiJCWlBJNjJMUzFHIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlJEIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUERCIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQU0kiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBXUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX1dLCJtZXRhZGF0YSI6IjAxMjAyMjA4MDFQU0FOMDAwMDA1IiwiaGFzaCI6IlRSSUFMOjQyNzgxMDUyNCIsImdyYWNlUGVyaW9kRGF5cyI6NywiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-UKWNg2MnWS+FD5dcOs1tir8BY/JFKGs53MiZa661VbcoBmRv+hY8hHmr71Cq1r8QMSgwL7tBEN2Bs8jSB0L1bZiNARXCIYS4IgsCL9fvg42XBOFva96qgKh3ho0PBe/xPuMabl7QLBT9E1ezzNnkZZJpq12957UZv+nWGCKgLt46WLotxxfMB/nFxgGB9uU1uXyEW84gStBYnLRv7d3Zvfdo0ANFbPmCUIpQlRqQ91TIJtYdj9l2ZbhkfVP30S3FOi0sYRnjR6Sqg0yHnFHqLGr1jG/wKEFusZPkr1bHWQsSTL/JI/sXHDQikvMcChFiN3HI1UeXleiKOwbhg00pBw==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="clionä¸“ç”¨"><a class="markdownIt-Anchor" href="#clionä¸“ç”¨">#</a> <strong>CLion ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CFUC0974F2-eyJsaWNlbnNlSWQiOiJDRlVDMDk3NEYyIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkNMIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUFNXIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDotMjA0MTkyNDM5OCIsImdyYWNlUGVyaW9kRGF5cyI6NywiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-f1foDndTa2abGqyTmiIMxYSRjoC16NxuD7QhoiOm0bzrHbqIuAXw7zsWC3U9RjqgWi/bj/8fjDpjywAFktScyATpClNXMzoR/nPJaY+J0iU+0ivubS9VERrIYL8O6WOT8PvNoqcdJ+MIK6jKY519y3VcUAd0N47ZKkpmzAOd9moR+j5ma3U8yuJno0oNtsAES7Lp3tzdMlhD7yn105jafY65bRPD8ezoc1c0GkFfsZ/1P3XPxoWeiS70wCSG32xNmcWygCROs3mnlDoamIv+K76G+jLlrR9csS/+vxWYaThfLKIvpwCDUX7xzdnXx8raXkr7c78ZshsNUQZuOgE8ww==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="appcodeä¸“ç”¨"><a class="markdownIt-Anchor" href="#appcodeä¸“ç”¨">#</a> <strong>AppCode ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VKZAU5B43Y-eyJsaWNlbnNlSWQiOiJWS1pBVTVCNDNZIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkFDIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjpmYWxzZX0seyJjb2RlIjoiUFNXIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDo4MjMzNzExNjIiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0=-RrHOvDeSwoPjgraFAh3zGXDfoJ1hXOrZJroE/sKj/96CimH7YlD0An0lUEGvSEsovDprHWDZ4q2Wq11vukassv+avD1JHuurWhjp1mpIOvOntp2VHbBV9+iUxsr5ET+zJaIl0WiaRd6n75LeU4ZhxT4y6Da7cLbrqEawH+zjUuHzs60mUaqZ/5+j3qfVlwnx+iwPPu3dFtXWvADmcV/nb2jwnrJcLx9HMGVbS3yrgNoXhqXI+YRsYdNwYXbF7yVseGoxjKHQDBWTd3dAjWES/iC0s8xzLD7VXGkd3gIDJ0cc8cgzmCUr3E/QABzU1CdpqY0hyCedCvb9IOwfmTH+ug==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="rubymineä¸“ç”¨"><a class="markdownIt-Anchor" href="#rubymineä¸“ç”¨">#</a> <strong>RubyMine ä¸“ç”¨</strong></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EZK4R5UGRP-eyJsaWNlbnNlSWQiOiJFWks0UjVVR1JQIiwibGljZW5zZWVOYW1lIjoia2lkZHkgaW5zZWFtcyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBSQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUk0iLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjIwODAxUFNBTjAwMDAwNSIsImhhc2giOiJUUklBTDoxOTE2MTQ0NDI2IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-Bc16m/sJ8qqPmC6hBp93iF6Y3vU9CgV5PhPpWDM3p5qEu3oM/BnP3TuTK4uxuaXo16JJF5N0RhV1n4Od7mq83La246o9e2tzTBEwniF19U3zUgOHk9arYIluefGJODHrY07uYfFJzF+i5XXZ7fVOVz1IjWtcU5Mdet/48gh2RVMRPvIi5JHZi1dRawzBKUwTzOeBGvs2GRSqWphxxc5uUqmOhQiIcNK3IBcZS8gANY0XaFmF6gkglNl7g1fPP9nZ79MWWlvDuqlXmVMCiS2OFiMNfAsJ8fjIWiY32r3PlnV/ES356fwYnVDw9ATvRZL05VaRKrLSfKuq8E/ewiRGxA==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.685Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-12-24T10:40:32.000Z" title="2022/12/24 18:40:32">2022-12-24</time>æ›´æ–°</span><span class="level-item">29 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4303ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90Java%E3%80%91JVM%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AC%94%E8%AE%B0/">JVMå­¦ä¹ è®°å½•</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h4 id="jvmä½ç½®åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿåœ¨ç¡¬ä»¶ä¹‹ä¸Šè¿è¡Œ"><a class="markdownIt-Anchor" href="#jvmä½ç½®åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿåœ¨ç¡¬ä»¶ä¹‹ä¸Šè¿è¡Œ">#</a> JVM ä½ç½®ï¼šåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šè¿è¡Œï¼Œæ“ä½œç³»ç»Ÿåœ¨ç¡¬ä»¶ä¹‹ä¸Šè¿è¡Œ</h4>
<p>JDKï¼ˆJREï¼ˆJVMï¼‰ï¼‰: JDK åŒ…å«äº† JREï¼ŒJRE åŒ…å«äº† JVM</p>
<h4 id="jvmä½“ç³»ç»“æ„"><a class="markdownIt-Anchor" href="#jvmä½“ç³»ç»“æ„">#</a> JVM ä½“ç³»ç»“æ„ï¼š</h4>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/JVM%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84%E7%94%BB%E5%9B%BE%EF%BC%88%E7%B2%BE%E7%BB%86%EF%BC%89.jpg" alt="JVMåº•å±‚ç»“æ„ç”»å›¾ï¼ˆç²¾ç»†ï¼‰"></p>
<p>Java File</p>
<p>=&gt; Class File</p>
<p>=&gt; Class Loader SubSystem {</p>
<p>1 . Loading : [1 . ApplicationClassLoader   2 . ExtClassLoader  3 . BootStrapClassLoader]</p>
<p>2 . Linking : [1. Verify  2.Prepare  3. Resolve ]</p>
<p>3 . Initialization</p>
<p>}</p>
<p>=&gt; RuntimeData Areas ï¼š(1,2) : Memory sharingï¼Œ(3,4,5) : Memory is not shared{</p>
<p>1 . Method Area</p>
<p>2 . Heap Area </p>
<p>3 . Stack Area   {</p>
<p>T1 [1. Thread  2. Stack Frame ]</p>
<p>T2 [1. Thread  2. Stack Frame ]</p>
<p>}</p>
<p>4 . Native MethodStack Area    --&gt; JNI</p>
<p>5 . Program Counter Register [PC Registers for Thread]</p>
<p>}</p>
<p>=&gt; Execution Engine {</p>
<p>1 . interpreter</p>
<p>2 . JIT Compiler  {</p>
<p>Intermediate Code Generator</p>
<p>=&gt; Code Optimizer</p>
<p>=&gt; Target Code Generator</p>
<p>}</p>
<p>3 . Profiler</p>
<p>4 . Garbage Collection</p>
<p>}</p>
<p>=&gt; Java Native Method Interface ï¼ˆJNIï¼‰</p>
<p>=&gt; Native Method Library</p>
<h4 id="ç±»åŠ è½½å™¨-classloader-subsystem-ç±»åŠ è½½å™¨å­ç³»ç»Ÿ-è¿è¡Œæ—¶åœ¨å †ä¸­è¿è¡Œ-ä¸è¿è¡Œæ—¶æ˜¯ç‹¬ç«‹å­ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ç±»åŠ è½½å™¨-classloader-subsystem-ç±»åŠ è½½å™¨å­ç³»ç»Ÿ-è¿è¡Œæ—¶åœ¨å †ä¸­è¿è¡Œ-ä¸è¿è¡Œæ—¶æ˜¯ç‹¬ç«‹å­ç³»ç»Ÿ">#</a> ç±»åŠ è½½å™¨ï¼š ClassLoader SubSystem : ç±»åŠ è½½å™¨å­ç³»ç»Ÿ è¿è¡Œæ—¶åœ¨å †ä¸­è¿è¡Œ ä¸è¿è¡Œæ—¶æ˜¯ç‹¬ç«‹å­ç³»ç»Ÿ</h4>
<p>application ClassLoader åº”ç”¨ç¨‹åºåŠ è½½å™¨  ä¸»è¦è´Ÿè´£åŠ è½½åº”ç”¨ç¨‹åºçš„ä¸»å‡½æ•°ç±»</p>
<p>Ext ClassLoader æ‰©å±•åŠ è½½å™¨  ä¸»è¦è´Ÿè´£åŠ è½½ jre/lib/ext ç›®å½•ä¸‹çš„ä¸€äº›æ‰©å±•çš„ jarã€‚</p>
<p>BootStrap ClassLoader æ ¹ç±»åŠ è½½å™¨  ä¸»è¦è´Ÿè´£åŠ è½½æ ¸å¿ƒçš„ç±»åº“ (java.lang.* ç­‰)</p>
<p>åŠ è½½è¿‡ç¨‹ï¼šclass File =&gt; Loading åŠ è½½ =&gt; Linking ï¼ˆéªŒè¯ï¼Œå‡†å¤‡ï¼Œè§£æï¼‰ é“¾æ¥ =&gt; Initialization åˆå§‹åŒ–</p>
<h4 id="åŒäº²å§”æ´¾æœºåˆ¶"><a class="markdownIt-Anchor" href="#åŒäº²å§”æ´¾æœºåˆ¶">#</a> åŒäº²å§”æ´¾æœºåˆ¶</h4>
<p><img src="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å°±æ›´å®¹æ˜“ç†è§£äº†ï¼Œå½“ä¸€ä¸ª Hello.class è¿™æ ·çš„æ–‡ä»¶è¦è¢«åŠ è½½æ—¶ã€‚ä¸è€ƒè™‘æˆ‘ä»¬è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œé¦–å…ˆä¼šåœ¨ AppClassLoader ä¸­æ£€æŸ¥æ˜¯å¦åŠ è½½è¿‡ï¼Œå¦‚æœæœ‰é‚£å°±æ— éœ€å†åŠ è½½äº†ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šæ‹¿åˆ°çˆ¶åŠ è½½å™¨ï¼Œç„¶åè°ƒç”¨çˆ¶åŠ è½½å™¨çš„ loadClass æ–¹æ³•ã€‚çˆ¶ç±»ä¸­åŒç†ä¹Ÿä¼šå…ˆæ£€æŸ¥è‡ªå·±æ˜¯å¦å·²ç»åŠ è½½è¿‡ï¼Œå¦‚æœæ²¡æœ‰å†å¾€ä¸Šã€‚æ³¨æ„è¿™ä¸ªç±»ä¼¼é€’å½’çš„è¿‡ç¨‹ï¼Œç›´åˆ°åˆ°è¾¾ Bootstrap classLoader ä¹‹å‰ï¼Œéƒ½æ˜¯åœ¨æ£€æŸ¥æ˜¯å¦åŠ è½½è¿‡ï¼Œå¹¶ä¸ä¼šé€‰æ‹©è‡ªå·±å»åŠ è½½ã€‚ç›´åˆ° BootstrapClassLoaderï¼Œå·²ç»æ²¡æœ‰çˆ¶åŠ è½½å™¨äº†ï¼Œè¿™æ—¶å€™å¼€å§‹è€ƒè™‘è‡ªå·±æ˜¯å¦èƒ½åŠ è½½äº†ï¼Œå¦‚æœè‡ªå·±æ— æ³•åŠ è½½ï¼Œä¼šä¸‹æ²‰åˆ°å­åŠ è½½å™¨å»åŠ è½½ï¼Œä¸€ç›´åˆ°æœ€åº•å±‚ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•åŠ è½½å™¨èƒ½åŠ è½½ï¼Œå°±ä¼šæŠ›å‡º ClassNotFoundExceptionã€‚é‚£ä¹ˆæœ‰äººå°±æœ‰ä¸‹é¢è¿™ç§ç–‘é—®äº†ï¼Ÿ</p>
<p>ä¸ºä»€ä¹ˆè¦è®¾è®¡è¿™ç§æœºåˆ¶<br>
è¿™ç§è®¾è®¡æœ‰ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœæœ‰äººæƒ³æ›¿æ¢ç³»ç»Ÿçº§åˆ«çš„ç±»ï¼šString.javaã€‚ç¯¡æ”¹å®ƒçš„å®ç°ï¼Œåœ¨è¿™ç§æœºåˆ¶ä¸‹è¿™äº›ç³»ç»Ÿçš„ç±»å·²ç»è¢« Bootstrap classLoader åŠ è½½è¿‡äº†ï¼ˆä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå½“ä¸€ä¸ªç±»éœ€è¦åŠ è½½çš„æ—¶å€™ï¼Œæœ€å…ˆå»å°è¯•åŠ è½½çš„å°±æ˜¯ BootstrapClassLoaderï¼‰ï¼Œæ‰€ä»¥å…¶ä»–ç±»åŠ è½½å™¨å¹¶æ²¡æœ‰æœºä¼šå†å»åŠ è½½ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢äº†å±é™©ä»£ç çš„æ¤å…¥ã€‚</p>
<p>æ²™ç®±å®‰å…¨æœºåˆ¶</p>
<p>åœ¨ Java ä¸­å°†æ‰§è¡Œç¨‹åºåˆ†æˆæœ¬åœ°ä»£ç å’Œè¿œç¨‹ä»£ç ä¸¤ç§ï¼Œæœ¬åœ°ä»£ç é»˜è®¤è§†ä¸ºå¯ä¿¡ä»»çš„ï¼Œè€Œè¿œç¨‹ä»£ç åˆ™è¢«çœ‹ä½œæ˜¯ä¸å—ä¿¡çš„ã€‚å¯¹äºæˆä¿¡çš„æœ¬åœ°ä»£ç ï¼Œå¯ä»¥è®¿é—®ä¸€åˆ‡æœ¬åœ°èµ„æºã€‚è€Œå¯¹äºéæˆä¿¡çš„è¿œç¨‹ä»£ç åœ¨æ—©æœŸçš„ Java å®ç°ä¸­ï¼Œå®‰å…¨ä¾èµ–äºæ²™ç®± (Sandbox) æœºåˆ¶ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200312212803678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDkyNzQzNg==,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>å½“å‰æœ€æ–°çš„å®‰å…¨æœºåˆ¶å®ç°ï¼Œåˆ™å¼•å…¥äº†åŸŸ (Domain) çš„æ¦‚å¿µã€‚è™šæ‹Ÿæœºä¼šæŠŠæ‰€æœ‰ä»£ç åŠ è½½åˆ°ä¸åŒçš„ç³»ç»ŸåŸŸå’Œåº”ç”¨åŸŸï¼Œç³»ç»ŸåŸŸéƒ¨åˆ†ä¸“é—¨è´Ÿè´£ä¸å…³é”®èµ„æºè¿›è¡Œäº¤äº’ï¼Œè€Œå„ä¸ªåº”ç”¨åŸŸéƒ¨åˆ†åˆ™é€šè¿‡ç³»ç»ŸåŸŸçš„éƒ¨åˆ†ä»£ç†æ¥å¯¹å„ç§éœ€è¦çš„èµ„æºè¿›è¡Œè®¿é—®ã€‚è™šæ‹Ÿæœºä¸­ä¸åŒçš„å—ä¿æŠ¤åŸŸ (Protected Domain)ï¼Œå¯¹åº”ä¸ä¸€æ ·çš„æƒé™ (Permission)ã€‚å­˜åœ¨äºä¸åŒåŸŸä¸­çš„ç±»æ–‡ä»¶å°±å…·æœ‰äº†å½“å‰åŸŸçš„å…¨éƒ¨æƒé™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<h4 id="native"><a class="markdownIt-Anchor" href="#native">#</a> Native</h4>
<p><strong>native å³ JNI,Java Native Interface</strong></p>
<p>Native å…³é”®å­—æ˜¯  JNIï¼Œä¹Ÿå°±æ˜¯ java æœ¬åœ°æ–¹æ³•æ¥å£ï¼Œç”¨æ¥è°ƒç”¨æœ¬åœ°æ–¹æ³•åº“ï¼Œå¯ä»¥è°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸­çš„ C è¯­è¨€ä»£ç </p>
<h4 id="pcå¯„å­˜å™¨"><a class="markdownIt-Anchor" href="#pcå¯„å­˜å™¨">#</a> PC å¯„å­˜å™¨</h4>
<p>æ¯æ¬¡çº¿ç¨‹å¯åŠ¨çš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ª PC å¯„å­˜å™¨ï¼Œä¿å­˜æ­£åœ¨æ‰§è¡Œçš„ JVM æŒ‡ä»¤åœ°å€ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ PC å¯„å­˜å™¨ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œæ˜¯ä¸ºä¸€ä¸ªä¸€ä¸ªä¸ä¼šå‡ºç° OutOfMemoryError çš„å†…å­˜åŒºåŸŸï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œæ­»äº¡ã€‚</p>
<h4 id="æ–¹æ³•åŒº"><a class="markdownIt-Anchor" href="#æ–¹æ³•åŒº">#</a> æ–¹æ³•åŒº</h4>
<p>Hotspot è™šæ‹Ÿæœºï¼Œæ–¹æ³•åŒºåˆ«ç§°ï¼šnon-heapï¼ˆéå †ï¼‰ï¼Œå…¶å®å°±æ˜¯å­˜å‚¨å †ç±»å‹çš„æ•°æ®ï¼Œè€Œä¸å æ®å †å†…å­˜çš„ç©ºé—´</p>
<p>æ–¹æ³•åŒºå’Œå †åŒºçº¿ç¨‹å…±äº«ï¼Œæ–¹æ³•åŒºå¤§å°å’Œå †ä¸€æ ·ï¼Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°æˆ–è€…æ‹“å±•</p>
<p>æ–¹æ³•åŒºå¤§å°å†³å®šäº†ç³»ç»Ÿå¯ä»¥ä¿å­˜å¤šå°‘ä¸ªç±»ï¼Œå¦‚æœç³»ç»Ÿå®šä¹‰äº†å¤ªå¤šçš„ç±»ï¼Œå¯¼è‡´æ–¹æ³•åŒºæº¢å‡ºï¼Œè™šæ‹ŸæœºåŒæ ·ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºé”™è¯¯ã€‚</p>
<p>å…³é—­ JVM å°±ä¼šé‡Šæ”¾è¿™ä¸ªåŒºåŸŸçš„å†…å­˜</p>
<p>è®¾ç½®æ–¹æ³•åŒºçš„å†…å­˜å¤§å°ï¼š</p>
<h4 id="jdk17-ä¹‹å‰"><a class="markdownIt-Anchor" href="#jdk17-ä¹‹å‰">#</a> JDK1.7 ä¹‹å‰ï¼š</h4>
<p><strong>-XXï¼šPermSize è®¾ç½®æ°¸ä¹…ä»£åˆå§‹åˆ†é…ç©ºé—´  é»˜è®¤æ˜¯ 20.75m</strong></p>
<p><strong>-XXï¼šMaxPermSize è®¾ç½®æœ€å¤§æ°¸ä¹…ä»£åˆ†é…ç©ºé—´ï¼Œ32 ä½æœºå™¨é»˜è®¤ 64mï¼Œ64 ä½æœºå™¨é»˜è®¤ 82m</strong></p>
<h4 id="jdk18-åŠä»¥åæ°¸ä¹…ä»£è¢«å…ƒç©ºé—´ä»£æ›¿metaspace"><a class="markdownIt-Anchor" href="#jdk18-åŠä»¥åæ°¸ä¹…ä»£è¢«å…ƒç©ºé—´ä»£æ›¿metaspace">#</a> JDK1.8 åŠä»¥åï¼šæ°¸ä¹…ä»£è¢«å…ƒç©ºé—´ä»£æ›¿ï¼ˆMetaSpaceï¼‰</h4>
<p>å…ƒç©ºé—´å¤§å°å¯ä»¥ç”¨å‚æ•°ï¼š-XX:MetaspaceSzie å’Œ -XX:MaxMetaspaceSize æŒ‡å®š</p>
<p>-XX:MetaspaceSzie é»˜è®¤ 21.75m -XX:MaxMetaspaceSize é»˜è®¤ - 1 æ²¡æœ‰é™åˆ¶</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè™šæ‹Ÿæœºä¼šè€—å°½æ‰€æœ‰å¯ç”¨çš„ç³»ç»Ÿå†…å­˜ï¼Œå¦‚æœå…ƒç©ºé—´å‘ç”Ÿæº¢å‡ºï¼Œè™šæ‹Ÿæœºç…§æ ·ä¼šæŠ›å‡º OOM</p>
<p>å¦‚æœåˆå§‹é«˜ä½çº¿è®¾ç½®è¿‡ä½ï¼Œé€šè¿‡åƒåœ¾å›æ”¶å™¨æ—¥å¿—å¯ä»¥è§‚å¯Ÿåˆ° Full GC å¤šæ¬¡è°ƒç”¨ï¼Œä¸ºäº†é¿å…é¢‘ç¹ GCï¼Œ</p>
<p>å»ºè®®å°† - XX:MetaspaceSize è®¾ç½®ä¸ºä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„å€¼ã€‚</p>
<h4 id="æ ˆæ•°æ®ç»“æ„"><a class="markdownIt-Anchor" href="#æ ˆæ•°æ®ç»“æ„">#</a> æ ˆï¼šæ•°æ®ç»“æ„</h4>
<p>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•</p>
<p>å…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡º</p>
<p>æ ˆæ˜¯æ¡¶çš„æ¦‚å¿µï¼šå…ˆè¿›å»çš„åå‡ºæ¥ï¼Œåè¿›å»çš„å…ˆå‡ºæ¥</p>
<p>æ ˆæœ‰å‹æ ˆã€å¼¹æ ˆ</p>
<p>é˜Ÿåˆ—æ˜¯ç®¡é“æ¦‚å¿µï¼šå…ˆè¿›å…ˆå‡º (F I F O) ï¼Œåè¿›åå‡º First Input First Out</p>
<p>å–å¤šäº†åå°±æ˜¯æ ˆï¼Œåƒå¤šäº†æ‹‰å°±æ˜¯é˜Ÿåˆ—</p>
<p>æ ˆï¼šä¸»ç®¡ç¨‹åºè¿è¡Œï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹åŒæ­¥ï¼›</p>
<p>main ä¸»çº¿ç¨‹ç»“æŸï¼Œæ ˆå†…å­˜ä¹Ÿå°±é‡Šæ”¾äº†ï¼Œå¯¹äºæ ˆæ¥è¯´ï¼Œä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜ï¼Œä¸€æ—¦çº¿ç¨‹ç»“æŸï¼Œæ ˆå°± Over äº†ã€‚</p>
<p>æ ˆå­˜ä»€ä¹ˆä¸œè¥¿ï¼š</p>
<p>å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹ + å¯¹è±¡çš„å¼•ç”¨åœ°å€ + å®ä¾‹æ–¹æ³•</p>
<p>æ ˆè¿è¡ŒåŸç†ï¼šæ ˆå¸§ï¼šæ–¹æ³•ç´¢å¼•ï¼Œè¾“å…¥è¾“å‡ºå‚æ•°ï¼Œæœ¬åœ°å˜é‡ï¼Œç±»å¼•ç”¨ï¼Œçˆ¶å¸§ï¼Œå­å¸§</p>
<p>æ ˆæ»¡äº†å°±ä¼šæŠ›å‡ºé”™è¯¯ Errorï¼šStackOverflowError æ ˆæº¢å‡º</p>
<h3 id="å †heap"><a class="markdownIt-Anchor" href="#å †heap">#</a> å †ï¼šHeap</h3>
<p>â€‹		ä¸€ä¸ª JVM åªæœ‰ä¸€ä¸ªå †å†…å­˜ï¼Œå †å†…å­˜å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚</p>
<p>â€‹		ç±»åŠ è½½å™¨è¯»å–çš„ç±»æ–‡ä»¶åï¼Œä¸€èˆ¬ä¼šæŠŠï¼šç±»ï¼Œæ–¹æ³•ï¼Œå¸¸é‡ï¼Œå˜é‡ï¼Œå¼•ç”¨ç±»å‹çš„çœŸå®å¯¹è±¡æ”¾åˆ°å †ä¸­ã€‚</p>
<p>â€‹		å †å†…å­˜è¿˜è¦ç»†åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š{</p>
<p>æ–°ç”Ÿä»£ï¼šEden Spaceï¼š</p>
<p>Survior0 åŒºå’Œ Survior1 åŒºï¼šå¹¸å­˜è€… 0/1 åŒº</p>
<p>ç»è¿‡æ–°ç”Ÿä»£çš„è½» GC 15 æ¬¡çš„è€ƒéªŒè¿›å…¥è€å¹´ä»£ã€‚</p>
<p>è€å¹´ä»£ï¼šé‡é‡çº§ Full GC åƒåœ¾å›æ”¶</p>
<p>æ°¸ä¹…ä»£ï¼šï¼ˆ1.8 ç§»é™¤ï¼‰</p>
<p>GC åƒåœ¾å›æ”¶é›†ä¸­åœ¨æ–°ç”Ÿä»£å’Œè€å¹´ä»£æ‰§è¡Œã€‚</p>
<p>å‡è®¾å†…å­˜æ»¡äº†ï¼Œçˆ†å‡º OOMï¼Œå †å†…å­˜æº¢å‡ºã€‚</p>
<p>å†…å­˜æº¢å‡ºä»£ç æ€ä¹ˆå†™ï¼š</p>
<p>åˆ©ç”¨ while å¾ªç¯ä¸€ä¸ªå­—ç¬¦ä¸²æ— é™ += éšæœºæ•°</p>
<p>JDK8 ä»¥åï¼Œæ°¸ä¹…ä»£è¢«ç§»é™¤ï¼Œæ›´åä¸ºå…ƒç©ºé—´ï¼šMetaSpace</p>
<p>}</p>
<h4 id="è¯¦è§£"><a class="markdownIt-Anchor" href="#è¯¦è§£">#</a> è¯¦è§£ï¼š</h4>
<h5 id="æ–°ç”Ÿä»£"><a class="markdownIt-Anchor" href="#æ–°ç”Ÿä»£">#</a> æ–°ç”Ÿä»£ï¼š</h5>
<p>â€‹	ç±»ï¼šè¯ç”Ÿæˆé•¿çš„åœ°æ–¹ï¼Œä¹Ÿå¯èƒ½ç±»æ­»äº¡çš„åœ°æ–¹</p>
<p>â€‹	Eden åŒºã€å¹¸å­˜è€… 0 å’Œ 1 åŒºï¼Œ</p>
<p>â€‹	æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åœ¨ Eden åŒº new å‡ºæ¥çš„</p>
<p>â€‹	Eden åŒºæ²¡æ­»äº¡çš„å¯¹è±¡åœ¨å¹¸å­˜è€…åŒºå­˜æ´»</p>
<p>â€‹	å¦‚æœ Eden åŒºå­˜å‚¨è§¦å‘äº†è½» GC å›æ”¶æœºåˆ¶ï¼Œå°±ä¼šå¯¹ Eden åŒºè¿›è¡Œæ¸…é™¤ï¼Œå­˜æ´»ä¸‹æ¥å¯¹è±¡åœ¨å¹¸å­˜åŒºï¼Œæ¸…é™¤çš„å¯¹è±¡ä¼šæ¶ˆå¤±ã€‚å½“ Eden åŒºå’Œå¹¸å­˜è€…åŒºéƒ½æ»¡äº†ä¹‹åä¼šæ‰§è¡Œä¸€æ¬¡ Full GCï¼Œå†æ¬¡å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ä¼šè¿›å…¥è€å¹´ä»£ã€‚</p>
<p>Tipsï¼šæ–°ç”Ÿä»£ 99% éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡ï¼ï¼Œèƒ½è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡å¹¶ä¸å¤šã€‚æ‰€ä»¥å¹³æ—¶å¾ˆå°‘è§åˆ° OOM çš„é”™è¯¯</p>
<h5 id="è€å¹´ä»£"><a class="markdownIt-Anchor" href="#è€å¹´ä»£">#</a> è€å¹´ä»£ï¼š</h5>
<p>æ¯æ¬¡å‘ç”Ÿè½» GC ä¼šå¯¹æ–°ç”Ÿä»£è¿›è¡Œå¯¹è±¡æ¸…ç†ï¼Œå½“æ–°ç”Ÿä»£å’Œå¹¸å­˜åŒºçš„å¯¹è±¡åœ¨è½» GC æ¸…é™¤ä¸‹å­˜æ´» 15 æ¬¡ä¹‹åï¼Œè¿›å…¥è€å¹´ä»£</p>
<p>æ°¸ä¹…ä»£ï¼šç”¨æ¥å­˜æ”¾ jdk è‡ªèº«æºå¸¦çš„ calss å¯¹è±¡ï¼Œinterface å…ƒæ•°æ®ï¼Œå­˜å‚¨çš„æ˜¯è¿è¡Œçš„ä¸€äº›æ—¶ç¯å¢ƒï¼Œæ°¸ä¹…ä»£ä¸å­˜åœ¨åƒåœ¾å›æ”¶ï¼Œå…³é—­ JJVM è™šæ‹Ÿæœºå°±ä¼šé‡Šæ”¾æ°¸ä¹…ä»£å†…å­˜ã€‚</p>
<p>å‡è®¾ä¸€ä¸ªå¯åŠ¨ç±»ï¼ŒåŠ è½½äº†å¤§é‡çš„ç¬¬ä¸‰æ–¹ jar åŒ…ï¼Œæˆ–è€…ä¸€ä¸ª tomcat éƒ¨ç½²äº†å¤ªå¤šåº”ç”¨ï¼Œæˆ–è€…å¤§é‡åŠ¨æ€ç”Ÿæˆçš„åå°„ç±»ï¼Œå¦‚æœä¸æ–­çš„åŠ è½½ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ°¸ä¹…ä»£å†…å­˜æº¢å‡ºã€‚</p>
<p>jdk1.6 ä¹‹å‰ï¼šæ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± å­˜åœ¨äºæ–¹æ³•åŒºä¸­</p>
<p>jdk1.7ï¼šå»æ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± åœ¨å †ä¸­</p>
<p>jdk1.8ï¼šæ— æ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± åœ¨å…ƒç©ºé—´ä¸­</p>
<p><strong>å…ƒç©ºé—´ï¼š</strong></p>
<p>ï¼ˆæ–¹æ³•åŒºï¼‰ï¼šéå †</p>
<p>éå †æŒ‡çš„æ˜¯ç©ºé—´ä¸Šï¼Œä¸å±äºå †ç©ºé—´ï¼›ä½†æ˜¯ç”±äºå­˜å‚¨çš„å†…å®¹ï¼Œç‰¹æ€§ä¸Šåˆè¢«ç§°ä¸ºå †</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼šè™šæ‹Ÿæœºè¢«åˆ†é…åˆ°çš„æ€»å†…å­˜æ˜¯ç”µè„‘å†…å­˜çš„ 1/4 ï¼Œè€Œåˆå§‹åŒ–çš„å†…å­˜åªæœ‰ 1/64</p>
<p>å› ä¸ºä¸å †å…±äº«å†…å­˜ï¼Œé€»è¾‘ä¸Šå­˜åœ¨ï¼Œç‰©ç†ä¸Šä¸å­˜åœ¨</p>
<p><img src="https://xysaobi.oss-cn-beijing.aliyuncs.com/img/image-20210908225948384.png" alt="image-20210908225948384"></p>
<p><img src="https://xysaobi.oss-cn-beijing.aliyuncs.com/img/image-20210908230652551.png" alt="image-20210908230652551"></p>
<p>dump æ–‡ä»¶ï½Jprofiler æ’ä»¶</p>
<p>-Xms : åˆå§‹åŒ–å†…å­˜</p>
<p>-Xmx : æœ€å¤§å†…å­˜</p>
<p>-XX:+PrintGCDetails  æ‰“å° GC å›æ”¶çš„è¯¦ç»†ä¿¡æ¯</p>
<p>-XX:+HeapDumpOnOutOfMemoryError å‘ç”Ÿ OOM å¼‚å¸¸æ‰“å° dump å†…å­˜å¿«ç…§</p>
<p>-XX:MaxTenuringReshlod è®¾ç½®æœ€å¤§å­˜æ´»æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 15 æ¬¡</p>
<p>GCï¼šåƒåœ¾å›æ”¶</p>
<p>JVM åœ¨è¿›è¡Œ GC æ—¶ï¼šå¤§éƒ¨åˆ†å›æ”¶éƒ½åœ¨æ–°ç”Ÿä»£ï¼Œå¹¶ä¸æ˜¯ä¸‰ä¸ªåŒºéƒ½å›æ”¶</p>
<p>æ–°ç”Ÿä»£</p>
<p>å¹¸å­˜åŒºï¼ˆformã€toï¼‰Survior0ã€Survior1 åŒº</p>
<p>è€å¹´ä»£</p>
<p>GC ä¸¤ä¸ªç§ç±»ï¼šè½» GCï¼ˆGCï¼‰ã€é‡ GCï¼ˆFull GCï¼‰</p>
<p>è½» GC å¯¹æ–°ç”Ÿä»£å’Œå¹¸å­˜åŒºè¿›è¡Œå›æ”¶</p>
<p>é‡ GC è¿›è¡Œå…¨å±€å›æ”¶</p>
<p>å¦‚ä½•åŒºåˆ† from å’Œ to åŒºï¼šè°ç©ºè°æ˜¯ to åŒº</p>
<p>1 . æ¯æ¬¡ GC éƒ½ä¼šå°† Eden åŒºæ´»çš„å¯¹è±¡ç§»åˆ°å¹¸å­˜åŒºä¸­ï¼šä¸€æ—¦ Eden åŒºè¢« GC åï¼Œå°±ä¼šæ˜¯ç©ºçš„ï¼</p>
<p>2 . å½“ä¸€ä¸ªå¯¹è±¡ç»å†äº† 15 æ¬¡ GCï¼Œè¿˜æ²¡æœ‰æ­»ï¼Œå°±ä¼šè¿›å…¥è€å¹´ä»£</p>
<p>-XX:MaxTenuringResholdï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°å¯ä»¥è®¾å®šè¿›å…¥è€å¹´ä»£çš„æ—¶é—´ï¼ˆæŒ‡å®šåœ¨ 0~15 æ¬¡ä¹‹é—´ï¼‰</p>
<h4 id="å¸¸ç”¨ç®—æ³•"><a class="markdownIt-Anchor" href="#å¸¸ç”¨ç®—æ³•">#</a> <strong>å¸¸ç”¨ç®—æ³•ï¼š</strong></h4>
<p>**1 . æ ‡è®°æ¸…é™¤ **</p>
<p>åˆ†ä¸ºä¸¤æ­¥éª¤ï¼šæ ‡è®° ---- æ¸…é™¤</p>
<p>æ ‡è®°ï¼šæ‰«æï¼Œå¯¹å­˜æ´»çš„å¯¹è±¡è¿›è¡Œæ ‡è®°</p>
<p>æ¸…é™¤ï¼šæ‰«æï¼Œå¯¹æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡è¿›è¡Œæ¸…é™¤</p>
<p>ä¼˜ç‚¹ï¼šç®€å•ï¼ŒæˆåŠŸç‡é«˜</p>
<p>ç¼ºç‚¹ï¼šä¸¤æ¬¡æ‰«æä¸¥é‡è€—æ—¶ï¼Œæ¸…é™¤ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</p>
<p><strong>2 .  æ ‡è®°å‹ç¼©ï¼ˆæ ‡è®° â€” æ¸…é™¤ â€” å‹ç¼©ï¼‰</strong></p>
<p>æ ‡è®°æ¸…é™¤çš„ä¼˜åŒ–ç‰ˆï¼šé˜²æ­¢å†…å­˜ç¢ç‰‡äº§ç”Ÿ</p>
<p>åœ¨æ ‡è®°æ¸…é™¤åŸºç¡€ä¸Šï¼Œå†æ¬¡æ‰«æï¼Œå‘ä¸€ç«¯ç§»åŠ¨ä»å­˜æ´»çš„å¯¹è±¡ï¼Œæ¸…é™¤å¦ä¸€å¤–çš„ç¢ç‰‡</p>
<p>ä¼˜ç‚¹ï¼šåœ¨æ ‡è®°æ¸…é™¤ä¼˜ç‚¹ä¸Šä¼˜åŒ–äº†å†…å­˜ç¢ç‰‡</p>
<p>ç¼ºç‚¹ï¼šå¯¹äºæ ‡è®°æ¸…é™¤åˆå¤šäº†ä¸€æ¬¡ç§»åŠ¨æˆæœ¬ï¼Œæ—¶é—´å¢åŠ </p>
<p><strong>3 .  å¤åˆ¶ç®—æ³•</strong>ï¼ˆæ–°ç”Ÿä»£ä¸»è¦ç”¨çš„å¤åˆ¶ç®—æ³•ï¼‰</p>
<p>æŠŠ from åŒºå‘ to åŒºå¤åˆ¶ä¸€ä»½ï¼Œç„¶åæ¸…ç©º from åŒºï¼Œè¿™æ—¶ from åŒºä¼šå˜æˆ to åŒºï¼Œå¤åˆ¶è¿‡å»çš„ to åŒºå˜æˆ from åŒºç­‰å¾…å›æ”¶ã€‚</p>
<p>ä¼˜ç‚¹ï¼šæ²¡æœ‰å†…å­˜ç¢ç‰‡</p>
<p>ç¼ºç‚¹ï¼šæµªè´¹å†…å­˜ç©ºé—´ï¼ˆå¤šäº†ä¸€åŠç©ºé—´æ°¸è¿œæ˜¯ to åŒºï¼Œå‡è®¾å¯¹è±¡ 100% å­˜æ´»ï¼‰æç«¯æƒ…å†µä¸‹ä¸é€‚ç”¨</p>
<p>å¤åˆ¶ç®—æ³•æœ€ä½³ä½¿ç”¨åœºæ™¯ï¼šå¯¹è±¡å­˜æ´»åº¦è¾ƒä½çš„æ—¶å€™ï¼Œæ–°ç”ŸåŒºä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼</p>
<p><strong>4 . åˆ†ä»£æ”¶é›†ç®—æ³•ï¼š</strong></p>
<p>â€‹		<strong>ç”±äºæ¯ä¸ªæ”¶é›†ç®—æ³•éƒ½æ— æ³•ç¬¦åˆæ‰€æœ‰çš„åœºæ™¯ï¼Œå°±å¥½æ¯”æ¯ä¸ªå¯¹è±¡æ‰€åœ¨çš„å†…å­˜é˜¶æ®µä¸ä¸€æ ·ï¼Œè¢«å›æ”¶çš„æ¦‚ç‡ä¹Ÿä¸ä¸€æ ·ï¼Œæ¯”å¦‚åœ¨æ–°ç”Ÿä»£ï¼ŒåŸºæœ¬ 90% çš„å¯¹è±¡ä¼šè¢«å›æ”¶ï¼Œè€Œåˆ°äº†è€å¹´ä»£åˆ™ä¸€åŠä»¥ä¸Šçš„å¯¹è±¡å­˜æ´»ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸åŒçš„åœºæ™¯ï¼Œå›æ”¶çš„ç­–ç•¥ä¹Ÿå°±ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¼•å‡ºäº†åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œæ ¹æ®æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸åŒçš„åœºæ™¯ä¸‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼Œæ¯”å¦‚æ–°ç”Ÿä»£ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£åˆ™ç”¨æ ‡è®°æ•´ç†ç®—æ³•</strong></p>
<p><strong>5.  å¼•ç”¨è®¡æ•°å™¨ï¼ˆä¸é«˜æ•ˆï¼‰</strong></p>
<p>ç»™æ¯ä¸ªå¯¹è±¡è®¾ç½®è®¡æ•°å™¨ï¼Œåªè¦æœ‰å¼•ç”¨å°±ä¼šè®¡æ•°ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œè¿›è¡Œå›æ”¶ã€‚ç¼ºç‚¹ï¼šæ•ˆç‡ä½ä¸‹ï¼Œç°åœ¨åŸºæœ¬ä¸ç”¨</p>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“">#</a> æ€»ç»“ï¼š</h2>
<p>å†…å­˜æ•ˆç‡ï¼šå¤åˆ¶ç®—æ³• &gt; æ ‡è®°æ¸…é™¤ç®—æ³• &gt; æ ‡è®°å‹ç¼©ï¼ˆæ—¶é—´å¤æ‚åº¦ï¼‰</p>
<p>å†…å­˜æ•´é½åº¦ï¼šå¤åˆ¶ç®—æ³• == æ ‡è®°å‹ç¼©ç®—æ³• &gt; æ ‡è®°æ¸…é™¤ç®—æ³•</p>
<p>å†…å­˜åˆ©ç”¨ç‡ï¼šæ ‡è®°å‹ç¼©ç®—æ³• == æ ‡è®°æ¸…é™¤ç®—æ³• &gt; å¤åˆ¶ç®—æ³•</p>
<p>// æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šéš¾é“æ²¡æœ‰æœ€ä¼˜ç®—æ³•å—ï¼Ÿ</p>
<p>ç­”æ¡ˆï¼šæ°¸è¿œä¸èƒ½æœ‰æœ€ä¼˜ç®—æ³•ã€‚åªæœ‰æœ€åˆé€‚çš„ç®—æ³•ã€‚</p>
<p>GCï¼šåˆ†ä»£æ”¶é›†ç®—æ³•ï¼šæ ¹æ®æ¯ä¸ªä»£éœ€æ±‚æ¥é…ç½®ä¸åŒç®—æ³•</p>
<p>å¹´è½»ä»£ï¼šå­˜æ´»ç‡ä½ï¼šéœ€æ±‚æ—¶é—´çŸ­ï¼šæ‰€ä»¥ç”¨å¤åˆ¶ç®—æ³•</p>
<p>è€å¹´ä»£ï¼šå­˜æ´»ç‡é«˜ã€åŒºåŸŸå¤§ï¼šæ ‡è®°æ¸…é™¤ + æ ‡è®°å‹ç¼©æ··åˆ</p>
<p>å†…å­˜ç¢ç‰‡ä¸æ˜¯å¾ˆå¤šå°±æ ‡è®°æ¸…é™¤ï¼Œå†…å­˜ç¢ç‰‡å¤ªå¤šå°±ç”¨å‹ç¼©</p>
<p>JMMï¼š</p>
<p>1 . ä»€ä¹ˆæ˜¯ JMMï¼šJava å†…å­˜æ¨¡å‹ï¼ˆJava Memory Modelï¼‰</p>
<p>2 . JMM ä½œç”¨ï¼š</p>
<p>3 . å¦‚ä½•å­¦ä¹ ï¼š</p>
<p>ç»å†è¿‡å¾ˆå¤šé¢è¯•å¤§éƒ¨åˆ†éƒ½ä¼šé—®ä¸€å¥ï¼š ä½ çŸ¥é“ Java å†…å­˜æ¨¡å‹ä¹ˆï¼Ÿ ç„¶åæˆ‘å°± pulapula çš„è¯´ä¸€å¤§å †ä»€ä¹ˆå †å‘€ï¼Œæ ˆå‘€ï¼ŒGC å‘€ä»€ä¹ˆçš„ï¼Œè¿™æ®µæ—¶é—´æŠŠ JVM è™šæ‹Ÿæœºå’Œå¤šçº¿ç¨‹ç¼–ç¨‹å®Œæ•´çš„å­¦ä¹ äº†ä¸€éï¼Œå‘ç° JMM å’Œå † / æ ˆè¿™äº›å®Œå…¨ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å°±æ˜¯å› ä¸ºè¿™æ‰è¢«æ‹’äº†åæ¥æ¬¡çš„ / å°´å°¬ã€‚</p>
<p>JVM æ˜¯ Java å®ç°çš„è™šæ‹Ÿè®¡ç®—æœºï¼ˆJava Virtual Machineï¼‰ï¼Œå¯¹äºç†Ÿæ‚‰è®¡ç®—æœºç»“æ„çš„åŒå­¦ï¼Œæˆ‘æ„Ÿè§‰æŠŠè¿™äº›æ¦‚å¿µå’Œç‰©ç†æœºå¯¹åº”èµ·æ¥æ›´å¥½ç†è§£ã€‚</p>
<p>JVM å¯¹åº”çš„å°±æ˜¯ç‰©ç†æœºï¼Œå®ƒæœ‰å­˜æ”¾æ•°æ®çš„å­˜å‚¨åŒºï¼šå †ã€æ ˆç­‰ç”± JVM ç®¡ç†çš„å†…å­˜ï¼ˆå¯¹åº”äºç‰©ç†æœºçš„å†…å­˜ï¼‰ã€æ‰§è¡Œæ•°æ®è®¡ç®—çš„æ‰§è¡Œå•å…ƒï¼šçº¿ç¨‹ï¼ˆå¯¹åº”äºç‰©ç†æœºçš„ CPUï¼‰ã€åŠ é€Ÿçº¿ç¨‹æ‰§è¡Œçš„æœ¬æ¬¡å­˜å‚¨åŒºï¼šå¯èƒ½ä¼šä»å­˜å‚¨åŒºé‡Œåˆ†é…ä¸€å—ç©ºé—´æ¥å­˜å‚¨çº¿ç¨‹æœ¬åœ°æ•°æ®ï¼Œæ¯”å¦‚æ ˆï¼ˆå¯¹åº”äºç‰©ç†æœºçš„ cacheï¼‰ã€‚</p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œç°ä»£è®¡ç®—æœºä¸€èˆ¬éƒ½ä¼šåŒ…å«å¤šä¸ªå¤„ç†å™¨ï¼Œå¤šä¸ªå¤„ç†å™¨å…±äº«ä¸»å†…å­˜ã€‚ä¸ºäº†æå‡æ€§èƒ½ï¼Œä¼šåœ¨æ¯ä¸ªå¤„ç†å™¨ä¸Šå¢åŠ ä¸€ä¸ªå°å®¹é‡çš„ cache åŠ é€Ÿæ•°æ®è¯»å†™ã€‚cache ä¼šå¯¼è‡´äº†ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œä¸ºäº†è§£å†³ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜åˆå¼•å…¥äº†ä¸€ç³»åˆ— Cache ä¸€è‡´æ€§åè®®ï¼ˆæ¯”å¦‚ MSIã€MESIã€MOSIã€Synapseã€Firefly åŠ Dragon Protocolï¼‰æ¥è§£å†³ CPU æœ¬åœ°ç¼“å­˜å’Œä¸»å†…å­˜æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚</p>
<p>è€Œ JVM ä¸­ç®¡ç†ä¸‹çš„å­˜å‚¨ç©ºé—´ï¼ˆåŒ…æ‹¬å †ã€æ ˆç­‰ï¼‰å°±å¯¹åº”ä¸ç‰©ç†æœºçš„å†…å­˜ï¼›</p>
<p>çº¿ç¨‹æœ¬æ¬¡å­˜å‚¨åŒºï¼ˆä¾‹å¦‚æ ˆï¼‰å°±å¯¹åº”äºç‰©ç†æœºçš„ cacheï¼›</p>
<p>è€Œ JMM å°±å¯¹åº”äºç±»ä¼¼äº MSIã€MESIã€MOSIã€Synapseã€Firefly åŠ Dragon Protocol è¿™æ ·çš„ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼Œç”¨äºå®šä¹‰æ•°æ®è¯»å†™çš„è§„åˆ™ã€‚</p>
<p>JMM ç›¸å¯¹äºç‰©ç†æœºçš„ç¼“å­˜ä¸€è‡´æ€§åè®®æ¥è¯´å®ƒè¿˜è¦å¤„ç† JVM è‡ªèº«ç‰¹æœ‰çš„é—®é¢˜ï¼šé‡æ’åºé—®é¢˜ï¼Œå‚è§ï¼š <a target="_blank" rel="noopener" href="http://cmsblogs.com/?p=2116%E3%80%82">http://cmsblogs.com/?p=2116ã€‚</a></p>
<p>é‚£ä¹ˆ JMM éƒ½æœ‰å“ªäº›å†…å®¹å‘¢ï¼Ÿ</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š <a target="_blank" rel="noopener" href="http://101.96.10.64/www.cs.umd.edu/~pugh/java/memoryModel/CommunityReview.pdf">http://101.96.10.64/www.cs.umd.edu/~pugh/java/memoryModel/CommunityReview.pdf</a></p>
<p>é€šä¿—ç†è§£å°±æ˜¯ happens-before åŸåˆ™ <a target="_blank" rel="noopener" href="https://www.cnblogs.com/chenssy/p/6393321.html">https://www.cnblogs.com/chenssy/p/6393321.html</a></p>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.683Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-12-09T14:02:12.000Z" title="2022/12/9 22:02:12">2022-12-09</time>æ›´æ–°</span><span class="level-item">41 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦6102ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90SpringBoot%E3%80%91SpringBoot3.0%20%E4%BA%91%E5%8E%9F%E7%94%9F%E6%97%B6%E4%BB%A3%E5%8D%B3%E5%B0%86%E6%9D%A5%E4%B8%B4%EF%BC%81/">ã€SpringBootã€‘SpringBoot3.0 äº‘åŸç”Ÿæ—¶ä»£å³å°†æ¥ä¸´ï¼</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="springbootspringboot30-äº‘åŸç”Ÿæ—¶ä»£å³å°†æ¥ä¸´"><a class="markdownIt-Anchor" href="#springbootspringboot30-äº‘åŸç”Ÿæ—¶ä»£å³å°†æ¥ä¸´">#</a> ã€SpringBootã€‘SpringBoot3.0 äº‘åŸç”Ÿæ—¶ä»£å³å°†æ¥ä¸´ï¼</h1>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/v2-b22194eefe2fd58e5b41e3ff07bef672_720w.jpg" alt="äº‘åŸç”Ÿæ—¶ä»£çš„Spring Boot 3.0: GraalVMåŸç”Ÿé•œåƒï¼Œå¯åŠ¨é€Ÿåº¦æå‡è¿‘30å€"></p>
<h1 id="äº‘åŸç”Ÿæ—¶ä»£çš„spring-boot-30-graalvmåŸç”Ÿé•œåƒå¯åŠ¨é€Ÿåº¦æå‡è¿‘30å€"><a class="markdownIt-Anchor" href="#äº‘åŸç”Ÿæ—¶ä»£çš„spring-boot-30-graalvmåŸç”Ÿé•œåƒå¯åŠ¨é€Ÿåº¦æå‡è¿‘30å€">#</a> äº‘åŸç”Ÿæ—¶ä»£çš„ Spring Boot 3.0: GraalVM åŸç”Ÿé•œåƒï¼Œå¯åŠ¨é€Ÿåº¦æå‡è¿‘ 30 å€</h1>
<p><a target="_blank" rel="noopener" href="https://brath.top">InterviewCoder</a></p>
<h5 id="spring-boot-30-äº2022å¹´11æœˆ24æ—¥å‘å¸ƒå˜åŒ–å¾ˆå¤§åŸºäºspring60spring60æ˜¯springä¸‹ä¸€ä¸ªæœªæ¥åå¹´çš„æ–°å¼€ç«¯"><a class="markdownIt-Anchor" href="#spring-boot-30-äº2022å¹´11æœˆ24æ—¥å‘å¸ƒå˜åŒ–å¾ˆå¤§åŸºäºspring60spring60æ˜¯springä¸‹ä¸€ä¸ªæœªæ¥åå¹´çš„æ–°å¼€ç«¯">#</a> Spring Boot 3.0 äºï¼ˆ2022 å¹´ 11 æœˆ 24 æ—¥ï¼‰å‘å¸ƒï¼Œå˜åŒ–å¾ˆå¤§ï¼ŒåŸºäº spring6.0ï¼Œspring6.0 æ˜¯ Spring ä¸‹ä¸€ä¸ªæœªæ¥åå¹´çš„æ–°å¼€ç«¯ã€‚</h5>
<h2 id="java-17"><a class="markdownIt-Anchor" href="#java-17">#</a> JAVA 17</h2>
<p>Spring Boot 3.0 ç‰ˆæœ¬æœ€ä½æ”¯æŒ Java17ï¼ŒSpringboot 2.7.3 æœ€å¸¸ç”¨çš„ jdk ç‰ˆæœ¬æ˜¯ Java 8ï¼Œç°åœ¨ç›´æ¥è·³äº† 9 ä¸ªç‰ˆæœ¬ç›´æ¥ä» 8 è·³åˆ°äº† 17ï¼Œä¸”æ˜¯å¼ºåˆ¶è¦æ±‚ï¼Œå¿…é¡» 17 æˆ– 17 ä»¥ä¸Šçš„ java ç‰ˆæœ¬ã€‚æ‰€ä»¥ä»¥åå¼€å‘å¯ä»¥ç”¨ä¸Š 17 æˆ– 17 ä»¥ä¸Šçš„ Java è¯­è¨€çš„æ–°ç‰¹æ€§ã€‚</p>
<h2 id="spring-native"><a class="markdownIt-Anchor" href="#spring-native">#</a> Spring Native</h2>
<p>Spring Native ä¹Ÿæ˜¯å‡çº§çš„ä¸€ä¸ªé‡å¤§ç‰¹æ€§ï¼Œæ”¯æŒä½¿ç”¨ GraalVM å°† Spring çš„åº”ç”¨ç¨‹åºç¼–è¯‘æˆæœ¬åœ°å¯æ‰§è¡Œçš„é•œåƒæ–‡ä»¶ï¼Œå¯ä»¥æ˜¾è‘—æå‡å¯åŠ¨é€Ÿåº¦ã€å³°å€¼æ€§èƒ½ä»¥åŠå‡å°‘å†…å­˜ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬ä¼ ç»Ÿçš„åº”ç”¨éƒ½æ˜¯ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œç„¶åé€šè¿‡ JVM è§£é‡Šå¹¶æœ€ç»ˆç¼–è¯‘æˆæœºå™¨ç æ¥è¿è¡Œï¼Œè€Œ Spring Native åˆ™æ˜¯é€šè¿‡ AOT æå‰ç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œåœ¨è¿è¡Œæ—¶ç›´æ¥é™æ€ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸ä¾èµ– JVMã€‚</p>
<p><img src="https://pic2.zhimg.com/80/v2-a45dfbebce31c21085d718d07a8d9f25_720w.webp" alt="img"></p>
<h2 id="jakarta-ee"><a class="markdownIt-Anchor" href="#jakarta-ee">#</a> Jakarta EE</h2>
<p>JavaEE æ”¹åä¹‹åå°±å« JakartaEEï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰çš„ javax.servlet åŒ…ç°åœ¨å°±å« jakarta.servletã€‚ä¹Ÿå› æ­¤ï¼Œä»£ç ä¸­æ‰€æœ‰ä½¿ç”¨åˆ°æ¯”å¦‚ HttpServletRequest å¯¹è±¡çš„ import éƒ½éœ€è¦ä¿®æ”¹ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">// æ”¹ä¸º</span><br><span class="line">import jakarta.servlet.http.HttpServletRequest;</span><br></pre></td></tr></table></figure>
<h2 id="spring-boot-30-åˆæ­¥ä½¿ç”¨windows"><a class="markdownIt-Anchor" href="#spring-boot-30-åˆæ­¥ä½¿ç”¨windows">#</a> Spring Boot 3.0 åˆæ­¥ä½¿ç”¨ï¼ˆWindowsï¼‰</h2>
<p>åˆ›å»º Spring Boot 3.0 é¡¹ç›®æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ Idea ç›´æ¥åˆ›å»ºã€‚</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/v2-519c165c4aa07ee2398da2624c44b1c1_720w.webp" alt="img"></p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/v2-fe1b1c0136ace8b2d89964265f367fc0_720w.webp" alt="img"></p>
<p>è‹¥ IDE ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä¸æ”¯æŒåˆ›å»º Spring Boot 3.0ï¼Œè¿˜æœ‰ç¬¬äºŒç§æ–¹å¼åˆ›å»º Spring Boot 3.0 é¡¹ç›®ï¼Œç™»å½•å®˜ç½‘ <a href="https://link.zhihu.com/?target=https%3A//start.spring.io/">https://start.spring.io/</a> ç”Ÿæˆ Spring Boot 3.0 åˆå§‹é¡¹ç›®ã€‚</p>
<p><img src="https://pic4.zhimg.com/80/v2-0be01b9e082d8c08e14dc2a7f30a8573_720w.webp" alt="img"></p>
<p>ä¸‹é¢æ˜¯ Spring Boot 3.0 çš„æœ€å° pom æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">	&lt;parent&gt;</span><br><span class="line">		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">		&lt;version&gt;3.0.0&lt;/version&gt;</span><br><span class="line">		&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;</span><br><span class="line">	&lt;/parent&gt;</span><br><span class="line">	&lt;groupId&gt;com.example&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;demo&lt;/artifactId&gt;</span><br><span class="line">	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</span><br><span class="line">	&lt;name&gt;demo&lt;/name&gt;</span><br><span class="line">	&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;</span><br><span class="line">	&lt;properties&gt;</span><br><span class="line">		&lt;java.version&gt;17&lt;/java.version&gt;</span><br><span class="line">	&lt;/properties&gt;</span><br><span class="line">	&lt;dependencies&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">			&lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.0.0&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;compile&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">	&lt;build&gt;</span><br><span class="line">		&lt;plugins&gt;</span><br><span class="line">			&lt;plugin&gt;</span><br><span class="line">				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">			&lt;/plugin&gt;</span><br><span class="line">		&lt;/plugins&gt;</span><br><span class="line">	&lt;/build&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œ spring boot é¡¹ç›®ï¼Œéœ€è¦å®‰è£…å¼€å‘ç¯å¢ƒï¼Œspring boot 3.0 å¼€å§‹ä¸ç”¨ jdk äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ graalvmï¼Œä¸”æœ€ä½ç‰ˆæœ¬è¦æ±‚æ˜¯ java17 graalvm ç‰ˆæœ¬ã€‚</p>
<p><a href="https://link.zhihu.com/?target=https%3A//github.com/graalvm/graalvm-ce-builds/releases">https://github.com/graalvm/graalvm-ce-builds/releases</a> ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„ java17 graalvm ç‰ˆæœ¬ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\hanwei&gt; java --version</span><br><span class="line">openjdk 17.0.5 2022-10-18</span><br><span class="line">OpenJDK Runtime Environment GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08)</span><br><span class="line">OpenJDK 64-Bit Server VM GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08, mixed mode, sharing)</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ€å° Spring Boot é¡¹ç›®æºç çš„åŸºç¡€ä¸Šäº†ä¸ªç®€å•çš„ controllerã€‚</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/v2-f413a5156cf2f0b1bdea0a81e417c622_720w.webp" alt="img"></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.controller;</span><br><span class="line"></span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line">@Controller</span><br><span class="line">public class QuickStartController &#123;</span><br><span class="line">    @RequestMapping(&quot;/test&quot;)</span><br><span class="line">    @ResponseBody</span><br><span class="line">    public String test()&#123;</span><br><span class="line">        return &quot;springboot 3.0 è®¿é—®æµ‹è¯•&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(&quot;/hello&quot;)</span><br><span class="line">    @ResponseBody</span><br><span class="line">    public String home()&#123;</span><br><span class="line">        return &quot;Hello World from springboot 3.0!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨ java17 graalvm ç¼–è¯‘è¿è¡Œ demo é¡¹ç›®ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">C:\sdk\graalvm-ce-java17-22.3.0\bin\java.exe -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA 2022.2\lib\idea_rt.jar=9872:C:\Program Files\JetBrains\IntelliJ IDEA 2022.2\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\Users\hanwei\Documents\JavaProject\demo-maven\target\classes;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-starter\3.0.0\spring-boot-starter-3.0.0.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot\3.0.0\spring-boot-3.0.0.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-context\6.0.2\spring-context-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-autoconfigure\3.0.0\spring-boot-autoconfigure-3.0.0.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-starter-logging\3.0.0\spring-boot-starter-logging-3.0.0.jar;C:\Users\hanwei\.m2\repository\ch\qos\logback\logback-classic\1.4.5\logback-classic-1.4.5.jar;C:\Users\hanwei\.m2\repository\ch\qos\logback\logback-core\1.4.5\logback-core-1.4.5.jar;C:\Users\hanwei\.m2\repository\org\apache\logging\log4j\log4j-to-slf4j\2.19.0\log4j-to-slf4j-2.19.0.jar;C:\Users\hanwei\.m2\repository\org\apache\logging\log4j\log4j-api\2.19.0\log4j-api-2.19.0.jar;C:\Users\hanwei\.m2\repository\org\slf4j\jul-to-slf4j\2.0.4\jul-to-slf4j-2.0.4.jar;C:\Users\hanwei\.m2\repository\jakarta\annotation\jakarta.annotation-api\2.1.1\jakarta.annotation-api-2.1.1.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-core\6.0.2\spring-core-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-jcl\6.0.2\spring-jcl-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\yaml\snakeyaml\1.33\snakeyaml-1.33.jar;C:\Users\hanwei\.m2\repository\org\slf4j\slf4j-api\2.0.4\slf4j-api-2.0.4.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-starter-web\3.0.0\spring-boot-starter-web-3.0.0.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-starter-json\3.0.0\spring-boot-starter-json-3.0.0.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.14.1\jackson-databind-2.14.1.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.14.1\jackson-annotations-2.14.1.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.14.1\jackson-core-2.14.1.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.14.1\jackson-datatype-jdk8-2.14.1.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.14.1\jackson-datatype-jsr310-2.14.1.jar;C:\Users\hanwei\.m2\repository\com\fasterxml\jackson\module\jackson-module-parameter-names\2.14.1\jackson-module-parameter-names-2.14.1.jar;C:\Users\hanwei\.m2\repository\org\springframework\boot\spring-boot-starter-tomcat\3.0.0\spring-boot-starter-tomcat-3.0.0.jar;C:\Users\hanwei\.m2\repository\org\apache\tomcat\embed\tomcat-embed-core\10.1.1\tomcat-embed-core-10.1.1.jar;C:\Users\hanwei\.m2\repository\org\apache\tomcat\embed\tomcat-embed-el\10.1.1\tomcat-embed-el-10.1.1.jar;C:\Users\hanwei\.m2\repository\org\apache\tomcat\embed\tomcat-embed-websocket\10.1.1\tomcat-embed-websocket-10.1.1.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-web\6.0.2\spring-web-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-beans\6.0.2\spring-beans-6.0.2.jar;C:\Users\hanwei\.m2\repository\io\micrometer\micrometer-observation\1.10.2\micrometer-observation-1.10.2.jar;C:\Users\hanwei\.m2\repository\io\micrometer\micrometer-commons\1.10.2\micrometer-commons-1.10.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-webmvc\6.0.2\spring-webmvc-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-aop\6.0.2\spring-aop-6.0.2.jar;C:\Users\hanwei\.m2\repository\org\springframework\spring-expression\6.0.2\spring-expression-6.0.2.jar com.example.demo.DemoApplication</span><br><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::                (v3.0.0)</span><br><span class="line"></span><br><span class="line">2022-11-29T10:19:58.816+08:00  INFO 20116 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.5 with PID 20116 (C:\Users\hanwei\Documents\JavaProject\demo-maven\target\classes started by hanwei in C:\Users\hanwei\Documents\JavaProject\demo-maven)</span><br><span class="line">2022-11-29T10:19:58.818+08:00  INFO 20116 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;</span><br><span class="line">2022-11-29T10:19:59.501+08:00  INFO 20116 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2022-11-29T10:19:59.510+08:00  INFO 20116 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2022-11-29T10:19:59.510+08:00  INFO 20116 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]</span><br><span class="line">2022-11-29T10:19:59.594+08:00  INFO 20116 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2022-11-29T10:19:59.594+08:00  INFO 20116 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 737 ms</span><br><span class="line">2022-11-29T10:19:59.866+08:00  INFO 20116 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#x27;&#x27;</span><br><span class="line">2022-11-29T10:19:59.872+08:00  INFO 20116 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.386 seconds (process running for 2.036)</span><br></pre></td></tr></table></figure>
<p>rest api æµ‹è¯• okã€‚</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/v2-0ee72efd4421007715a55d2c55f931cc_720w.webp" alt="img"></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/hello</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 </span><br><span class="line">Content-Type: text/plain;charset=UTF-8</span><br><span class="line">Content-Length: 32</span><br><span class="line">Date: Mon, 28 Nov 2022 08:31:59 GMT</span><br><span class="line">Keep-Alive: timeout=60</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">Hello World from springboot 3.0!</span><br><span class="line"></span><br><span class="line">Response code: 200; Time: 175ms (175 ms); Content length: 32 bytes (32 B)</span><br><span class="line">http://localhost:8080/test</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 </span><br><span class="line">Content-Type: text/plain;charset=UTF-8</span><br><span class="line">Content-Length: 27</span><br><span class="line">Date: Mon, 28 Nov 2022 08:32:05 GMT</span><br><span class="line">Keep-Alive: timeout=60</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">springboot 3.0 è®¿é—®æµ‹è¯•</span><br><span class="line"></span><br><span class="line">Response code: 200; Time: 17ms (17 ms); Content length: 19 bytes (19 B)</span><br></pre></td></tr></table></figure>
<p>æ‰“åŒ…äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶éœ€è¦å®‰è£… native-image ï¼Œ æ‰§è¡Œ gu install native-image å‘½ä»¤ã€‚</p>
<p>æ‰“åŒ…äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰§è¡Œå‡ºé”™ï¼š</p>
<p><img src="https://pic3.zhimg.com/80/v2-981af35dc5ee7613d0ddce298c9e88de_720w.webp" alt="img"></p>
<p>ä¸Šé¢æŠ¥é”™ï¼Œå› ä¸ºéœ€è¦å®‰è£… windows dockerã€‚</p>
<p>å®˜ç½‘ä¸‹è½½å®‰è£… windows dockerdesktop å®Œæˆåã€‚å¯åŠ¨ windows dockerdesktop æŠ¥é”™ï¼ˆå¯èƒ½æ˜¯å› ä¸º Windows 11 çš„é»˜è®¤ç½‘ç»œé…ç½®è¢«æ”¹äº†ï¼Œæ­£å¸¸ä¸ä¼šæŠ¥é”™ï¼Œæ¯•ç«Ÿæ˜¯å¾ˆå¸¸ç”¨çš„å·¥å…·ï¼‰ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">stderr: </span><br><span class="line">   åœ¨ Docker.ApiServices.WSL2.WslShortLivedCommandResult.LogAndThrowIfUnexpectedExitCode(String prefix, ILogger log, Int32 expectedExitCode) ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.ApiServices\WSL2\WslCommand.cs:è¡Œå· 160</span><br><span class="line">   åœ¨ Docker.Engines.WSL2.WSL2Provisioning.&lt;ProvisionAsync&gt;d__8.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.Engines\WSL2\WSL2Provisioning.cs:è¡Œå· 81</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)</span><br><span class="line">   åœ¨ Docker.Engines.WSL2.LinuxWSL2Engine.&lt;DoStartAsync&gt;d__26.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.Engines\WSL2\LinuxWSL2Engine.cs:è¡Œå· 170</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)</span><br><span class="line">   åœ¨ Docker.ApiServices.StateMachines.TaskExtensions.&lt;WrapAsyncInCancellationException&gt;d__0.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.ApiServices\StateMachines\TaskExtensions.cs:è¡Œå· 29</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)</span><br><span class="line">   åœ¨ Docker.ApiServices.StateMachines.StartTransition.&lt;DoRunAsync&gt;d__5.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.ApiServices\StateMachines\StartTransition.cs:è¡Œå· 67</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ Docker.ApiServices.StateMachines.StartTransition.&lt;DoRunAsync&gt;d__5.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.ApiServices\StateMachines\StartTransition.cs:è¡Œå· 92</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)</span><br><span class="line">   åœ¨ Docker.ApiServices.StateMachines.EngineStateMachine.&lt;StartAsync&gt;d__14.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.ApiServices\StateMachines\EngineStateMachine.cs:è¡Œå· 69</span><br><span class="line">--- å¼•å‘å¼‚å¸¸çš„ä¸Šä¸€ä½ç½®ä¸­å †æ ˆè·Ÿè¸ªçš„æœ«å°¾ ---</span><br><span class="line">   åœ¨ System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()</span><br><span class="line">   åœ¨ System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)</span><br><span class="line">   åœ¨ Docker.Engines.Engines.&lt;StartAsync&gt;d__22.MoveNext() ä½ç½® C:\workspaces\PR-19568\src\github.com\docker\pinata\win\src\Docker.Engines\Engines.cs:è¡Œå· 106</span><br></pre></td></tr></table></figure>
<p>åœ¨ PowerShellï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰æˆ–è€… cmdï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰ä¸­æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh winsock reset</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰§è¡Œè¯¥å‘½ä»¤åè®°å¾—é‡å¯ï¼</p>
</blockquote>
<p>é‡å¯åï¼ŒWindows 11 ä¸‹çš„ dockerdesktop å¯ä»¥æ­£å¸¸å¯åŠ¨ã€‚</p>
<p>å¯¹äºæ²¡æœ‰ vmware éœ€æ±‚ï¼Œæ²¡æœ‰è™šæ‹Ÿæœº vpn ç½‘ç»œéœ€æ±‚ï¼Œä»…ä»…å¼€å‘ springboot3.0ï¼Œä¸Šé¢çš„æ–¹å¼å·²ç»å¯ä»¥å®ç°ç›®æ ‡ã€‚</p>
<p>ä¸è¿‡è‹¥æœ‰ VMware éœ€æ±‚ï¼Œä»¥åŠæœ‰ VMware è™šæ‹Ÿæœºå…±äº«å®¿ä¸»æœº vpn ç½‘ç»œçš„éœ€æ±‚ï¼Œä¸Šé¢çš„é‡ç½®å‘½ä»¤æ…ç”¨ï¼Œä¼šå¯¼è‡´ VMware é‡Œè¿è¡Œçš„è™šæ‹Ÿæœºä½¿ç”¨å®¿ä¸»æœº vpn ç½‘ç»œå‡ºç°é—®é¢˜ï¼Œç½‘ç»œä¸é€šã€‚</p>
<p>å¹¶ä¸”ç”±äº windows ä¸‹çš„ dockerdesktop éœ€è¦æ‰“å¼€ hyper-v æˆ–è€… WSL 2ï¼Œä¸€æ—¦æ‰“å¼€ä¼šå½±å“ VMware åµŒå¥—è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œå¯¼è‡´ VMware ä¸‹è™šæ‹Ÿæœºçš„åµŒå¥—è™šæ‹ŸåŒ–åŠŸèƒ½ä¸å¯ç”¨ã€‚</p>
<p>ä¸è¿‡ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œåªéœ€è¦ 3 æ­¥å¯ä»¥æ¢å¤ï¼š</p>
<ol>
<li>å¸è½½ windows dockerdesktop</li>
<li>è®¾ç½® - åº”ç”¨ - å¯é€‰åŠŸèƒ½ - æ›´å¤š windows åŠŸèƒ½ï¼Œå–æ¶ˆ WSL 2 å’Œ hyper-v çš„å‹¾ï¼Œé‡å¯ç”µè„‘</li>
<li>å¸è½½ wmwareï¼Œé‡æ–°å®‰è£… wmwareã€‚</li>
</ol>
<p>è¿™ç§æƒ…å†µè¿˜æ˜¯åœ¨æ²™ç›’ç¯å¢ƒé‡Œç¼–è¯‘æ‰“åŒ…åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç”¨ Linux ç¯å¢ƒã€‚</p>
<h2 id="spring-boot-30-åˆæ­¥ä½¿ç”¨linux"><a class="markdownIt-Anchor" href="#spring-boot-30-åˆæ­¥ä½¿ç”¨linux">#</a> Spring Boot 3.0 åˆæ­¥ä½¿ç”¨ï¼ˆLinuxï¼‰</h2>
<p>ä¸Šé¢ windows è·‘é€šçš„é¡¹ç›®æºç ç›´æ¥æ”¾åˆ° Linux ä¸‹ï¼Œæ‰§è¡Œï¼ŒæŠ¥é”™ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ERROR] Internal error: java.lang.RuntimeException: GraalVM native-image is missing from your system.</span><br><span class="line">[ERROR]  Make sure that GRAALVM_HOME environment variable is present.</span><br></pre></td></tr></table></figure>
<p>æŒ‰æŠ¥é”™ä¿¡æ¯ï¼Œé…ç½® GRAALVM_HOME å’Œ å®‰è£… GraalVM native-imageã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export GRAALVM_HOME åˆ°/etc/bashrc</span><br><span class="line">[hanwei@backendcloud-centos9 ~]$ gu install native-image</span><br><span class="line">Downloading: Component catalog from www.graalvm.org</span><br><span class="line">Processing Component: Native Image</span><br><span class="line">Downloading: Component native-image: Native Image from github.com</span><br><span class="line">Installing new component: Native Image (org.graalvm.native-image, version 22.3.0)</span><br></pre></td></tr></table></figure>
<p>å†æ‰§è¡ŒæŠ¥é”™ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Test configuration file wasn&#x27;t found.</span><br></pre></td></tr></table></figure>
<p>toggle â€˜Skip Testsâ€™ modeï¼Œå°±æ˜¯åœ¨ Linux Idea çš„ Maven çª—å£ï¼Œç‚¹å‡»è·³è¿‡æµ‹è¯•æŒ‰é’®ã€‚</p>
<p>å†æ‰§è¡Œ okã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/home/hanwei/sdk/graalvm-ce-java17-22.3.0/bin/java -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:/home/hanwei/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/222.4459.24/lib/idea_rt.jar=41343:/home/hanwei/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/222.4459.24/bin -Dfile.encoding=UTF-8 -classpath /home/hanwei/demo/target/classes:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter/3.0.0/spring-boot-starter-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot/3.0.0/spring-boot-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/spring-context/6.0.2/spring-context-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.0.0/spring-boot-autoconfigure-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.0.0/spring-boot-starter-logging-3.0.0.jar:/home/hanwei/.m2/repository/ch/qos/logback/logback-classic/1.4.5/logback-classic-1.4.5.jar:/home/hanwei/.m2/repository/ch/qos/logback/logback-core/1.4.5/logback-core-1.4.5.jar:/home/hanwei/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.19.0/log4j-to-slf4j-2.19.0.jar:/home/hanwei/.m2/repository/org/apache/logging/log4j/log4j-api/2.19.0/log4j-api-2.19.0.jar:/home/hanwei/.m2/repository/org/slf4j/jul-to-slf4j/2.0.4/jul-to-slf4j-2.0.4.jar:/home/hanwei/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/hanwei/.m2/repository/org/springframework/spring-core/6.0.2/spring-core-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-jcl/6.0.2/spring-jcl-6.0.2.jar:/home/hanwei/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/home/hanwei/.m2/repository/org/slf4j/slf4j-api/2.0.4/slf4j-api-2.0.4.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.0.0/spring-boot-starter-web-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.0.0/spring-boot-starter-json-3.0.0.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.1/jackson-databind-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.1/jackson-annotations-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.1/jackson-core-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.14.1/jackson-datatype-jdk8-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.14.1/jackson-datatype-jsr310-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.14.1/jackson-module-parameter-names-2.14.1.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.0.0/spring-boot-starter-tomcat-3.0.0.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.1/tomcat-embed-core-10.1.1.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.1/tomcat-embed-el-10.1.1.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.1/tomcat-embed-websocket-10.1.1.jar:/home/hanwei/.m2/repository/org/springframework/spring-web/6.0.2/spring-web-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-beans/6.0.2/spring-beans-6.0.2.jar:/home/hanwei/.m2/repository/io/micrometer/micrometer-observation/1.10.2/micrometer-observation-1.10.2.jar:/home/hanwei/.m2/repository/io/micrometer/micrometer-commons/1.10.2/micrometer-commons-1.10.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-webmvc/6.0.2/spring-webmvc-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-aop/6.0.2/spring-aop-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-expression/6.0.2/spring-expression-6.0.2.jar com.example.demo.DemoApplication</span><br><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::                (v3.0.0)</span><br><span class="line"></span><br><span class="line">2022-11-29T00:02:01.348+08:00  INFO 11794 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.5 with PID 11794 (/home/hanwei/demo/target/classes started by hanwei in /home/hanwei/demo)</span><br><span class="line">2022-11-29T00:02:01.352+08:00  INFO 11794 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;</span><br><span class="line">2022-11-29T00:02:02.011+08:00  INFO 11794 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2022-11-29T00:02:02.018+08:00  INFO 11794 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2022-11-29T00:02:02.018+08:00  INFO 11794 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]</span><br><span class="line">2022-11-29T00:02:02.089+08:00  INFO 11794 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2022-11-29T00:02:02.090+08:00  INFO 11794 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 687 ms</span><br><span class="line">2022-11-29T00:02:02.347+08:00  INFO 11794 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#x27;&#x27;</span><br><span class="line">2022-11-29T00:02:02.350+08:00  INFO 11794 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 1.335 seconds (process running for 16.893)</span><br></pre></td></tr></table></figure>
<p>å¯è§æ‰§è¡Œä¼ ç»Ÿ jar åŒ…çš„å¯åŠ¨é€Ÿåº¦æ˜¯ 1.335 seconds ï¼Œä¸‹é¢ç¼–è¯‘åŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ç‚¹å‡» Linux Idea çš„ Maven çª—å£çš„ build image æŒ‰é’®ã€‚ä¼šåœ¨é¡¹ç›®çš„ target ç›®å½•ä¸‹ï¼ˆå’Œç”Ÿæˆçš„ jar åŒ…åœ¨åŒä¸€çº§ç›®å½•ï¼‰ç”ŸæˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">/home/hanwei/sdk/graalvm-ce-java17-22.3.0/bin/java -Dmaven.multiModuleProjectDirectory=/home/hanwei/demo -Dmaven.home=/home/hanwei/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6 -Dclassworlds.conf=/home/hanwei/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/bin/m2.conf -Dmaven.ext.class.path=/home/hanwei/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/222.4459.24/plugins/maven/lib/maven-event-listener.jar -javaagent:/home/hanwei/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/222.4459.24/lib/idea_rt.jar=44943:/home/hanwei/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/222.4459.24/bin -Dfile.encoding=UTF-8 -classpath /home/hanwei/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds.license:/home/hanwei/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version=2022.2.4 -DskipTests=true org.graalvm.buildtools:native-maven-plugin:0.9.16:build -P native</span><br><span class="line">[INFO] Scanning for projects...</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --------------------------&lt; com.example:demo &gt;--------------------------</span><br><span class="line">[INFO] Building demo 0.0.1-SNAPSHOT</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- native-maven-plugin:0.9.16:build (default-cli) @ demo ---</span><br><span class="line">[WARNING] &#x27;native:build&#x27; goal is deprecated. Use &#x27;native:compile-no-fork&#x27; instead.</span><br><span class="line">[INFO] Found GraalVM installation from GRAALVM_HOME variable.</span><br><span class="line">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.5]: Configuration directory not found. Trying latest version.</span><br><span class="line">[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.5]: Configuration directory is ch.qos.logback/logback-classic/1.4.1</span><br><span class="line">[INFO] [graalvm reachability metadata repository for org.apache.tomcat.embed:tomcat-embed-core:10.1.1]: Configuration directory not found. Trying latest version.</span><br><span class="line">[INFO] [graalvm reachability metadata repository for org.apache.tomcat.embed:tomcat-embed-core:10.1.1]: Configuration directory is org.apache.tomcat.embed/tomcat-embed-core/10.0.20</span><br><span class="line">[INFO] Executing: /home/hanwei/sdk/graalvm-ce-java17-22.3.0/bin/native-image -cp /home/hanwei/demo/target/classes:/home/hanwei/.m2/repository/org/slf4j/jul-to-slf4j/2.0.4/jul-to-slf4j-2.0.4.jar:/home/hanwei/.m2/repository/org/springframework/spring-web/6.0.2/spring-web-6.0.2.jar:/home/hanwei/.m2/repository/ch/qos/logback/logback-core/1.4.5/logback-core-1.4.5.jar:/home/hanwei/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.1/jackson-annotations-2.14.1.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.0.0/spring-boot-starter-json-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/spring-core/6.0.2/spring-core-6.0.2.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.14.1/jackson-module-parameter-names-2.14.1.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.1/tomcat-embed-websocket-10.1.1.jar:/home/hanwei/.m2/repository/ch/qos/logback/logback-classic/1.4.5/logback-classic-1.4.5.jar:/home/hanwei/.m2/repository/org/springframework/spring-jcl/6.0.2/spring-jcl-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.0.0/spring-boot-starter-web-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.0.0/spring-boot-autoconfigure-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/spring-beans/6.0.2/spring-beans-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.0.0/spring-boot-starter-tomcat-3.0.0.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.14.1/jackson-datatype-jsr310-2.14.1.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.1/tomcat-embed-el-10.1.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.1/jackson-core-2.14.1.jar:/home/hanwei/.m2/repository/org/apache/logging/log4j/log4j-api/2.19.0/log4j-api-2.19.0.jar:/home/hanwei/.m2/repository/org/springframework/spring-expression/6.0.2/spring-expression-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/spring-webmvc/6.0.2/spring-webmvc-6.0.2.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot/3.0.0/spring-boot-3.0.0.jar:/home/hanwei/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.1/tomcat-embed-core-10.1.1.jar:/home/hanwei/.m2/repository/org/springframework/spring-aop/6.0.2/spring-aop-6.0.2.jar:/home/hanwei/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.19.0/log4j-to-slf4j-2.19.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter/3.0.0/spring-boot-starter-3.0.0.jar:/home/hanwei/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.0.0/spring-boot-starter-logging-3.0.0.jar:/home/hanwei/.m2/repository/org/slf4j/slf4j-api/2.0.4/slf4j-api-2.0.4.jar:/home/hanwei/.m2/repository/org/springframework/spring-context/6.0.2/spring-context-6.0.2.jar:/home/hanwei/.m2/repository/io/micrometer/micrometer-observation/1.10.2/micrometer-observation-1.10.2.jar:/home/hanwei/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.1/jackson-databind-2.14.1.jar:/home/hanwei/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.14.1/jackson-datatype-jdk8-2.14.1.jar:/home/hanwei/.m2/repository/io/micrometer/micrometer-commons/1.10.2/micrometer-commons-1.10.2.jar --no-fallback -H:Path=/home/hanwei/demo/target -H:Name=demo -H:ConfigurationFileDirectories=/home/hanwei/demo/target/graalvm-reachability-metadata/39f9c4cd5765941e97b499c39e24353f8a36ebd3/org.apache.tomcat.embed/tomcat-embed-core/10.0.20,/home/hanwei/demo/target/graalvm-reachability-metadata/39f9c4cd5765941e97b499c39e24353f8a36ebd3/ch.qos.logback/logback-classic/1.4.1</span><br><span class="line">========================================================================================================================</span><br><span class="line">GraalVM Native Image: Generating &#x27;demo&#x27; (executable)...</span><br><span class="line">========================================================================================================================</span><br><span class="line">[1/7] Initializing...                                                                                    (6.4s @ 0.18GB)</span><br><span class="line"> Version info: &#x27;GraalVM 22.3.0 Java 17 CE&#x27;</span><br><span class="line"> Java version info: &#x27;17.0.5+8-jvmci-22.3-b08&#x27;</span><br><span class="line"> C compiler: gcc (redhat, x86_64, 11.3.1)</span><br><span class="line"> Garbage collector: Serial GC</span><br><span class="line"> 1 user-specific feature(s)</span><br><span class="line"> - org.springframework.aot.nativex.feature.PreComputeFieldFeature</span><br><span class="line">The bundle named: org.apache.el.Messages, has not been found. If the bundle is part of a module, verify the bundle name is a fully qualified class name. Otherwise verify the bundle path is accessible in the classpath.</span><br><span class="line">Field org.springframework.core.NativeDetector#imageCode set to true at build time</span><br><span class="line">Field org.apache.commons.logging.LogAdapter#log4jSpiPresent set to true at build time</span><br><span class="line">Field org.apache.commons.logging.LogAdapter#log4jSlf4jProviderPresent set to true at build time</span><br><span class="line">Field org.apache.commons.logging.LogAdapter#slf4jSpiPresent set to true at build time</span><br><span class="line">Field org.apache.commons.logging.LogAdapter#slf4jApiPresent set to true at build time</span><br><span class="line">Field org.springframework.format.support.DefaultFormattingConversionService#jsr354Present set to false at build time</span><br><span class="line">Field org.springframework.core.KotlinDetector#kotlinPresent set to false at build time</span><br><span class="line">Field org.springframework.core.KotlinDetector#kotlinReflectPresent set to false at build time</span><br><span class="line">Field org.springframework.cglib.core.AbstractClassGenerator#imageCode set to true at build time</span><br><span class="line">Field org.springframework.boot.logging.java.JavaLoggingSystem$Factory#PRESENT set to true at build time</span><br><span class="line">Field org.springframework.boot.logging.log4j2.Log4J2LoggingSystem$Factory#PRESENT set to false at build time</span><br><span class="line">Field org.springframework.boot.logging.logback.LogbackLoggingSystem$Factory#PRESENT set to true at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#romePresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jaxb2Present set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jackson2Present set to true at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jackson2XmlPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jackson2SmilePresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jackson2CborPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#gsonPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#jsonbPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#kotlinSerializationCborPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#kotlinSerializationJsonPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#kotlinSerializationProtobufPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.view.InternalResourceViewResolver#jstlPresent set to false at build time</span><br><span class="line">Field org.springframework.web.context.support.StandardServletEnvironment#jndiPresent set to true at build time</span><br><span class="line">Field org.springframework.web.context.support.WebApplicationContextUtils#jsfPresent set to false at build time</span><br><span class="line">Field org.springframework.web.context.request.RequestContextHolder#jsfPresent set to false at build time</span><br><span class="line">Field org.springframework.context.event.ApplicationListenerMethodAdapter#reactiveStreamsPresent set to false at build time</span><br><span class="line">Field org.springframework.boot.logging.logback.LogbackLoggingSystemProperties#JBOSS_LOGGING_PRESENT set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#jaxb2Present set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#jackson2Present set to true at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#jackson2XmlPresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#jackson2SmilePresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#gsonPresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#jsonbPresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#kotlinSerializationCborPresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#kotlinSerializationJsonPresent set to false at build time</span><br><span class="line">Field org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter#kotlinSerializationProtobufPresent set to false at build time</span><br><span class="line">Field org.springframework.boot.autoconfigure.web.format.WebConversionService#JSR_354_PRESENT set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#romePresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jaxb2Present set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jackson2Present set to true at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jackson2XmlPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jackson2SmilePresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jackson2CborPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#gsonPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#jsonbPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#kotlinSerializationCborPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#kotlinSerializationJsonPresent set to false at build time</span><br><span class="line">Field org.springframework.web.client.RestTemplate#kotlinSerializationProtobufPresent set to false at build time</span><br><span class="line">Field org.springframework.core.ReactiveAdapterRegistry#reactorPresent set to false at build time</span><br><span class="line">Field org.springframework.core.ReactiveAdapterRegistry#rxjava3Present set to false at build time</span><br><span class="line">Field org.springframework.core.ReactiveAdapterRegistry#kotlinCoroutinesPresent set to false at build time</span><br><span class="line">Field org.springframework.core.ReactiveAdapterRegistry#mutinyPresent set to false at build time</span><br><span class="line">SLF4J: No SLF4J providers were found.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.</span><br><span class="line">Field org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler#isContextPropagationPresent set to false at build time</span><br><span class="line">Field org.springframework.web.servlet.support.RequestContext#jstlPresent set to false at build time</span><br><span class="line">[2/7] Performing analysis...  [*********]                                                               (54.5s @ 1.28GB)</span><br><span class="line">  15,278 (92.35%) of 16,544 classes reachable</span><br><span class="line">  24,932 (67.63%) of 36,867 fields reachable</span><br><span class="line">  73,534 (62.25%) of 118,132 methods reachable</span><br><span class="line">     780 classes,   163 fields, and 3,506 methods registered for reflection</span><br><span class="line">      64 classes,    70 fields, and    55 methods registered for JNI access</span><br><span class="line">       4 native libraries: dl, pthread, rt, z</span><br><span class="line">[3/7] Building universe...                                                                               (5.2s @ 4.12GB)</span><br><span class="line">[4/7] Parsing methods...      [**]                                                                       (4.2s @ 4.35GB)</span><br><span class="line">[5/7] Inlining methods...     [***]                                                                      (1.9s @ 2.82GB)</span><br><span class="line">[6/7] Compiling methods...    [*****]                                                                   (27.8s @ 3.46GB)</span><br><span class="line">[7/7] Creating image...                                                                                  (6.1s @ 1.15GB)</span><br><span class="line">  32.83MB (49.82%) for code area:    48,151 compilation units</span><br><span class="line">  32.75MB (49.70%) for image heap:  354,531 objects and 320 resources</span><br><span class="line"> 324.99KB ( 0.48%) for other data</span><br><span class="line">  65.90MB in total</span><br><span class="line">------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">Top 10 packages in code area:                               Top 10 object types in image heap:</span><br><span class="line">   1.63MB sun.security.ssl                                     7.21MB byte[] for code metadata</span><br><span class="line">   1.04MB java.util                                            3.88MB byte[] for embedded resources</span><br><span class="line"> 832.55KB java.lang.invoke                                     3.63MB java.lang.Class</span><br><span class="line"> 718.00KB com.sun.crypto.provider                              3.39MB java.lang.String</span><br><span class="line"> 541.00KB org.apache.catalina.core                             2.80MB byte[] for java.lang.String</span><br><span class="line"> 499.59KB org.apache.tomcat.util.net                           2.79MB byte[] for general heap data</span><br><span class="line"> 490.49KB org.apache.coyote.http2                              1.28MB com.oracle.svm.core.hub.DynamicHubCompanion</span><br><span class="line"> 472.53KB java.lang                                          815.22KB byte[] for reflection metadata</span><br><span class="line"> 461.63KB sun.security.x509                                  659.44KB java.lang.String[]</span><br><span class="line"> 459.52KB java.util.concurrent                               648.80KB java.util.HashMap$Node</span><br><span class="line">  25.43MB for 637 more packages                                5.47MB for 3070 more object types</span><br><span class="line">------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">                        9.1s (7.9% of total time) in 37 GCs | Peak RSS: 6.43GB | CPU load: 4.46</span><br><span class="line">------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">Produced artifacts:</span><br><span class="line"> /home/hanwei/demo/target/demo (executable)</span><br><span class="line"> /home/hanwei/demo/target/demo.build_artifacts.txt (txt)</span><br><span class="line">========================================================================================================================</span><br><span class="line">Finished generating &#x27;demo&#x27; in 1m 53s.</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  01:55 min</span><br><span class="line">[INFO] Finished at: 2022-11-28T23:55:32+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡ŒäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯åŠ¨é€Ÿåº¦åªæœ‰ 0.052 seconds ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[hanwei@backendcloud-centos9 ~]$ cd demo/target/</span><br><span class="line">[hanwei@backendcloud-centos9 target]$ ls</span><br><span class="line">classes  demo  demo-0.0.1-SNAPSHOT.jar  demo-0.0.1-SNAPSHOT.jar.original  demo.build_artifacts.txt  generated-sources  generated-test-sources  graalvm-reachability-metadata  maven-archiver  maven-status  spring-aot  surefire-reports  test-classes</span><br><span class="line">[hanwei@backendcloud-centos9 target]$ ./demo </span><br><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&#x27;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#x27;_ | &#x27;_| | &#x27;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#x27;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::                (v3.0.0)</span><br><span class="line"></span><br><span class="line">2022-11-29T00:03:59.026+08:00  INFO 12061 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 17.0.5 with PID 12061 (/home/hanwei/demo/target/demo started by hanwei in /home/hanwei/demo/target)</span><br><span class="line">2022-11-29T00:03:59.026+08:00  INFO 12061 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;</span><br><span class="line">2022-11-29T00:03:59.040+08:00  INFO 12061 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2022-11-29T00:03:59.040+08:00  INFO 12061 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2022-11-29T00:03:59.040+08:00  INFO 12061 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]</span><br><span class="line">2022-11-29T00:03:59.044+08:00  INFO 12061 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2022-11-29T00:03:59.044+08:00  INFO 12061 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18 ms</span><br><span class="line">2022-11-29T00:03:59.068+08:00  INFO 12061 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#x27;&#x27;</span><br><span class="line">2022-11-29T00:03:59.068+08:00  INFO 12061 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.052 seconds (process running for 0.056)</span><br><span class="line">[hanwei@backendcloud-centos9 target]$ ll -h</span><br><span class="line">total 84M</span><br><span class="line">drwxr-xr-x. 5 hanwei hanwei   74 Nov 28 23:15 classes</span><br><span class="line">-rwxr-xr-x. 1 hanwei hanwei  66M Nov 28 23:55 demo</span><br><span class="line">-rw-r--r--. 1 hanwei hanwei  18M Nov 28 23:49 demo-0.0.1-SNAPSHOT.jar</span><br><span class="line">-rw-r--r--. 1 hanwei hanwei 119K Nov 28 23:49 demo-0.0.1-SNAPSHOT.jar.original</span><br><span class="line">-rw-r--r--. 1 hanwei hanwei   19 Nov 28 23:55 demo.build_artifacts.txt</span><br><span class="line">drwxr-xr-x. 3 hanwei hanwei   25 Nov 28 22:59 generated-sources</span><br><span class="line">drwxr-xr-x. 3 hanwei hanwei   30 Nov 28 22:59 generated-test-sources</span><br><span class="line">drwxr-xr-x. 4 hanwei hanwei  101 Nov 28 23:42 graalvm-reachability-metadata</span><br><span class="line">drwxr-xr-x. 2 hanwei hanwei   28 Nov 28 22:59 maven-archiver</span><br><span class="line">drwxr-xr-x. 3 hanwei hanwei   35 Nov 28 22:59 maven-status</span><br><span class="line">drwxr-xr-x. 3 hanwei hanwei   18 Nov 28 22:59 spring-aot</span><br><span class="line">drwxr-xr-x. 2 hanwei hanwei  153 Nov 28 23:03 surefire-reports</span><br><span class="line">drwxr-xr-x. 3 hanwei hanwei   17 Nov 28 22:59 test-classes</span><br></pre></td></tr></table></figure>
<p>å¯¹æ¯”ä¸¤ç§æ‰“åŒ…æ–¹å¼ï¼šjar åŒ…å’ŒåŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œjar åŒ… 18 å…†ï¼ŒåŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶å› ä¸ºå¯ä»¥ä¸ä¾èµ– java è¿è¡Œç¯å¢ƒè€Œç›´æ¥è¿è¡Œï¼Œæ‰€ä»¥ä½“ç§¯å¤§äº›ï¼Œ60 å…†ã€‚</p>
<p>ä¸Šé¢æ˜¯é€šè¿‡ Linux Idea çš„ Maven çª—å£æ‰§è¡Œçš„ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ mvn å‘½ä»¤ç”ŸæˆåŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[hanwei@backendcloud-centos9 target]$ which mvn</span><br><span class="line">~/.local/bin/mvn</span><br><span class="line">[hanwei@backendcloud-centos9 target]$ ll ~/.local/bin/mvn</span><br><span class="line">lrwxrwxrwx. 1 hanwei hanwei 107 Nov 28 22:57 /home/hanwei/.local/bin/mvn -&gt; /home/hanwei/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/bin/mvn</span><br><span class="line"># åˆ°feature-nativeç›®å½•ä¸‹</span><br><span class="line">[hanwei@backendcloud-centos9 demo]$ cd ..</span><br><span class="line">[hanwei@backendcloud-centos9 demo]$ mvn clean</span><br><span class="line"># æ‰“åŒ…</span><br><span class="line">[hanwei@backendcloud-centos9 demo]$ mvn package -Pnative</span><br><span class="line"># å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line">[hanwei@backendcloud-centos9 demo]$ mvn native:compile-no-fork </span><br><span class="line"># åˆ°targetç›®å½•ä¸‹å¯åŠ¨å¯æ‰§è¡Œæ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢çš„æ‰§è¡Œæ•ˆæœå¯¹æ¯”çœ‹å‡ºï¼Œäº‘åŸç”Ÿæ—¶ä»£çš„ Spring Boot 3.0: GraalVM ç¼–è¯‘çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯åŠ¨é€Ÿåº¦ç›¸å¯¹äºä¼ ç»Ÿ jar åŒ…æå‡è¿‘ 30 å€ï¼ˆ1.335 seconds -&gt; 0.052 secondsï¼‰ã€‚</p>
<h1 id="æ¬¢è¿è®¢é˜…å¾®ä¿¡å…¬ä¼—å·-interviewcoder"><a class="markdownIt-Anchor" href="#æ¬¢è¿è®¢é˜…å¾®ä¿¡å…¬ä¼—å·-interviewcoder">#</a> æ¬¢è¿è®¢é˜…å¾®ä¿¡å…¬ä¼—å· â€œInterviewCoderâ€ ï¼</h1>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.680Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-11-24T19:21:20.000Z" title="2022/11/25 03:21:20">2022-11-25</time>æ›´æ–°</span><span class="level-item">15 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2268ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90MySQL%E3%80%91Mysql%E4%B8%BB%E4%BB%8E%E9%9B%86%E7%BE%A4/">Mysqlä¸»ä»é›†ç¾¤æ­å»ºæ–‡æ¡£ï¼Œå®ç°è¯»å†™åˆ†ç¦»</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h2 id="mysqlä¸»ä»é›†ç¾¤æ­å»ºæ–‡æ¡£å®ç°è¯»å†™åˆ†ç¦»"><a class="markdownIt-Anchor" href="#mysqlä¸»ä»é›†ç¾¤æ­å»ºæ–‡æ¡£å®ç°è¯»å†™åˆ†ç¦»">#</a> Mysql ä¸»ä»é›†ç¾¤æ­å»ºæ–‡æ¡£ï¼Œå®ç°è¯»å†™åˆ†ç¦»</h2>
<p>â€‹		æœ€è¿‘åœ¨è‡ªå·±å†™çš„é¡¹ç›®ä¸­éœ€è¦åº”å¯¹å¤§é‡çš„ç”¨æˆ·æŸ¥è¯¢è¯»å†™æ“ä½œï¼Œä¸€å°æœåŠ¡å™¨å½“ç„¶æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥åœ¨è¾¹å­¦è¾¹æ•²çš„èƒŒæ™¯ä¸‹ï¼Œè®°å½•è¿™ç¯‡ç¬”è®°ï¼Œä» 0 å¼€å§‹æ­å»ºä¸»ä»é›†ç¾¤ã€‚</p>
<h4 id="ä¸‹é¢å¼€å§‹æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸‹é¢å¼€å§‹æ“ä½œ">#</a> ä¸‹é¢ğŸ‘‡å¼€å§‹æ“ä½œï¼š</h4>
<p>1. åˆ†åˆ«åœ¨ä¸¤å°æœåŠ¡å™¨æ­å»º mysql æœåŠ¡</p>
<p>â€‹		ä¸¤å°æœåŠ¡å™¨çš„ IP åœ°å€åˆ†åˆ«ä¸ºä¸»æœåŠ¡å™¨ï¼ˆ192.168.20.1ï¼‰å’Œä»æœåŠ¡å™¨ï¼ˆ192.168.20.2ï¼‰ã€‚<br>
2. é…ç½®æ–‡ä»¶ my.cnf çš„ä¿®æ”¹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œç¼–è¾‘my.cnfæ–‡ä»¶</span></span><br><span class="line">[root@localhost mysql]# vim /etc/my.cnf</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨[mysqld]ä¸­æ·»åŠ ï¼š</span></span><br><span class="line">server-id=1</span><br><span class="line">log_bin=master-bin</span><br><span class="line">log_bin_index=master-bin.index</span><br><span class="line">binlog_do_db=test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¤‡æ³¨ï¼š</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">server-id æœåŠ¡å™¨å”¯ä¸€æ ‡è¯†ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">log_bin å¯åŠ¨MySQLäºŒè¿›åˆ¶æ—¥å¿—ï¼Œå³æ•°æ®åŒæ­¥è¯­å¥ï¼Œä»æ•°æ®åº“ä¼šä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œè¿™äº›è¯­å¥ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">binlog_do_db æŒ‡å®šè®°å½•äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ï¼Œå³éœ€è¦å¤åˆ¶çš„æ•°æ®åº“åï¼Œå¦‚æœå¤åˆ¶å¤šä¸ªæ•°æ®åº“ï¼Œé‡å¤è®¾ç½®è¿™ä¸ªé€‰é¡¹å³å¯ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">binlog_ignore_db æŒ‡å®šä¸è®°å½•äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ï¼Œå³ä¸éœ€è¦å¤åˆ¶çš„æ•°æ®åº“åï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®åº“ï¼Œé‡å¤è®¾ç½®è¿™ä¸ªé€‰é¡¹å³å¯ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œbinlog_do_dbå’Œbinlog_ignore_dbä¸ºäº’æ–¥é€‰é¡¹ï¼Œä¸€èˆ¬åªéœ€è¦ä¸€ä¸ªå³å¯ã€‚</span></span><br></pre></td></tr></table></figure>
<p>3. åˆ›å»ºä»æœåŠ¡å™¨çš„ç”¨æˆ·å’Œæƒé™</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥mysqlæ•°æ®åº“</span></span><br><span class="line">[root@localhost mysql]# mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºä»æ•°æ®åº“çš„rootç”¨æˆ·å’Œæƒé™</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">grant replication slave on *.* to root@<span class="string">&#x27;192.168.20.%&#x27;</span> identified by <span class="string">&#x27;Lgq081538&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line">grant replication slave on *.* to &#x27;123456&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¤‡æ³¨</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">192.168.20.%é€šé…ç¬¦ï¼Œè¡¨ç¤º0-255çš„IPéƒ½å¯è®¿é—®ä¸»æœåŠ¡å™¨ï¼Œæ­£å¼ç¯å¢ƒè¯·é…ç½®æŒ‡å®šä»æœåŠ¡å™¨IP</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è‹¥å°† 192.168.20.% æ”¹ä¸º %ï¼Œåˆ™ä»»ä½•ipå‡å¯ä½œä¸ºå…¶ä»æ•°æ®åº“æ¥è®¿é—®ä¸»æœåŠ¡å™¨</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é€€å‡ºmysql</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"><span class="built_in">exit</span>;</span></span><br></pre></td></tr></table></figure>
<p>4. é‡å¯ mysql æœåŠ¡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# service mysql restart</span><br><span class="line">Shutting down MySQL.... SUCCESS! </span><br><span class="line">Starting MySQL. SUCCESS! </span><br></pre></td></tr></table></figure>
<p>5. æŸ¥çœ‹ä¸»æœåŠ¡å™¨çŠ¶æ€</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥mysqlæ•°æ®åº“</span></span><br><span class="line">[root@localhost mysql]# mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸»æœåŠ¡å™¨çŠ¶æ€</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show master status;</span></span><br><span class="line">+-------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| File              | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+-------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| master-bin.000001 |      154 | test         |                  |                   |</span><br><span class="line">+-------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>6.slave ä»æœåŠ¡å™¨çš„é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">é…ç½®æ–‡ä»¶my.cnfçš„ä¿®æ”¹</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œç¼–è¾‘my.cnfæ–‡ä»¶</span></span><br><span class="line">[root@localhost mysql]# vim /etc/my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨[mysqld]ä¸­æ·»åŠ ï¼š</span></span><br><span class="line">server-id=2</span><br><span class="line">relay-log=slave-relay-bin</span><br><span class="line">relay-log-index=slave-relay-bin.index</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">replicate-do-db=<span class="built_in">test</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¤‡æ³¨ï¼š</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">server-id æœåŠ¡å™¨å”¯ä¸€æ ‡è¯†ï¼Œå¦‚æœæœ‰å¤šä¸ªä»æœåŠ¡å™¨ï¼Œæ¯ä¸ªæœåŠ¡å™¨çš„server-idä¸èƒ½é‡å¤ï¼Œè·ŸIPä¸€æ ·æ˜¯å”¯ä¸€æ ‡è¯†ï¼Œå¦‚æœä½ æ²¡è®¾ç½®server-idæˆ–è€…è®¾ç½®ä¸º0ï¼Œåˆ™ä»æœåŠ¡å™¨ä¸ä¼šè¿æ¥åˆ°ä¸»æœåŠ¡å™¨ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">relay-log å¯åŠ¨MySQLäºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¯ä»¥ç”¨æ¥åšæ•°æ®å¤‡ä»½å’Œå´©æºƒæ¢å¤ï¼Œæˆ–ä¸»æœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œå°†æ­¤ä»æœåŠ¡å™¨ä½œä¸ºå…¶ä»–ä»æœåŠ¡å™¨çš„ä¸»æœåŠ¡å™¨ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">replicate-do-db æŒ‡å®šåŒæ­¥çš„æ•°æ®åº“ï¼Œå¦‚æœå¤åˆ¶å¤šä¸ªæ•°æ®åº“ï¼Œé‡å¤è®¾ç½®è¿™ä¸ªé€‰é¡¹å³å¯ã€‚è‹¥åœ¨masterç«¯ä¸æŒ‡å®šbinlog-do-dbï¼Œåˆ™åœ¨slaveç«¯å¯ç”¨replication-do-dbæ¥è¿‡æ»¤ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">replicate-ignore-db ä¸éœ€è¦åŒæ­¥çš„æ•°æ®åº“ï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®åº“ï¼Œé‡å¤è®¾ç½®è¿™ä¸ªé€‰é¡¹å³å¯ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œreplicate-do-dbå’Œreplicate-ignore-dbä¸ºäº’æ–¥é€‰é¡¹ï¼Œä¸€èˆ¬åªéœ€è¦ä¸€ä¸ªå³å¯ã€‚</span></span><br></pre></td></tr></table></figure>
<p>7. é‡å¯ mysql æœåŠ¡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# service mysql restart</span><br><span class="line">Shutting down MySQL.... SUCCESS! </span><br><span class="line">Starting MySQL. SUCCESS! </span><br></pre></td></tr></table></figure>
<p>8. è¿æ¥ master ä¸»æœåŠ¡å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥mysqlæ•°æ®åº“</span></span><br><span class="line">[root@localhost mysql]# mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿æ¥masterä¸»æœåŠ¡å™¨</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">change master to master_host=<span class="string">&#x27;192.168.20.1&#x27;</span>,master_port=3306,master_user=<span class="string">&#x27;root&#x27;</span>,master_password=<span class="string">&#x27;123456&#x27;</span>,master_log_file=<span class="string">&#x27;master-bin.000009&#x27;</span>,master_log_pos=473127;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¤‡æ³¨ï¼š</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master_hostå¯¹åº”ä¸»æœåŠ¡å™¨çš„IPåœ°å€ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master_portå¯¹åº”ä¸»æœåŠ¡å™¨çš„ç«¯å£ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master_log_fileå¯¹åº”show master statusæ˜¾ç¤ºçš„Fileåˆ—ï¼šmaster-bin.000001ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master_log_poså¯¹åº”show master statusæ˜¾ç¤ºçš„Positionåˆ—ï¼š154ã€‚</span></span><br></pre></td></tr></table></figure>
<p>9. å¯åŠ¨ slave æ•°æ®åŒæ­¥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨slaveæ•°æ®åŒæ­¥</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">start slave;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœæ­¢slaveæ•°æ®åŒæ­¥ï¼ˆè‹¥æœ‰éœ€è¦ï¼‰</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">stop slave;</span></span><br><span class="line">3.5 æŸ¥çœ‹slaveä¿¡æ¯</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show slave status\G;</span></span><br><span class="line">Slave_IO_Runningå’ŒSlave_SQL_Runningéƒ½ä¸ºyesï¼Œåˆ™è¡¨ç¤ºåŒæ­¥æˆåŠŸã€‚</span><br></pre></td></tr></table></figure>
<p>10. æµ‹è¯•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰åœ¨ä¸»æœåŠ¡å™¨ä¸Šç™»é™†mysqlï¼Œä¸”è¿›å…¥testæ•°æ®åº“ï¼Œåˆ›å»ºtestè¡¨ï¼Œä¸”æ’å…¥ä¸€æ¡æ•°æ®</span><br><span class="line">æç¤ºï¼šè¿™é‡Œæœ€å¥½ç”¨æ•°æ®åº“ç®¡ç†å·¥å…·ï¼ˆå¦‚nacicatï¼‰æ¥æ“ä½œã€‚</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºtb_testè¡¨</span></span><br><span class="line">create table tb_test(ID varchar(36) primary key comment &#x27;ä¸»é”®ID&#x27;,MEMO varchar(500) not null comment &#x27;ä¿¡æ¯&#x27;);</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ’å…¥ä¸€æ¡æ•°æ®</span></span><br><span class="line">insert into tb_test(ID,MEMO) values(&#x27;1&#x27;,&#x27;one test&#x27;);</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æäº¤</span></span><br><span class="line">commit;</span><br><span class="line">ï¼ˆ2ï¼‰åœ¨ä»æœåŠ¡å™¨ä¸Šç™»é™†mysqlï¼Œä¸”è¿›å…¥testæ•°æ®åº“</span><br><span class="line">ä½ ä¼šå‘ç°ä»æ•°æ®åº“ä¸­ï¼Œä¹Ÿå‡ºç°äº†tb_testè¡¨ï¼Œä¸”è¡¨ä¸­è¿˜æœ‰one testæ•°æ®å­˜åœ¨ï¼Œè¯æ˜åŒæ­¥æ•°æ®æˆåŠŸã€‚</span><br></pre></td></tr></table></figure>
<h3 id="è‡³æ­¤mysqlä¸»ä»è¯»å†™åˆ†ç¦»æ­å»ºå®Œæˆ"><a class="markdownIt-Anchor" href="#è‡³æ­¤mysqlä¸»ä»è¯»å†™åˆ†ç¦»æ­å»ºå®Œæˆ">#</a> è‡³æ­¤ Mysql ä¸»ä»è¯»å†™åˆ†ç¦»æ­å»ºå®Œæˆ</h3>
<p>ä¸‹é¢å¼€å§‹æ­å»º Spring Boot é¡¹ç›®ä¸­çš„ç›¸å…³é…ç½®ä»¥åŠå®ç°ğŸ‘‡</p>
<p>â€‹		è¯»å†™åˆ†ç¦»è¦åšçš„äº‹æƒ…å°±æ˜¯å¯¹äºä¸€æ¡ SQL è¯¥é€‰æ‹©å“ªä¸ªæ•°æ®åº“å»æ‰§è¡Œï¼Œè‡³äºè°æ¥åšé€‰æ‹©æ•°æ®åº“è¿™ä»¶äº‹ï¼Œä¸»è¦æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºï¼š<br>
1. ä½¿ç”¨ä¸­é—´ä»¶ï¼Œæ¯”å¦‚ Atlasï¼Œcobarï¼ŒTDDLï¼Œmycatï¼Œheisenbergï¼ŒOceanusï¼Œvitessï¼ŒOneProxy ç­‰<br>
 2. ä½¿ç”¨ç¨‹åºè‡ªå·±å®ç°ï¼Œåˆ©ç”¨ Spring Boot æä¾›çš„è·¯ç”±æ•°æ®æºä»¥åŠ AOPï¼Œå®ç°èµ·æ¥ç®€å•å¿«æ·<br>
â€‹</p>
<p>â€‹		æˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ Spring Boot æ•°æ®æºè·¯ç”± + AOP ï¼Œè¿™æ ·èƒ½æ›´å¥½çš„æ§åˆ¶æµç¨‹ï¼Œä¹Ÿä¾¿äºåæœŸæå‡æ€§èƒ½ï¼›</p>
<p>ä»£ç å®ç°<br>
 1. é¦–å…ˆé…ç½®ä¸‹ pom.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=xml&amp;spm=1001.2101.3001.7020">xml</a> å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ aop å®ç°ï¼Œæ‰€ä»¥éœ€è¦ aop ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2. æ•°æ®æºè·¯ç”±ç±»åŠŸèƒ½ RoutingDataSource.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * æ•°æ®æºè·¯ç”±ç±»åŠŸèƒ½</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RoutingDataSource</span> <span class="keyword">extends</span> <span class="title class_">AbstractRoutingDataSource</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Object <span class="title function_">determineCurrentLookupKey</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> DBContext.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3. æ•°æ®æºä¸Šä¸‹æ–‡ç±» DBContext.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * æ•°æ®æºä¸Šä¸‹æ–‡ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DBContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;DBTypeEnum&gt; dbContext = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AtomicInteger</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(DBTypeEnum dbType)</span> &#123;</span><br><span class="line">        dbContext.set(dbType);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> DBTypeEnum <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dbContext.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">master</span><span class="params">()</span> &#123;</span><br><span class="line">        set(DBTypeEnum.MASTER);</span><br><span class="line">        log.info(<span class="string">&quot;åˆ‡æ¢åˆ°masteråº“&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">slave</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//  è¯»åº“è´Ÿè½½å‡è¡¡(è½®è¯¢æ–¹å¼)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> counter.getAndIncrement() % <span class="number">2</span>;</span><br><span class="line">        log.info(<span class="string">&quot;slaveåº“è®¿é—®çº¿ç¨‹æ•°==&gt;&#123;&#125;&quot;</span>, counter.get());</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">            set(DBTypeEnum.SLAVE1);</span><br><span class="line">            log.info(<span class="string">&quot;åˆ‡æ¢åˆ°slave1åº“&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            set(DBTypeEnum.SLAVE2);</span><br><span class="line">            log.info(<span class="string">&quot;åˆ‡æ¢åˆ°slave2åº“&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4. æ•°æ®åº“æšä¸¾ç±» DBTypeEnum.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.databases;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * æ•°æ®åº“æšä¸¾ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">DBTypeEnum</span> &#123;</span><br><span class="line">    MASTER, <span class="comment">//ä¸»åº“</span></span><br><span class="line">    SLAVE1, <span class="comment">//ä»åº“1</span></span><br><span class="line">    SLAVE2  <span class="comment">//ä»åº“2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬é…ç½®ä¸‰ä¸ªåº“ï¼Œåˆ†åˆ«æ˜¯ä¸€ä¸ªå†™åº“ Masterï¼Œ2 ä¸ªè¯»åº“ slave1,slave2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.jdbc.DataSourceBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * æ•°æ®åº“é…ç½®ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataSourceConfigs</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(&quot;spring.datasource.master&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">masterDataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(&quot;spring.datasource.slave1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">slave1DataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(&quot;spring.datasource.slave2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">slave2DataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">myRoutingDataSource</span><span class="params">(<span class="meta">@Qualifier(&quot;masterDataSource&quot;)</span> DataSource masterDataSource,</span></span><br><span class="line"><span class="params">                                          <span class="meta">@Qualifier(&quot;slave1DataSource&quot;)</span> DataSource slave1DataSource,</span></span><br><span class="line"><span class="params">                                          <span class="meta">@Qualifier(&quot;slave2DataSource&quot;)</span> DataSource slave2DataSource)</span> &#123;</span><br><span class="line">        Map&lt;Object, Object&gt; targetDataSources = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        targetDataSources.put(DBTypeEnum.MASTER, masterDataSource);</span><br><span class="line">        targetDataSources.put(DBTypeEnum.SLAVE1, slave1DataSource);</span><br><span class="line">        targetDataSources.put(DBTypeEnum.SLAVE2, slave2DataSource);</span><br><span class="line">        <span class="type">RoutingDataSource</span> <span class="variable">routingDataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RoutingDataSource</span>();</span><br><span class="line">        routingDataSource.setDefaultTargetDataSource(masterDataSource);</span><br><span class="line">        routingDataSource.setTargetDataSources(targetDataSources);</span><br><span class="line">        <span class="keyword">return</span> routingDataSource;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6. åˆ‡é¢ç±» DataSourceAop.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * åˆ‡é¢ç±»DataSourceAop</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataSourceAop</span> &#123;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;@annotation(com.example.demo.databases.Master) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.insert*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.create*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.save*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.add*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.update*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.edit*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.delete*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.remove*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writePointcut</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;!@annotation(com.example.demo.databases.Master) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;&amp;&amp; (execution(* com.example.demo.*.service..*.select*(..)) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.list*(..))&quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.count*(..))&quot; +</span></span><br><span class="line"><span class="meta">            &quot;|| execution(* com.example.demo.*.service..*.get*(..)))&quot;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readPointcut</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;writePointcut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">()</span> &#123;</span><br><span class="line">        DBContext.master();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;readPointcut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> &#123;</span><br><span class="line">        DBContext.slave();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>7. æ³¨è§£ç±» Master.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.databases;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/6/24 12:05</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * æ³¨è§£ç±»Master ä¸»åº“ï¼Œå¯è¯»å†™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Master &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.678Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-11-20T11:52:27.000Z" title="2022/11/20 19:52:27">2022-11-20</time>æ›´æ–°</span><span class="level-item">7 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦1100ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90RocketMQ%E3%80%91RocketMQ%E6%96%87%E6%A1%A3/">RocketMQ - åå¹´åŒåä¸€å¹¶å‘ç¥å™¨ï¼Œæœ€å¥½çš„æ¶ˆæ¯é˜Ÿåˆ— Linuxä¸‹å®‰è£…ä¸éƒ¨ç½²&amp;SpringBootç®€å•åº”ç”¨</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h2 id="rocketmq-440-ä¸‹è½½"><a class="markdownIt-Anchor" href="#rocketmq-440-ä¸‹è½½">#</a> RocketMQ 4.4.0 ä¸‹è½½</h2>
<p>ä½œè€…å·²ç»åœ¨è‡ªå·±çš„æœåŠ¡å™¨æŒ‚è½½äº† RocketMQ 4.4.0 çš„å®‰è£…åŒ…å’Œæ§åˆ¶å°ï¼Œç‚¹å‡»é“¾æ¥ä¸‹è½½</p>
<p>rocketMQ 4.4.0 å®‰è£…åŒ… http://124.222.229.230:8080/rocketmq-all-4.4.0-bin-release.zip</p>
<p>rocketMQ æ§åˆ¶å° å®‰è£…åŒ… http://124.222.229.230:8080/rocketmq-externals-rocketmq-console-1.0.0.zip</p>
<p>åœ¨ä½¿ç”¨å‰å¦‚æœæ•´åˆå¾®æœåŠ¡ï¼Œè¯·æ³¨æ„ SpringCloudAliabba ä¸å„ç»„ä»¶ä¹‹é—´çš„ç‰ˆæœ¬å¯¹åº”å…³ç³»</p>
<p><img src="https://brath.cloud/blogImg/image-20220630110604813.png" alt="image-20220630110604813"></p>
<p>ä½œè€…ä½¿ç”¨ SpringCloudAlibaba 2.2.5 RELEASE ç‰ˆæœ¬ï¼Œæ‰€ä»¥å¯¹åº”ä½¿ç”¨ RocketMQ 4.4.0 ç‰ˆæœ¬</p>
<p>å°†ä¸‹è½½å¥½çš„å®‰è£…åŒ…ä¸Šä¼ è‡³ Linux æœåŠ¡å™¨</p>
<p><img src="https://brath.cloud/blogImg/image-20220701120747236.png" alt="image-20220701120747236"></p>
<p>å°†å‹ç¼©åŒ…è§£å‹è‡³åˆ›å»ºå¥½çš„ rocketMQ æ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip rocketmq-all-4.4.0-bin-release.zip rocketMQ</span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§å®˜ç½‘æµç¨‹ï¼Œå¯åŠ¨ nameServerï¼ŒbrokerServer æœåŠ¡</p>
<h3 id="å¯åŠ¨nameserver"><a class="markdownIt-Anchor" href="#å¯åŠ¨nameserver">#</a> å¯åŠ¨ nameServer</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨æœåŠ¡</span></span><br><span class="line">nohup ./mqnamesrv -n 124.222.229.230:9876 &amp;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">tail -f ~/logs/rocketmqlogs/namesrv.log</span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨brokerserver"><a class="markdownIt-Anchor" href="#å¯åŠ¨brokerserver">#</a> å¯åŠ¨ brokerServer</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨æœåŠ¡</span></span><br><span class="line">nohup ./mqbroker -n 124.222.229.230:9876 -c ../conf/broker.conf autoCreateTopicEnable=true &amp;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">tail -f ~/logs/rocketmqlogs/broker.log</span><br></pre></td></tr></table></figure>
<h3 id="å‘é€æ¶ˆæ¯æµ‹è¯•"><a class="markdownIt-Anchor" href="#å‘é€æ¶ˆæ¯æµ‹è¯•">#</a> å‘é€æ¶ˆæ¯æµ‹è¯•</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</span><br></pre></td></tr></table></figure>
<h4 id="æ¶ˆè´¹æ¶ˆæ¯æµ‹è¯•"><a class="markdownIt-Anchor" href="#æ¶ˆè´¹æ¶ˆæ¯æµ‹è¯•">#</a> æ¶ˆè´¹æ¶ˆæ¯æµ‹è¯•</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer</span><br></pre></td></tr></table></figure>
<h2 id="springbootæ•´åˆ"><a class="markdownIt-Anchor" href="#springbootæ•´åˆ">#</a> SpringBoot æ•´åˆ</h2>
<p>pom.xml æ·»åŠ </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.rocketmq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rocketmq-spring-boot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å°è£…å·¥å…·"><a class="markdownIt-Anchor" href="#å°è£…å·¥å…·">#</a> å°è£…å·¥å…·ï¼š</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.brath.common.rocketmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.producer.SendCallback;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.producer.SendResult;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.spring.core.RocketMQTemplate;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.messaging.Message;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PreDestroy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/3/31 13:59</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 2: enjoy_ light_ sports@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@PPseudonym</span>: enjoy sports nutrition</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Program</span> body: enjoy notes</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RocketMQUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * SLF4Jæ—¥å¿—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(RocketMQUtil.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * rocketmqæ¨¡æ¿æ³¨å…¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RocketMQTemplate rocketMQTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;---RocketMqå·¥å…·åˆå§‹åŒ–---&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic   æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(Enum topic, Message&lt;?&gt; message)</span> &#123;</span><br><span class="line">        asyncSend(topic.name(), message, getDefaultSendCallBack());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic        æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message      æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sendCallback å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(Enum topic, Message&lt;?&gt; message, SendCallback sendCallback)</span> &#123;</span><br><span class="line">        asyncSend(topic.name(), message, sendCallback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic   æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(String topic, Message&lt;?&gt; message)</span> &#123;</span><br><span class="line">        rocketMQTemplate.asyncSend(topic, message, getDefaultSendCallBack());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic        æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message      æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sendCallback å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(String topic, Message&lt;?&gt; message, SendCallback sendCallback)</span> &#123;</span><br><span class="line">        rocketMQTemplate.asyncSend(topic, message, sendCallback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic        æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message      æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sendCallback å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeout      è¶…æ—¶æ—¶é—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(String topic, Message&lt;?&gt; message, SendCallback sendCallback, <span class="type">long</span> timeout)</span> &#123;</span><br><span class="line">        rocketMQTemplate.asyncSend(topic, message, sendCallback, timeout);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¼‚æ­¥æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic        æ¶ˆæ¯Topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message      æ¶ˆæ¯å®ä½“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sendCallback å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeout      è¶…æ—¶æ—¶é—´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> delayLevel   å»¶è¿Ÿæ¶ˆæ¯çš„çº§åˆ«</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">asyncSend</span><span class="params">(String topic, Message&lt;?&gt; message, SendCallback sendCallback, <span class="type">long</span> timeout, <span class="type">int</span> delayLevel)</span> &#123;</span><br><span class="line">        rocketMQTemplate.asyncSend(topic, message, sendCallback, timeout, delayLevel);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€é¡ºåºæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> hashKey</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">syncSendOrderly</span><span class="params">(Enum topic, Message&lt;?&gt; message, String hashKey)</span> &#123;</span><br><span class="line">        syncSendOrderly(topic.name(), message, hashKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€é¡ºåºæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> hashKey</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">syncSendOrderly</span><span class="params">(String topic, Message&lt;?&gt; message, String hashKey)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;å‘é€é¡ºåºæ¶ˆæ¯ï¼Œtopic:&quot;</span> + topic + <span class="string">&quot;,hashKey:&quot;</span> + hashKey);</span><br><span class="line">        rocketMQTemplate.syncSendOrderly(topic, message, hashKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€é¡ºåºæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> topic</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> hashKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeout</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">syncSendOrderly</span><span class="params">(String topic, Message&lt;?&gt; message, String hashKey, <span class="type">long</span> timeout)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;å‘é€é¡ºåºæ¶ˆæ¯ï¼Œtopic:&quot;</span> + topic + <span class="string">&quot;,hashKey:&quot;</span> + hashKey + <span class="string">&quot;,timeout:&quot;</span> + timeout);</span><br><span class="line">        rocketMQTemplate.syncSendOrderly(topic, message, hashKey, timeout);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é»˜è®¤CallBackå‡½æ•°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> SendCallback <span class="title function_">getDefaultSendCallBack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SendCallback</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSuccess</span><span class="params">(SendResult sendResult)</span> &#123;</span><br><span class="line">                logger.info(<span class="string">&quot;---å‘é€MQæˆåŠŸ---&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onException</span><span class="params">(Throwable throwable)</span> &#123;</span><br><span class="line">                throwable.printStackTrace();</span><br><span class="line">                logger.error(<span class="string">&quot;---å‘é€MQå¤±è´¥---&quot;</span>+throwable.getMessage(), throwable.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;---RocketMqå·¥å…·æ³¨é”€---&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•å‘é€æ¶ˆæ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RocketMqUtil rocketMqutil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Producter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setName(<span class="string">&quot;brath&quot;</span>);</span><br><span class="line">        user.setAge(<span class="number">10</span>);</span><br><span class="line">        rocketMqHelper.asyncSend(<span class="string">&quot;REGIST_USER&quot;</span>, MessageBuilder.withPayload(user).build());</span><br><span class="line">       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•æ¶ˆè´¹æ¶ˆæ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hyh.core.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hyh.core.po.Person;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.spring.annotation.RocketMQMessageListener;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.spring.core.RocketMQListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: Brath</span></span><br><span class="line"><span class="comment"> * Create By Administrator on 2022/3/31 13:59</span></span><br><span class="line"><span class="comment"> * Strive to create higher performance code</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> wechat: 17604868415</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> QQ: 2634490675</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 1: email_ guoqing@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@My</span> email 2: enjoy_ light_ sports@163.com</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@PPseudonym</span>: enjoy sports nutrition</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Program</span> body: enjoy notes</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@RocketMQMessageListener(consumerGroup = &quot;$&#123;rocketmq.producer.groupName&#125;&quot;, topic = &quot;REGIST_USER&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonMqListener</span> <span class="keyword">implements</span> <span class="title class_">RocketMQListener</span>&lt;Person&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onMessage</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå¼€å§‹æ¶ˆè´¹..name:&quot;</span> + user.getName() + <span class="string">&quot;,age:&quot;</span> + user.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IvUserloginLog</span><br><span class="line">IvUserOperateLog</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.675Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-11-17T06:11:39.000Z" title="2022/11/17 14:11:39">2022-11-17</time>æ›´æ–°</span><span class="level-item">16 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2429ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90ElasticSearch%E3%80%91ElasticSearch%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/">ElasticSearch å¤„ç†æ£€ç´¢æµ·é‡æ•°æ®â€œç¥å™¨â€ï¼Ÿ</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<hr>
<blockquote>
<p><strong>æµ·é‡æ•°æ®æˆ‘ä»¬æ˜¯å¦‚ä½•å»æ£€ç´¢æ•°æ®å‘¢</strong>ï¼Œå¦‚ä½•å¿«é€Ÿå®šä½å‘¢ï¼Œå»æŸ¥è¯¢åå°æ•°æ®åº“å—ï¼Ÿ<strong>è¿˜æ˜¯èµ°ç¼“å­˜</strong>ï¼Œæ˜¯ä»€ä¹ˆç¼“å­˜èƒ½æ‰¿è½½è¿™ä¹ˆå¤§çš„ç¬¦åˆå‘¢ï¼Œå¹¶ä¸”å¿«é€Ÿæ£€ç´¢å‡ºæ¥ï¼Ÿå¯¹äºæµ·é‡çš„æ•°æ®æ˜¯<strong>å¯¹ç³»ç»Ÿæå¤§çš„å‹åŠ›</strong>ï¼Œ<em><strong>æˆ‘ä»¬è¯¥ä»ä»€ä¹ˆè§’åº¦å»å¤„ç†è¿™ä¸ªæ£˜æ‰‹çš„é—®é¢˜å‘¢</strong></em>ï¼Ÿ</p>
</blockquote>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/82bb3c20ec5d414c838322d08edd1015.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="elasticsearch"><a class="markdownIt-Anchor" href="#elasticsearch">#</a> <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=ElasticSearch&amp;spm=1001.2101.3001.7020">ElasticSearch</a> å¤„ç†æ£€ç´¢æµ·é‡æ•°æ® â€œç¥å™¨â€ï¼Ÿ</h2>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/aba293bd092b42368e36b7839eb7df10.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="11-ä»‹ç»"><a class="markdownIt-Anchor" href="#11-ä»‹ç»">#</a> 1.1 ä»‹ç»</h2>
<blockquote>
<p>Elasticsearch æ˜¯ä¸€ä¸ªåŸºäº<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Lucene&amp;spm=1001.2101.3001.7020"> Lucene</a> çš„æœç´¢æœåŠ¡å™¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼ŒåŸºäº RESTful<br>
web æ¥å£ã€‚Elasticsearch æ˜¯ç”¨ Java è¯­è¨€å¼€å‘çš„ï¼Œå¹¶ä½œä¸º<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Apache&amp;spm=1001.2101.3001.7020"> Apache</a> è®¸å¯æ¡æ¬¾ä¸‹çš„å¼€æ”¾æºç å‘å¸ƒï¼Œæ˜¯ä¸€ç§æµè¡Œçš„ä¼ä¸šçº§æœç´¢å¼•æ“ã€‚Elasticsearch ç”¨äºäº‘è®¡ç®—ä¸­ï¼Œèƒ½å¤Ÿè¾¾åˆ°å®æ—¶æœç´¢ï¼Œç¨³å®šï¼Œå¯é ï¼Œå¿«é€Ÿï¼Œå®‰è£…ä½¿ç”¨æ–¹ä¾¿ã€‚å®˜æ–¹å®¢æˆ·ç«¯åœ¨ Javaã€.NETï¼ˆC#ï¼‰ã€PHPã€Pythonã€Apache<br>
Groovyã€Ruby å’Œè®¸å¤šå…¶ä»–è¯­è¨€ä¸­éƒ½æ˜¯å¯ç”¨çš„ã€‚æ ¹æ® DB-Engines çš„æ’åæ˜¾ç¤ºï¼ŒElasticsearch æ˜¯æœ€å—æ¬¢è¿çš„ä¼ä¸šæœç´¢å¼•æ“ï¼Œå…¶æ¬¡æ˜¯ Apache<br>
Solrï¼Œä¹Ÿæ˜¯åŸºäº Luceneã€‚</p>
</blockquote>
<h2 id="12-es-ä»‹ç»å®˜ç½‘åœ°å€ä»¬"><a class="markdownIt-Anchor" href="#12-es-ä»‹ç»å®˜ç½‘åœ°å€ä»¬">#</a> 1.2 es ä»‹ç» â€œå®˜ç½‘åœ°å€ä»¬â€</h2>
<ol>
<li>å®˜æ–¹æ–‡æ¡£</li>
<li>ä¸­æ–‡å®˜æ–¹æ–‡æ¡£ 3.<a target="_blank" rel="noopener" href="https://es.xiaoleilu.com/index.html"> ä¸­æ–‡ç¤¾åŒº</a></li>
</ol>
<h2 id="21-åŸºæœ¬ä»‹ç»"><a class="markdownIt-Anchor" href="#21-åŸºæœ¬ä»‹ç»">#</a> 2.1 åŸºæœ¬ä»‹ç»</h2>
<blockquote>
<p><strong>1ã€Indexï¼ˆç´¢å¼•ï¼‰</strong> åŠ¨è¯ï¼Œç›¸å½“äº MySQL ä¸­çš„ insertï¼› åè¯ï¼Œç›¸å½“äº MySQL ä¸­çš„ Database<br>
<strong>2ã€Typeï¼ˆç±»å‹ï¼‰</strong> åœ¨ Indexï¼ˆç´¢å¼•ï¼‰ä¸­ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹ã€‚ ç±»ä¼¼äº MySQL ä¸­çš„ Tableï¼›æ¯ä¸€ç§ç±»å‹çš„æ•°æ®æ”¾åœ¨ä¸€èµ·ï¼›<br>
<strong>3ã€Documentï¼ˆæ–‡æ¡£ï¼‰</strong><br>
ä¿å­˜åœ¨æŸä¸ªç´¢å¼•ï¼ˆIndexï¼‰ä¸‹ï¼ŒæŸç§ç±»å‹ï¼ˆTypeï¼‰çš„ä¸€ä¸ªæ•°æ®ï¼ˆDocumentï¼‰ï¼Œæ–‡æ¡£æ˜¯ JSON æ ¼<br>
å¼çš„ï¼ŒDocument å°±åƒæ˜¯ MySQL ä¸­çš„æŸä¸ª Table é‡Œé¢çš„å†…å®¹ï¼›</p>
</blockquote>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/906e9a7bc76e4bba979fb394fe61a6cc.png" alt="æ•°æ®æ¦‚å¿µ"></p>
<h2 id="22-esæ˜¯å¦‚ä½•è¿›è¡Œæ£€ç´¢çš„å‘¢"><a class="markdownIt-Anchor" href="#22-esæ˜¯å¦‚ä½•è¿›è¡Œæ£€ç´¢çš„å‘¢">#</a> 2.2 ES æ˜¯å¦‚ä½•è¿›è¡Œæ£€ç´¢çš„å‘¢</h2>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/eddb7d02f575452fbfaa011cef1b75fa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="23-elasticsearch-é•¿å•¥æ ·å‘¢æœ‰æ— æ“ä½œç•Œé¢"><a class="markdownIt-Anchor" href="#23-elasticsearch-é•¿å•¥æ ·å‘¢æœ‰æ— æ“ä½œç•Œé¢">#</a> 2.3 ElasticSearch é•¿å•¥æ ·å‘¢ï¼Œæœ‰æ— æ“ä½œç•Œé¢</h2>
<blockquote>
<p>ElasticSearch<br>
 æ˜¯æœ‰æ“ä½œç•Œé¢çš„ï¼Œå®ƒéœ€è¦é…ç½®<strong> Kibana</strong>ï¼Œå’Œå®ƒä¸€èµ·æ“ä½œæ–¹ä¾¿ï¼Œä¹Ÿæ˜¯ä¸»æµçš„ä¸€ç§æ­é…æ–¹å¼ï¼Œå®‰è£…è¿™ä¸¤ä¸ªå·¥å…·ï¼Œä¸åšè¿‡å¤šä»‹ç»</p>
<p><em><strong>Kibana ä»‹ç»</strong></em> Kibana æ˜¯ä¸€æ¬¾å¼€æºçš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–å¹³å°ï¼Œå®ƒæ˜¯ Elastic Stack æˆå‘˜ä¹‹ä¸€ï¼Œè®¾è®¡ç”¨äºå’Œ Elasticsearch åä½œã€‚æ‚¨å¯ä»¥ä½¿ç”¨ Kibana å¯¹ Elasticsearch ç´¢å¼•ä¸­çš„æ•°æ®è¿›è¡Œæœç´¢ã€æŸ¥çœ‹ã€äº¤äº’æ“ä½œã€‚æ‚¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„åˆ©ç”¨å›¾è¡¨ã€è¡¨æ ¼åŠåœ°å›¾å¯¹æ•°æ®è¿›è¡Œå¤šå…ƒåŒ–çš„åˆ†æå’Œå‘ˆç°</p>
</blockquote>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/b90b4864012740a2bb99f48f0f2e2ab6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="24-åˆæ­¥æ£€ç´¢"><a class="markdownIt-Anchor" href="#24-åˆæ­¥æ£€ç´¢">#</a> 2.4 åˆæ­¥æ£€ç´¢</h2>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€_cat</span><br><span class="line">GET /_cat/nodesï¼šæŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">GET /_cat/healthï¼šæŸ¥çœ‹ es å¥åº·çŠ¶å†µ</span><br><span class="line">GET /_cat/masterï¼šæŸ¥çœ‹ä¸»èŠ‚ç‚¹</span><br><span class="line">GET /_cat/indicesï¼šæŸ¥çœ‹æ‰€æœ‰ç´¢å¼• show databases;</span><br><span class="line"><span class="number">2</span>ã€ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ï¼ˆä¿å­˜ï¼‰</span><br><span class="line">ä¿å­˜ä¸€ä¸ªæ•°æ®ï¼Œä¿å­˜åœ¨å“ªä¸ªç´¢å¼•çš„å“ªä¸ªç±»å‹ä¸‹ï¼ŒæŒ‡å®šç”¨å“ªä¸ªå”¯ä¸€æ ‡è¯†</span><br><span class="line">PUT customer/external/<span class="number">1</span>ï¼›åœ¨ customer ç´¢å¼•ä¸‹çš„ external ç±»å‹ä¸‹ä¿å­˜ <span class="number">1</span> å·æ•°æ®ä¸º</span><br><span class="line"><span class="number">12345678</span></span><br><span class="line">PUT å’Œ POST éƒ½å¯ä»¥ï¼Œ</span><br><span class="line">POST æ–°å¢ã€‚å¦‚æœä¸æŒ‡å®š idï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ idã€‚æŒ‡å®š id å°±ä¼šä¿®æ”¹è¿™ä¸ªæ•°æ®ï¼Œå¹¶æ–°å¢ç‰ˆæœ¬å·</span><br><span class="line">PUT å¯ä»¥æ–°å¢å¯ä»¥ä¿®æ”¹ã€‚PUT å¿…é¡»æŒ‡å®š idï¼›ç”±äº PUT éœ€è¦æŒ‡å®š idï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ç”¨æ¥åšä¿®æ”¹</span><br><span class="line">æ“ä½œï¼Œä¸æŒ‡å®š id ä¼šæŠ¥é”™</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h2 id="241-åœ¨postmanæµ‹è¯•æ•°æ®"><a class="markdownIt-Anchor" href="#241-åœ¨postmanæµ‹è¯•æ•°æ®">#</a> 2.4.1 åœ¨ postMan æµ‹è¯•æ•°æ®</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUT customer/external/<span class="number">1</span></span><br><span class="line">&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>2.4.2ã€æŸ¥è¯¢æ–‡æ¡£</strong></p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">GET customer/external/<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">ç»“æœï¼š</span><br><span class="line">&#123; <span class="string">&quot;_index&quot;</span>: <span class="string">&quot;customer&quot;</span>, //åœ¨å“ªä¸ªç´¢å¼•</span><br><span class="line"><span class="string">&quot;_type&quot;</span>: <span class="string">&quot;external&quot;</span>, //åœ¨å“ªä¸ªç±»å‹</span><br><span class="line"><span class="string">&quot;_id&quot;</span>: <span class="string">&quot;1&quot;</span>, //è®°å½• id</span><br><span class="line"><span class="string">&quot;_version&quot;</span>: <span class="number">2</span>, //ç‰ˆæœ¬å·</span><br><span class="line"><span class="string">&quot;_seq_no&quot;</span>: <span class="number">1</span>, //å¹¶å‘æ§åˆ¶å­—æ®µï¼Œæ¯æ¬¡æ›´æ–°å°±ä¼š+<span class="number">1</span>ï¼Œç”¨æ¥åšä¹è§‚é”</span><br><span class="line"><span class="string">&quot;_primary_term&quot;</span>: <span class="number">1</span>, //åŒä¸Šï¼Œä¸»åˆ†ç‰‡é‡æ–°åˆ†é…ï¼Œå¦‚é‡å¯ï¼Œå°±ä¼šå˜åŒ–</span><br><span class="line"><span class="string">&quot;found&quot;</span>: true, <span class="string">&quot;_source&quot;</span>: &#123; //çœŸæ­£çš„å†…å®¹</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p><strong>2.4.3ã€æ›´æ–°æ–‡æ¡£</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">POST customer/external/<span class="number">1</span>/_update</span><br><span class="line">&#123; <span class="string">&quot;doc&quot;</span>:&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doew&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">æˆ–è€…</span><br><span class="line">POST customer/external/<span class="number">1</span></span><br><span class="line">&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe2&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">æˆ–è€…</span><br><span class="line">PUT customer/external/<span class="number">1</span></span><br><span class="line">&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">? ä¸åŒï¼šPOST æ“ä½œä¼šå¯¹æ¯”æºæ–‡æ¡£æ•°æ®ï¼Œå¦‚æœç›¸åŒä¸ä¼šæœ‰ä»€ä¹ˆæ“ä½œï¼Œæ–‡æ¡£ version ä¸å¢åŠ </span><br><span class="line">PUT æ“ä½œæ€»ä¼šå°†æ•°æ®é‡æ–°ä¿å­˜å¹¶å¢åŠ  version ç‰ˆæœ¬ï¼›</span><br><span class="line">å¸¦_update å¯¹æ¯”å…ƒæ•°æ®å¦‚æœä¸€æ ·å°±ä¸è¿›è¡Œä»»ä½•æ“ä½œã€‚</span><br><span class="line">çœ‹åœºæ™¯ï¼›</span><br><span class="line">å¯¹äºå¤§å¹¶å‘æ›´æ–°ï¼Œä¸å¸¦ updateï¼›</span><br><span class="line">å¯¹äºå¤§å¹¶å‘æŸ¥è¯¢å¶å°”æ›´æ–°ï¼Œå¸¦ updateï¼›å¯¹æ¯”æ›´æ–°ï¼Œé‡æ–°è®¡ç®—åˆ†é…è§„åˆ™ã€‚</span><br><span class="line">? æ›´æ–°åŒæ—¶å¢åŠ å±æ€§</span><br><span class="line">POST customer/external/<span class="number">1</span>/_update</span><br><span class="line">&#123; <span class="string">&quot;doc&quot;</span>: &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jane Doe&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line">PUT å’Œ POST ä¸å¸¦_update ä¹Ÿå¯ä»¥</span><br><span class="line"><span class="number">1234567891011121314151617181920212223</span></span><br></pre></td></tr></table></figure>
<p><strong>2.4.4ã€åˆ é™¤æ–‡æ¡£ &amp; ç´¢å¼•</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DELETE customer/external/<span class="number">1</span></span><br><span class="line">DELETE customer</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>2.4.5 bulk æ‰¹é‡ API</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">POST customer/external/_bulk</span><br><span class="line">&#123;<span class="string">&quot;index&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;1&quot;</span>&#125;&#125;</span><br><span class="line">&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span> &#125;</span><br><span class="line">&#123;<span class="string">&quot;index&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;2&quot;</span>&#125;&#125;</span><br><span class="line">&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jane Doe&quot;</span> &#125;</span><br><span class="line">è¯­æ³•æ ¼å¼ï¼š</span><br><span class="line">&#123; action: &#123; metadata &#125;&#125;\n</span><br><span class="line">&#123; request body &#125;\n</span><br><span class="line">&#123; action: &#123; metadata &#125;&#125;\n</span><br><span class="line">&#123; request body &#125;\n</span><br><span class="line">å¤æ‚å®ä¾‹ï¼š</span><br><span class="line">POST /_bulk</span><br><span class="line">&#123; <span class="string">&quot;delete&quot;</span>: &#123; <span class="string">&quot;_index&quot;</span>: <span class="string">&quot;website&quot;</span>, <span class="string">&quot;_type&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;_id&quot;</span>: <span class="string">&quot;123&quot;</span> &#125;&#125;</span><br><span class="line">&#123; <span class="string">&quot;create&quot;</span>: &#123; <span class="string">&quot;_index&quot;</span>: <span class="string">&quot;website&quot;</span>, <span class="string">&quot;_type&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;_id&quot;</span>: <span class="string">&quot;123&quot;</span> &#125;&#125;</span><br><span class="line">&#123; <span class="string">&quot;title&quot;</span>: <span class="string">&quot;My first blog post&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;index&quot;</span>: &#123; <span class="string">&quot;_index&quot;</span>: <span class="string">&quot;website&quot;</span>, <span class="string">&quot;_type&quot;</span>: <span class="string">&quot;blog&quot;</span> &#125;&#125;</span><br><span class="line">&#123; <span class="string">&quot;title&quot;</span>: <span class="string">&quot;My second blog post&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;update&quot;</span>: &#123; <span class="string">&quot;_index&quot;</span>: <span class="string">&quot;website&quot;</span>, <span class="string">&quot;_type&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;_id&quot;</span>: <span class="string">&quot;123&quot;</span>, <span class="string">&quot;_retry_on_conflict&quot;</span> : <span class="number">3</span>&#125; &#125;</span><br><span class="line">&#123; <span class="string">&quot;doc&quot;</span> : &#123;<span class="string">&quot;title&quot;</span> : <span class="string">&quot;My updated blog post&quot;</span>&#125; &#125;</span><br><span class="line">bulk API ä»¥æ­¤æŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰çš„ actionï¼ˆåŠ¨ä½œï¼‰ã€‚å¦‚æœä¸€ä¸ªå•ä¸ªçš„åŠ¨ä½œå› ä»»ä½•åŸå› è€Œå¤±è´¥ï¼Œ</span><br><span class="line">å®ƒå°†ç»§ç»­å¤„ç†å®ƒåé¢å‰©ä½™çš„åŠ¨ä½œã€‚å½“ bulk API è¿”å›æ—¶ï¼Œå®ƒå°†æä¾›æ¯ä¸ªåŠ¨ä½œçš„çŠ¶æ€ï¼ˆä¸å‘é€</span><br><span class="line">çš„é¡ºåºç›¸åŒï¼‰ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥æ£€æŸ¥æ˜¯å¦ä¸€ä¸ªæŒ‡å®šçš„åŠ¨ä½œæ˜¯ä¸æ˜¯å¤±è´¥äº†ã€‚</span><br><span class="line"><span class="number">12345678910111213141516171819202122</span></span><br></pre></td></tr></table></figure>
<h2 id="24-searchapi"><a class="markdownIt-Anchor" href="#24-searchapi">#</a> 2.4 SearchAPI</h2>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ES æ”¯æŒä¸¤ç§åŸºæœ¬æ–¹å¼æ£€ç´¢ :</span><br><span class="line">? ä¸€ä¸ªæ˜¯é€šè¿‡ä½¿ç”¨ REST request URI å‘é€æœç´¢å‚æ•°ï¼ˆuri+æ£€ç´¢å‚æ•°ï¼‰</span><br><span class="line">? å¦ä¸€ä¸ªæ˜¯é€šè¿‡ä½¿ç”¨ REST request body æ¥å‘é€å®ƒä»¬ï¼ˆuri+è¯·æ±‚ä½“ï¼‰</span><br><span class="line"><span class="number">1</span>ï¼‰ã€æ£€ç´¢ä¿¡æ¯</span><br><span class="line">? ä¸€åˆ‡æ£€ç´¢ä»_search å¼€å§‹</span><br><span class="line">GET bank/_search æ£€ç´¢ bank ä¸‹æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ <span class="keyword">type</span> å’Œ docs</span><br><span class="line">GET bank/_search?q=*&amp;sort=account_number:asc è¯·æ±‚å‚æ•°æ–¹å¼æ£€ç´¢</span><br><span class="line">å“åº”ç»“æœè§£é‡Šï¼š</span><br><span class="line">took - Elasticsearch æ‰§è¡Œæœç´¢çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">time_out - å‘Šè¯‰æˆ‘ä»¬æœç´¢æ˜¯å¦è¶…æ—¶</span><br><span class="line">_shards - å‘Šè¯‰æˆ‘ä»¬å¤šå°‘ä¸ªåˆ†ç‰‡è¢«æœç´¢äº†ï¼Œä»¥åŠç»Ÿè®¡äº†æˆåŠŸ/å¤±è´¥çš„æœç´¢åˆ†ç‰‡</span><br><span class="line">hits - æœç´¢ç»“æœ</span><br><span class="line">hits.total - æœç´¢ç»“æœ</span><br><span class="line">hits.hits - å®é™…çš„æœç´¢ç»“æœæ•°ç»„ï¼ˆé»˜è®¤ä¸ºå‰ <span class="number">10</span> çš„æ–‡æ¡£ï¼‰</span><br><span class="line">sort - ç»“æœçš„æ’åº keyï¼ˆé”®ï¼‰ï¼ˆæ²¡æœ‰åˆ™æŒ‰ score æ’åºï¼‰</span><br><span class="line">score å’Œ max_score â€“ç›¸å…³æ€§å¾—åˆ†å’Œæœ€é«˜å¾—åˆ†ï¼ˆå…¨æ–‡æ£€ç´¢ç”¨ï¼‰</span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>
<p><strong>å…¶ä»–åœ¨ Kibana æ“ä½œçš„è¯­å¥ï¼Œéƒ½å¯ä»¥åœ¨ es å®˜ç½‘å»æŸ¥è¯¢ï¼Œä¸åšè¿‡å¤šçš„èµ˜è¿°ï¼ï¼ï¼</strong></p>
<h2 id="25-mappingæ˜ å°„"><a class="markdownIt-Anchor" href="#25-mappingæ˜ å°„">#</a> 2.5ã€Mapping æ˜ å°„</h2>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/792e34eb6b8d40568272d2413c1c0aaf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<blockquote>
<p>Mappingï¼ˆæ˜ å°„ï¼‰ Mapping æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªæ–‡æ¡£ï¼ˆdocumentï¼‰ï¼Œä»¥åŠå®ƒæ‰€åŒ…å«çš„å±æ€§ï¼ˆfieldï¼‰æ˜¯å¦‚ä½•å­˜å‚¨å’Œ<br>
ç´¢å¼•çš„ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ mapping æ¥å®šä¹‰ï¼š ? å“ªäº›å­—ç¬¦ä¸²å±æ€§åº”è¯¥è¢«çœ‹åšå…¨æ–‡æœ¬å±æ€§ï¼ˆfull text fieldsï¼‰ã€‚ ?<br>
 å“ªäº›å±æ€§åŒ…å«æ•°å­—ï¼Œæ—¥æœŸæˆ–è€…åœ°ç†ä½ç½®ã€‚ ? æ–‡æ¡£ä¸­çš„æ‰€æœ‰å±æ€§æ˜¯å¦éƒ½èƒ½è¢«ç´¢å¼•ï¼ˆ_all é…ç½®ï¼‰ã€‚ ? æ—¥æœŸçš„æ ¼å¼ã€‚ ?<br>
 è‡ªå®šä¹‰æ˜ å°„è§„åˆ™æ¥æ‰§è¡ŒåŠ¨æ€æ·»åŠ å±æ€§ã€‚</p>
</blockquote>
<h2 id="26-åˆ†è¯"><a class="markdownIt-Anchor" href="#26-åˆ†è¯">#</a> 2.6 åˆ†è¯</h2>
<blockquote>
<p>ä¸ª tokenizerï¼ˆåˆ†è¯å™¨ï¼‰æ¥æ”¶ä¸€ä¸ªå­—ç¬¦æµï¼Œå°†ä¹‹åˆ†å‰²ä¸ºç‹¬ç«‹çš„ tokensï¼ˆè¯å…ƒï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹ çš„å•è¯ï¼‰ï¼Œç„¶åè¾“å‡º tokens æµã€‚<br>
ä¾‹å¦‚ï¼Œwhitespace tokenizer é‡åˆ°ç©ºç™½å­—ç¬¦æ—¶åˆ†å‰²æ–‡æœ¬ã€‚å®ƒä¼šå°†æ–‡æœ¬ â€œQuick brown fox!â€ åˆ†å‰² ä¸º<br>
 [Quick, brown, fox!]ã€‚ è¯¥ tokenizerï¼ˆåˆ†è¯å™¨ï¼‰è¿˜è´Ÿè´£è®°å½•å„ä¸ª termï¼ˆè¯æ¡ï¼‰çš„é¡ºåºæˆ– position<br>
 ä½ç½®ï¼ˆç”¨äº phrase çŸ­ è¯­å’Œ word proximity è¯è¿‘é‚»æŸ¥è¯¢ï¼‰ï¼Œä»¥åŠ termï¼ˆè¯æ¡ï¼‰æ‰€ä»£è¡¨çš„åŸå§‹ wordï¼ˆå•è¯ï¼‰çš„<br>
 start ï¼ˆèµ·å§‹ï¼‰å’Œ endï¼ˆç»“æŸï¼‰çš„ character offsetsï¼ˆå­—ç¬¦åç§»é‡ï¼‰ï¼ˆç”¨äºé«˜äº®æ˜¾ç¤ºæœç´¢çš„å†…å®¹ï¼‰ã€‚<br>
Elasticsearch æä¾›äº†å¾ˆå¤šå†…ç½®çš„åˆ†è¯å™¨ï¼Œå¯ä»¥ç”¨æ¥æ„å»º custom analyzersï¼ˆè‡ªå®šä¹‰åˆ†è¯å™¨ï¼‰ã€‚</p>
</blockquote>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/a81d083a8d594324b2d58b6d398f0dbe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>
<strong> 2.6.1 å®‰è£…åˆ†è¯å™¨</strong></p>
<blockquote>
<p>æ³¨æ„ï¼šä¸èƒ½ç”¨é»˜è®¤ elasticsearch-plugin install xxx.zip è¿›è¡Œè‡ªåŠ¨å®‰è£…<br>
<a target="_blank" rel="noopener" href="https://github.com/medcl/elasticsearch-analysis-ik/releases?after=v6.4.2"> https://github.com/medcl/elasticsearch-analysis-ik/releases?after=v6.4.2</a><br>
 å¯¹åº” es ç‰ˆæœ¬å®‰è£…</p>
</blockquote>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“">#</a> æ€»ç»“</h2>
<blockquote>
<p>elasticsearch<br>
 åŠŸèƒ½æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œå¯ä»¥ä½œä¸ºç”Ÿæˆç¯å¢ƒçš„<strong> ELK æ—¥å¿—</strong>å­˜å‚¨ï¼Œæ–¹ä¾¿æ£€ç´¢ï¼Œä¹Ÿå¯ä»¥éƒ¨ç½²é›†ç¾¤ï¼Œæé«˜æ•ˆç‡ï¼Œæœ€ä¸»è¦æ˜¯å®ƒæ˜¯èµ°å†…å­˜çš„ï¼ŒæŸ¥è¯¢æ•ˆç‡æé«˜ï¼Œä¸ºå¤§æ•°æ®æ£€ç´¢è€Œç”Ÿï¼ï¼ï¼</p>
</blockquote>
<h2 id="ä½¿ç”¨åœºæ™¯es"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯es">#</a> ä½¿ç”¨åœºæ™¯ï¼ˆEsï¼‰</h2>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/157dbcd31b4a4534a70bf24b62050d10.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<hr>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.673Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-10-31T20:12:45.000Z" title="2022/11/1 04:12:45">2022-11-01</time>æ›´æ–°</span><span class="level-item">22 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦3342ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90Java%E3%80%91CAS%E6%9C%BA%E5%88%B6/">CASæœºåˆ¶</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="casæœºåˆ¶"><a class="markdownIt-Anchor" href="#casæœºåˆ¶">#</a> CAS æœºåˆ¶</h1>
<h3 id="æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç "><a class="markdownIt-Anchor" href="#æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ">#</a> æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</h3>
<p>å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­è®©é™æ€å˜é‡ count å¾ªç¯ç´¯åŠ  100 æ¬¡ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312170840546?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>æœ€ç»ˆè¾“å‡ºçš„ count ç»“æœä¸€å®šæ˜¯ 200 å—ï¼Ÿå› ä¸ºè¿™æ®µä»£ç æ˜¯é<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8&amp;spm=1001.2101.3001.7020">çº¿ç¨‹å®‰å…¨</a>çš„ï¼Œæ‰€ä»¥æœ€ç»ˆçš„è‡ªå¢ç»“æœå¾ˆå¯èƒ½ä¼šå°äº 200ã€‚æˆ‘ä»¬å†åŠ ä¸Š synchronized åŒæ­¥é”ï¼Œå†æ¥çœ‹ä¸€ä¸‹ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312170827236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>åŠ äº†åŒæ­¥é”ä¹‹åï¼Œcount è‡ªå¢çš„æ“ä½œå˜æˆäº†åŸå­æ€§æ“ä½œï¼Œæ‰€ä»¥æœ€ç»ˆè¾“å‡ºä¸€å®šæ˜¯ count=200ï¼Œä»£ç å®ç°äº†çº¿ç¨‹å®‰å…¨ã€‚è™½ç„¶ synchronized ç¡®ä¿äº†çº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæœ€æœ‰çš„é€‰æ‹©ã€‚</p>
<p>å…³é”®åœ¨äºæ€§èƒ½é—®é¢˜ã€‚</p>
<p>synchronized å…³é”®å­—ä¼šè®©æ²¡æœ‰å¾—åˆ°é”èµ„æºçš„çº¿ç¨‹è¿›å…¥ BLOCKED çŠ¶æ€ï¼Œè€Œååœ¨äº‰å¤ºåˆ°é”èµ„æºåæ¢å¤ä¸º RUNNABLE çŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼çš„è½¬æ¢ï¼Œä»£ä»·æ¯”è¾ƒé«˜ã€‚</p>
<p>å°½ç®¡ JAVA 1.6 ä¸º synchronized åšäº†ä¼˜åŒ–ï¼Œå¢åŠ äº†ä»åå‘é”åˆ°è½»é‡çº§é”å†åˆ°é‡é‡çº§é”çš„è¿‡è¿‡åº¦ï¼Œä½†æ˜¯åœ¨æœ€ç»ˆè½¬å˜ä¸ºé‡é‡çº§é”ä¹‹åï¼Œæ€§èƒ½ä»ç„¶æ¯”è¾ƒä½ã€‚æ‰€ä»¥é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ java ä¸­çš„ â€œåŸå­æ“ä½œç±»â€ã€‚</p>
<p>æ‰€è°“åŸå­æ“ä½œç±»ï¼ŒæŒ‡çš„æ˜¯ java.util.concurrent.atomic åŒ…ä¸‹ï¼Œä¸€ç³»åˆ—ä»¥ Atomic å¼€å¤´çš„åŒ…è£…ç±»ã€‚å¦‚ AtomicBooleanï¼ŒAtomicUIntegerï¼ŒAtomicLongã€‚å®ƒä»¬åˆ†åˆ«ç”¨äº Booleanï¼ŒIntegerï¼ŒLong ç±»å‹çš„åŸå­æ€§æ“ä½œã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å°è¯•ä½¿ç”¨ AtomicInteger ç±»ï¼š</p>
<p><img src="https://img-blog.csdn.net/20180312172106130?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>ä½¿ç”¨ AtomicInteger ä¹‹åï¼Œæœ€ç»ˆçš„è¾“å‡ºç»“æœåŒæ ·å¯ä»¥ä¿è¯æ˜¯ 200ã€‚å¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä»£ç çš„æ€§èƒ½ä¼šæ¯” synchronized æ›´å¥½ã€‚</p>
<p>è€Œ Atomic æ“ä½œç±»çš„åº•å±‚æ­£æ˜¯ç”¨åˆ°äº† â€œCAS æœºåˆ¶â€ã€‚</p>
<p>CAS æ˜¯è‹±æ–‡å•è¯ Compare and Swap çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¯”è¾ƒå¹¶æ›¿æ¢ã€‚</p>
<p>CAS æœºåˆ¶ä¸­ä½¿ç”¨äº† 3 ä¸ªåŸºæœ¬æ“ä½œæ•°ï¼šå†…å­˜åœ°å€ Vï¼Œæ—§çš„é¢„æœŸå€¼ Aï¼Œè¦ä¿®æ”¹çš„æ–°å€¼ Bã€‚</p>
<p>æ›´æ–°ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œåªæœ‰å½“å˜é‡çš„é¢„æœŸå€¼ A å’Œå†…å­˜åœ°å€ V å½“ä¸­çš„å®é™…å€¼ç›¸åŒæ—¶ï¼Œæ‰ä¼šå°†å†…å­˜åœ°å€ V å¯¹åº”çš„å€¼ä¿®æ”¹ä¸º Bã€‚</p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>\1. åœ¨å†…å­˜åœ°å€ V å½“ä¸­ï¼Œå­˜å‚¨ç€å€¼ä¸º 10 çš„å˜é‡ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312172707148?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\2. æ­¤æ—¶çº¿ç¨‹ 1 æƒ³æŠŠå˜é‡çš„å€¼å¢åŠ  1. å¯¹çº¿ç¨‹ 1 æ¥è¯´ï¼Œæ—§çš„é¢„æœŸå€¼ A=10ï¼Œè¦ä¿®æ”¹çš„æ–°å€¼ B=11.</p>
<p><img src="https://img-blog.csdn.net/20180312172814864?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\3. åœ¨çº¿ç¨‹ 1 è¦æäº¤æ›´æ–°ä¹‹å‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ 2 æŠ¢å…ˆä¸€æ­¥ï¼ŒæŠŠå†…å­˜åœ°å€ V ä¸­çš„å˜é‡å€¼ç‡å…ˆæ›´æ–°æˆäº† 11ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312172943800?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\4. çº¿ç¨‹ 1 å¼€å§‹æäº¤æ›´æ–°ï¼Œé¦–å…ˆè¿›è¡Œ A å’Œåœ°å€ V çš„å®é™…å€¼æ¯”è¾ƒï¼Œå‘ç° A ä¸ç­‰äº V çš„å®é™…å€¼ï¼Œæäº¤å¤±è´¥ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312173045349?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\5. çº¿ç¨‹ 1 é‡æ–°è·å–å†…å­˜åœ°å€ V çš„å½“å‰å€¼ï¼Œå¹¶é‡æ–°è®¡ç®—æƒ³è¦ä¿®æ”¹çš„å€¼ã€‚æ­¤æ—¶å¯¹çº¿ç¨‹ 1 æ¥è¯´ï¼ŒA=11ï¼ŒB=12ã€‚è¿™ä¸ªé‡æ–°å°è¯•çš„è¿‡ç¨‹è¢«ç§°ä¸ºè‡ªæ—‹ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312173220371?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\6. è¿™ä¸€æ¬¡æ¯”è¾ƒå¹¸è¿ï¼Œæ²¡æœ‰å…¶ä»–çº¿ç¨‹æ”¹å˜åœ°å€ V çš„å€¼ã€‚çº¿ç¨‹ 1 è¿›è¡Œæ¯”è¾ƒï¼Œå‘ç° A å’Œåœ°å€ V çš„å®é™…å€¼æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312173331761?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>\7. çº¿ç¨‹ 1 è¿›è¡Œäº¤æ¢ï¼ŒæŠŠåœ°å€ V çš„å€¼æ›¿æ¢ä¸º Bï¼Œä¹Ÿå°±æ˜¯ 12.</p>
<p><img src="https://img-blog.csdn.net/20180312173421205?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>ä»æ€æƒ³ä¸Šæ¥è¯´ï¼Œsynchronized å±äºæ‚²è§‚é”ï¼Œæ‚²è§‚çš„è®¤ä¸ºç¨‹åºä¸­çš„å¹¶å‘æƒ…å†µä¸¥é‡ï¼Œæ‰€ä»¥ä¸¥é˜²æ­»å®ˆï¼ŒCAS å±äºä¹è§‚é”ï¼Œä¹è§‚åœ°è®¤ä¸ºç¨‹åºä¸­çš„å¹¶å‘æƒ…å†µä¸é‚£ä¹ˆä¸¥é‡ï¼Œæ‰€ä»¥è®©çº¿ç¨‹ä¸æ–­å»é‡è¯•æ›´æ–°ã€‚</p>
<p>åœ¨ java ä¸­é™¤äº†ä¸Šé¢æåˆ°çš„ Atomic ç³»åˆ—ç±»ï¼Œä»¥åŠ Lock ç³»åˆ—ç±»å¤ºå¾—åº•å±‚å®ç°ï¼Œç”šè‡³åœ¨ JAVA1.6 ä»¥ä¸Šç‰ˆæœ¬ï¼Œsynchronized è½¬å˜ä¸ºé‡é‡çº§é”ä¹‹å‰ï¼Œä¹Ÿä¼šé‡‡ç”¨ CAS æœºåˆ¶ã€‚</p>
<p><strong>CAS çš„ç¼ºç‚¹ï¼š</strong></p>
<p>1ï¼‰ CPU å¼€é”€è¿‡å¤§</p>
<p>åœ¨å¹¶å‘é‡æ¯”è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œå¦‚æœè®¸å¤šçº¿ç¨‹åå¤å°è¯•æ›´æ–°æŸä¸€ä¸ªå˜é‡ï¼Œå´åˆä¸€ç›´æ›´æ–°ä¸æˆåŠŸï¼Œå¾ªç¯å¾€å¤ï¼Œä¼šç»™ CPU å¸¦æ¥å¾ˆåˆ°çš„å‹åŠ›ã€‚</p>
<p>2ï¼‰ ä¸èƒ½ä¿è¯ä»£ç å—çš„åŸå­æ€§</p>
<p>CAS æœºåˆ¶æ‰€ä¿è¯çš„çŸ¥è¯†ä¸€ä¸ªå˜é‡çš„åŸå­æ€§æ“ä½œï¼Œè€Œä¸èƒ½ä¿è¯æ•´ä¸ªä»£ç å—çš„åŸå­æ€§ã€‚æ¯”å¦‚éœ€è¦ä¿è¯ 3 ä¸ªå˜é‡å…±åŒè¿›è¡ŒåŸå­æ€§çš„æ›´æ–°ï¼Œå°±ä¸å¾—ä¸ä½¿ç”¨ synchronized äº†ã€‚</p>
<p>3ï¼‰ ABA é—®é¢˜</p>
<p>è¿™æ˜¯ CAS æœºåˆ¶æœ€å¤§çš„é—®é¢˜æ‰€åœ¨ã€‚ï¼ˆåé¢æœ‰ä»‹ç»ï¼‰</p>
<p>æˆ‘ä»¬ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<p><em><strong>*1. JAVA ä¸­ CAS çš„åº•å±‚å®ç° *</strong></em></p>
<p><em><strong>*2. CAS çš„ ABA é—®é¢˜å’Œè§£å†³åŠæ³•ã€‚*</strong></em></p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ AtomicInteger å½“ä¸­å¸¸ç”¨çš„è‡ªå¢æ–¹æ³• incrementAndGetï¼š</p>
<p>public final int incrementAndGet() {</p>
<p>for (;ğŸ˜‰ {</p>
<p>â€‹    int current = get();</p>
<p>â€‹    int next = current + 1;</p>
<p>â€‹    if (compareAndSet(current, next))</p>
<p>â€‹      return next;</p>
<p>}</p>
<p>}</p>
<p>private volatile int value;</p>
<p>public final int get() {</p>
<p>return value;</p>
<p>}</p>
<p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯ CAS çš„è‡ªæ—‹ï¼Œå¾ªç¯ä½“ä¸­åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<p>\1. è·å–å½“å‰å€¼</p>
<p>\2. å½“å‰å€¼ + 1ï¼Œè®¡ç®—å‡ºç›®æ ‡å€¼</p>
<p>\3. è¿›è¡Œ CAS æ“ä½œï¼Œå¦‚æœæˆåŠŸåˆ™è·³å‡ºå¾ªç¯ï¼Œå¦‚æœå¤±è´¥åˆ™é‡å¤ä¸Šè¿°æ­¥éª¤</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„é‡ç‚¹æ˜¯ get æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯è·å–å˜é‡çš„å½“å‰å€¼ã€‚</p>
<p>å¦‚ä½•ä¿è¯è·å–çš„å½“å‰å€¼æ˜¯å†…å­˜ä¸­çš„æœ€æ–°å€¼ï¼Ÿå¾ˆç®€å•ï¼Œç”¨ volatile å…³é”®å­—æ¥ä¿è¯ï¼ˆä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§ï¼‰ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ compareAndSet æ–¹æ³•çš„å®ç°ï¼š</p>
<p><img src="https://img-blog.csdn.net/2018031217514825?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>compareAndSet æ–¹æ³•çš„å®ç°å¾ˆç®€å•ï¼Œåªæœ‰ä¸€è¡Œä»£ç ã€‚è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªé‡è¦çš„å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯ unsafeï¼Œä¸€ä¸ªæ˜¯ valueOffsetã€‚</p>
<p>ä»€ä¹ˆæ˜¯ unsafe å‘¢ï¼ŸJava è¯­è¨€ä¸åƒ Cï¼ŒC++ é‚£æ ·å¯ä»¥ç›´æ¥è®¿é—®åº•å±‚æ“ä½œç³»ç»Ÿï¼Œä½†æ˜¯ JVM ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåé—¨ï¼Œè¿™ä¸ªåé—¨å°±æ˜¯ unsafeã€‚unsafe ä¸ºæˆ‘ä»¬æä¾›äº†ç¡¬ä»¶çº§åˆ«çš„åŸå­æ“ä½œã€‚</p>
<p>è‡³äº valueOffset å¯¹è±¡ï¼Œæ˜¯é€šè¿‡ unsafe.objectFiledOffset æ–¹æ³•å¾—åˆ°ï¼Œæ‰€ä»£è¡¨çš„æ˜¯ AtomicInteger å¯¹è±¡ value æˆå‘˜å˜é‡åœ¨å†…å­˜ä¸­çš„åç§»é‡ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠ valueOffset ç†è§£ä¸º value å˜é‡çš„å†…å­˜åœ°å€ã€‚</p>
<p>æˆ‘ä»¬ä¸Šé¢è¯´è¿‡ï¼ŒCAS æœºåˆ¶ä¸­ä½¿ç”¨äº† 3 ä¸ªåŸºæœ¬æ“ä½œæ•°ï¼šå†…å­˜åœ°å€ Vï¼Œæ—§çš„é¢„æœŸå€¼ Aï¼Œè¦ä¿®æ”¹çš„æ–°å€¼ Bã€‚</p>
<p>è€Œ unsafe çš„ compareAndSwapInt æ–¹æ³•çš„å‚æ•°åŒ…æ‹¬äº†è¿™ä¸‰ä¸ªåŸºæœ¬å…ƒç´ ï¼švalueOffset å‚æ•°ä»£è¡¨äº† Vï¼Œexpect å‚æ•°ä»£è¡¨äº† Aï¼Œupdate å‚æ•°ä»£è¡¨äº† Bã€‚</p>
<p>æ­£æ˜¯ unsafe çš„ compareAndSwapInt æ–¹æ³•ä¿è¯äº† Compare å’Œ Swap æ“ä½œä¹‹é—´çš„åŸå­æ€§æ“ä½œã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨æ¥è¯´ä»€ä¹ˆæ˜¯ ABA é—®é¢˜ã€‚å‡è®¾å†…å­˜ä¸­æœ‰ä¸€ä¸ªå€¼ä¸º A çš„å˜é‡ï¼Œå­˜å‚¨åœ¨åœ°å€ V ä¸­ã€‚</p>
<p><img src="https://img-blog.csdn.net/2018031218013467?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>æ­¤æ—¶æœ‰ä¸‰ä¸ªçº¿ç¨‹æƒ³ä½¿ç”¨ CAS çš„æ–¹å¼æ›´æ–°è¿™ä¸ªå˜é‡çš„å€¼ï¼Œæ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´æœ‰ç•¥å¾®åå·®ã€‚çº¿ç¨‹ 1 å’Œçº¿ç¨‹ 2 å·²ç»è·å–å½“å‰å€¼ï¼Œçº¿ç¨‹ 3 è¿˜æœªè·å–å½“å‰å€¼ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312180247202?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>æ¥ä¸‹æ¥ï¼Œçº¿ç¨‹ 1 å…ˆä¸€æ­¥æ‰§è¡ŒæˆåŠŸï¼ŒæŠŠå½“å‰å€¼æˆåŠŸä» A æ›´æ–°ä¸º Bï¼›åŒæ—¶çº¿ç¨‹ 2 å› ä¸ºæŸç§åŸå› è¢«é˜»å¡ä½ï¼Œæ²¡æœ‰åšæ›´æ–°æ“ä½œï¼›çº¿ç¨‹ 3 åœ¨çº¿ç¨‹ 1 æ›´æ–°ä¹‹åï¼Œè·å–äº†å½“å‰å€¼ Bã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312180432152?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>åœ¨ä¹‹åï¼Œçº¿ç¨‹ 2 ä»ç„¶å¤„äºé˜»å¡çŠ¶æ€ï¼Œçº¿ç¨‹ 3 ç»§ç»­æ‰§è¡Œï¼ŒæˆåŠŸæŠŠå½“å‰å€¼ä» B æ›´æ–°æˆäº† Aã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312180546889?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>æœ€åï¼Œçº¿ç¨‹ 2 ç»ˆäºæ¢å¤äº†è¿è¡ŒçŠ¶æ€ï¼Œç”±äºé˜»å¡ä¹‹å‰å·²ç»è·å¾—äº† â€œå½“å‰å€¼ Aâ€ï¼Œå¹¶ä¸”ç»è¿‡ compare æ£€æµ‹ï¼Œå†…å­˜åœ°å€ V ä¸­çš„å®é™…å€¼ä¹Ÿæ˜¯ Aï¼Œæ‰€ä»¥æˆåŠŸæŠŠå˜é‡å€¼ A æ›´æ–°æˆäº† Bã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312180729792?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>çœ‹èµ·æ¥è¿™ä¸ªä¾‹å­æ²¡å•¥é—®é¢˜ï¼Œä½†å¦‚æœç»“åˆå®é™…ï¼Œå°±å¯ä»¥å‘ç°å®ƒçš„é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>æˆ‘ä»¬å‡è®¾ä¸€ä¸ªææ¬¾æœºçš„ä¾‹å­ã€‚å‡è®¾æœ‰ä¸€ä¸ªéµå¾ª CAS åŸç†çš„ææ¬¾æœºï¼Œå°ç°æœ‰ 100 å…ƒå­˜æ¬¾ï¼Œè¦ç”¨è¿™ä¸ªææ¬¾æœºæ¥ææ¬¾ 50 å…ƒã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312181342879?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>ç”±äºææ¬¾æœºç¡¬ä»¶å‡ºäº†ç‚¹é—®é¢˜ï¼Œå°ç°çš„ææ¬¾æ“ä½œè¢«åŒæ—¶æäº¤äº†ä¸¤æ¬¡ï¼Œå¼€å¯äº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½æ˜¯è·å–å½“å‰å€¼ 100 å…ƒï¼Œè¦æ›´æ–°æˆ 50 å…ƒã€‚</p>
<p>ç†æƒ³æƒ…å†µä¸‹ï¼Œåº”è¯¥ä¸€ä¸ªçº¿ç¨‹æ›´æ–°æˆåŠŸï¼Œä¸€ä¸ªçº¿ç¨‹æ›´æ–°å¤±è´¥ï¼Œå°ç°çš„å­˜æ¬¾å€¼è¢«æ‰£ä¸€æ¬¡ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312181404403?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>çº¿ç¨‹ 1 é¦–å…ˆæ‰§è¡ŒæˆåŠŸï¼ŒæŠŠä½™é¢ä» 100 æ”¹æˆ 50. çº¿ç¨‹ 2 å› ä¸ºæŸç§åŸå› é˜»å¡ã€‚è¿™æ—¶ï¼Œå°ç°çš„å¦ˆå¦ˆåˆšå¥½ç»™å°ç°æ±‡æ¬¾ 50 å…ƒã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312181531202?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>çº¿ç¨‹ 2 ä»ç„¶æ˜¯é˜»å¡çŠ¶æ€ï¼Œçº¿ç¨‹ 3 æ‰§è¡ŒæˆåŠŸï¼ŒæŠŠä½™é¢ä» 50 æ”¹æˆäº† 100ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312181635868?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>çº¿ç¨‹ 2 æ¢å¤è¿è¡Œï¼Œç”±äºé˜»å¡ä¹‹å‰è·å¾—äº† â€œå½“å‰å€¼â€ 100ï¼Œå¹¶ä¸”ç»è¿‡ compare æ£€æµ‹ï¼Œæ­¤æ—¶å­˜æ¬¾å®é™…å€¼ä¹Ÿæ˜¯ 100ï¼Œæ‰€ä»¥ä¼šæˆåŠŸæŠŠå˜é‡å€¼ 100 æ›´æ–°æˆ 50ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312181813320?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>åŸæœ¬çº¿ç¨‹ 2 åº”å½“æäº¤å¤±è´¥ï¼Œå°ç°çš„æ­£ç¡®ä½™é¢åº”è¯¥ä¿æŒ 100 å…ƒï¼Œç»“æœç”±äº ABA é—®é¢˜æäº¤æˆåŠŸäº†ã€‚</p>
<p>æ€ä¹ˆè§£å†³å‘¢ï¼ŸåŠ ä¸ªç‰ˆæœ¬å·å°±å¯ä»¥äº†ã€‚</p>
<p>çœŸæ­£è¦åšåˆ°ä¸¥è°¨çš„ CAS æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨ compare é˜¶æ®µä¸ä»…è¦æ¯”è¾ƒæœŸæœ›å€¼ A å’Œåœ°å€ V ä¸­çš„å®é™…å€¼ï¼Œè¿˜è¦æ¯”è¾ƒå˜é‡çš„ç‰ˆæœ¬å·æ˜¯å¦ä¸€è‡´ã€‚</p>
<p>æˆ‘ä»¬ä»ç„¶ä»¥åˆšæ‰çš„ä¾‹å­æ¥è¯´æ˜ï¼Œå‡è®¾åœ°å€ V ä¸­å­˜å‚¨ç€å˜é‡å€¼ Aï¼Œå½“å‰ç‰ˆæœ¬å·æ˜¯ 01ã€‚çº¿ç¨‹ 1 è·å–äº†å½“å‰å€¼ A å’Œç‰ˆæœ¬å· 01ï¼Œæƒ³è¦æ›´æ–°ä¸º Bï¼Œä½†æ˜¯è¢«é˜»å¡äº†ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312182255181?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>è¿™æ—¶å€™ï¼Œå†…å­˜åœ°å€ V ä¸­å˜é‡å‘ç”Ÿäº†å¤šæ¬¡æ”¹å˜ï¼Œç‰ˆæœ¬å·æå‡ä¸º 03ï¼Œä½†æ˜¯å˜é‡å€¼ä»ç„¶æ˜¯ Aã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312182346458?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>éšåçº¿ç¨‹ 1 æ¢å¤è¿è¡Œï¼Œè¿›è¡Œ compare æ“ä½œã€‚ç»è¿‡æ¯”è¾ƒï¼Œçº¿ç¨‹ 1 æ‰€è·å¾—çš„å€¼å’Œåœ°å€çš„å®é™…å€¼éƒ½æ˜¯ Aï¼Œä½†æ˜¯ç‰ˆæœ¬å·ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡æ›´æ–°å¤±è´¥ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180312182506360?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI5OTgxNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>åœ¨ Java ä¸­ï¼ŒAtomicStampedReference ç±»å°±å®ç°äº†ç”¨ç‰ˆæœ¬å·ä½œæ¯”è¾ƒé¢ CAS æœºåˆ¶ã€‚</p>
<p><em><strong>*1. java è¯­è¨€ CAS åº•å±‚å¦‚ä½•å®ç°ï¼Ÿ*</strong></em></p>
<p><em><strong>* åˆ©ç”¨ unsafe æä¾›çš„åŸå­æ€§æ“ä½œæ–¹æ³•ã€‚*</strong></em></p>
<p><em><strong>*2. ä»€ä¹ˆäº‹ ABA é—®é¢˜ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ*</strong></em></p>
<p><em><strong>* å½“ä¸€ä¸ªå€¼ä» A å˜æˆ Bï¼Œåˆæ›´æ–°å› Aï¼Œæ™®é€š CAS æœºåˆ¶ä¼šè¯¯åˆ¤é€šè¿‡æ£€æµ‹ã€‚*</strong></em></p>
<p><em><strong>* åˆ©ç”¨ç‰ˆæœ¬å·æ¯”è¾ƒå¯ä»¥æœ‰æ•ˆè§£å†³ ABA é—®é¢˜ã€‚*</strong></em></p>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.669Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-10-14T00:51:57.000Z" title="2022/10/14 08:51:57">2022-10-14</time>æ›´æ–°</span><span class="level-item">3 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦428ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90Elasticsearch%E3%80%91Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E5%8A%A8Elasticsearch-head/">Linuxç¯å¢ƒä¸‹å®‰è£…å¹¶å¯åŠ¨Elasticsearch-head</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="1-elasticsearch-headä»‹ç»"><a class="markdownIt-Anchor" href="#1-elasticsearch-headä»‹ç»">#</a> 1ã€<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=elasticsearch-head&amp;spm=1001.2101.3001.7020">elasticsearch-head</a> ä»‹ç»</h1>
<p>å®˜æ–¹åœ°å€: <a target="_blank" rel="noopener" href="https://github.com/mobz/elasticsearch-head">https://github.com/mobz/elasticsearch-head</a></p>
<p>elasticsearch-head æ˜¯ä¸€æ¬¾ç”¨æ¥ç®¡ç† Elasticsearch é›†ç¾¤çš„ç¬¬ä¸‰æ–¹æ’ä»¶å·¥å…·ã€‚ elasticsearch-Head æ’ä»¶åœ¨ 5.0 ç‰ˆæœ¬ä¹‹å‰å¯ä»¥ç›´æ¥ä»¥æ’ä»¶çš„å½¢å¼ç›´æ¥å®‰è£…ï¼Œä½†æ˜¯ 5.0 ä»¥åå®‰è£…æ–¹å¼å‘ç”Ÿäº†æ”¹å˜ï¼Œéœ€è¦ <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=nodejs&amp;spm=1001.2101.3001.7020">nodejs</a> ç¯å¢ƒæ”¯æŒï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨åˆ«äººå°è£…å¥½çš„ docker é•œåƒï¼Œæ›´æ¨èçš„æ˜¯è°·æ­Œæµè§ˆå™¨çš„æ’ä»¶ã€‚</p>
<h1 id="2-elasticsearch-headå®‰è£…"><a class="markdownIt-Anchor" href="#2-elasticsearch-headå®‰è£…">#</a> 2ã€elasticsearch-head å®‰è£…</h1>
<h2 id="npmå®‰è£…elasticsearch-head"><a class="markdownIt-Anchor" href="#npmå®‰è£…elasticsearch-head">#</a> npm å®‰è£… elasticsearch-head</h2>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#ä¸‹è½½å®‰è£…nodejs</span><br><span class="line">wget https://nodejs.org/dist/v12.13.0/node-v12.13.0-linux-x64.tar.xz</span><br><span class="line">tar xf node-v12.13.0-linux-x64.tar.xz</span><br><span class="line">mv node-v12.13.0-linux-x64 node</span><br><span class="line">#ä¿®æ”¹ç¯å¢ƒå˜é‡</span><br><span class="line">echo &#x27;export PATH=$PATH:/opt/node/bin&#x27; &gt;&gt; /etc/profile</span><br><span class="line">#é…ç½®ç”Ÿæ•ˆ</span><br><span class="line">source /etc/profile</span><br><span class="line">npm -v</span><br><span class="line">node -v</span><br><span class="line"></span><br><span class="line">#ä¸‹è½½elasticsearch-head</span><br><span class="line">git clone git://github.com/mobz/elasticsearch-head.git</span><br><span class="line"></span><br><span class="line">#è¿›å…¥elasticsearch-headå®‰è£…ç›®å½•</span><br><span class="line">cd elasticsearch-head</span><br><span class="line">#é…ç½®å›½å†…é•œåƒ</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">#å®‰è£…</span><br><span class="line">cnpm install</span><br><span class="line">#å¯åŠ¨</span><br><span class="line">cnpm run start</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¿®æ”¹ Elasticsearch é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å‚æ•°å¹¶é‡å¯:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#å‡†è®¸esè¢«è·¨åŸŸè®¿é—®</span><br><span class="line">http.cors.enabled: true</span><br><span class="line">http.cors.allow-origin: &quot;*&quot;</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T01:40:26.666Z" title="2023/4/26 09:40:26">2023-04-26</time>å‘è¡¨</span><span class="level-item"><time dateTime="2022-10-11T01:47:29.000Z" title="2022/10/11 09:47:29">2022-10-11</time>æ›´æ–°</span><span class="level-item">1 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦206ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90Java%E3%80%91%E7%AB%AF%E5%8F%A3%E5%8F%B7%E8%A2%AB%E5%8D%A0%E7%94%A8%E7%9A%84%E6%83%85%E5%86%B5%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3/">ç«¯å£å ç”¨é—®é¢˜</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<p>å®‰è£…å¥½ Maven ä¹‹åé…ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<p>netstat -anoï¼šæŸ¥è¯¢å…¨éƒ¨æ´»åŠ¨è¿æ¥</p>
<p>tasklist ï¼šæŸ¥è¯¢å…¨éƒ¨çš„è¿›ç¨‹å’Œ PID</p>
<p>tasklist | findstr â€œå ç”¨ç«¯å£çš„è¿›ç¨‹ PIDâ€</p>
<p>taskkill /f/t /im å ç”¨ç«¯å£çš„è¿›ç¨‹åå­—.exe</p>
<h2 id="å…³äºæˆ‘"><a class="markdownIt-Anchor" href="#å…³äºæˆ‘">#</a> å…³äºæˆ‘</h2>
<p>Brath æ˜¯ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ Java ç¨‹åºçŒ¿ï¼Œå…¬ä¼—å·ã€ŒInterviewCoderã€å®šæœŸåˆ†äº«æœ‰è¶£æœ‰æ–™çš„ç²¾å“åŸåˆ›æ–‡ç« ï¼</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½çœ‹åˆ°è¿™é‡Œï¼ŒåŸåˆ›ä¸æ˜“ï¼Œæ–‡ç« å¦‚æœæœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ã€ç‚¹èµã€åˆ†äº«æˆ–è¯„è®ºï¼Œè¿™éƒ½æ˜¯å¯¹æˆ‘çš„è«å¤§æ”¯æŒï¼</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/3/">ä¸Šä¸€é¡µ</a></div><div class="pagination-next"><a href="/page/5/">ä¸‹ä¸€é¡µ</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link is-current" href="/page/4/">4</a></li><li><a class="pagination-link" href="/page/5/">5</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/13/">13</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T01:40:26.773Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90Flutter%E3%80%91Flutter%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BD%BF%E7%94%A8WIFI%E7%9C%9F%E6%9C%BA%E8%B0%83%E8%AF%95/">Flutterå¼€å‘ä¸­ä½¿ç”¨WIFIçœŸæœºè°ƒè¯•</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T01:40:26.770Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90GOSN%E3%80%91Gosn%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8%EF%BC%9F/">ã€GOSNã€‘Gosnæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿ</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T01:40:26.767Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90Typora%E3%80%91typora%E9%85%8D%E7%BD%AEAliCloudOss%E5%9B%BE%E5%BA%93%E4%BD%BF%E7%94%A8picgo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/">Typoraä½¿ç”¨giteeä½œä¸ºå›¾åº“ç”¨picgoä¸Šä¼ å›¾ç‰‡çš„æ•™ç¨‹~</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T01:40:26.765Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90Docker%E3%80%91%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E8%AE%B0%E5%BD%95/">ä½¿ç”¨dockeræ­å»ºå¼€å‘ç¯å¢ƒè®°å½•</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T01:40:26.762Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90Go%E3%80%91Go%E8%AF%AD%E8%A8%80%E4%B8%8EJava%E8%AF%AD%E8%A8%80%E5%AF%B9%E6%AF%94/">ã€Goã€‘Goè¯­è¨€ä¸Javaè¯­è¨€å¯¹æ¯”</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">121</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">InterviewCoder</p><p class="is-size-6 is-block">é¢è¯•è®°å®˜æ–¹å…¬ä¼—å·</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">121</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://mp.weixin.qq.com/s/jWs6lLHl5L-atXJhHc4YvA" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://brath.cloud/me.png" alt="Brath"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Brath</p><p class="is-size-6 is-block">æŠ€èƒ½æ”¹å˜äººç”Ÿï¼ŒçŸ¥è¯†æ”¹å˜å‘½è¿ã€‚</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ä¸­å›½Â·æ±Ÿè‹Â·æ— é”¡</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">121</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Guoqing815" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Guoqing815"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/Guoqing-Li"><i class="fab fa-gitee"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://schokolade.cn/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">æ³ çµ(ç‰¹åˆ«å‘œè°¢)</span></span><span class="level-right"><span class="level-item tag">schokolade.cn</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/Guoqing-Li" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Gitee(ç äº‘)</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li><li><a class="level is-mobile" href="https://blog.csdn.net/Brath?type=blog" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://juejin.cn/user/settings/profile" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">æ˜é‡‘</span></span><span class="level-right"><span class="level-item tag">juejin.cn</span></span></a></li><li><a class="level is-mobile" href="https://oss.console.aliyun.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">AliCloud(é˜¿é‡Œäº‘)</span></span><span class="level-right"><span class="level-item tag">oss.console.aliyun.com</span></span></a></li><li><a class="level is-mobile" href="https://cloud.tencent.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">TencentCloud(è…¾è®¯äº‘)</span></span><span class="level-right"><span class="level-item tag">cloud.tencent.com</span></span></a></li><li><a class="level is-mobile" href="https://www.zhipin.com/web/user/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">BOSS</span></span><span class="level-right"><span class="level-item tag">www.zhipin.com</span></span></a></li><li><a class="level is-mobile" href="https://www.bilibili.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bilibili(Bç«™)</span></span><span class="level-right"><span class="level-item tag">www.bilibili.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://brath.cloud/me.png" alt="Brath-Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Brath</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢</span></p><p class="is-size-7">Â© 2029</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>