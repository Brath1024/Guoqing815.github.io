<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Brath-Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Brath-Blog"><meta name="msapplication-TileImage" content="https://brath.cloud/me.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Brath-Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Brath-Blog"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Brath-Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="Brath"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Brath-Blog","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"Brath"},"publisher":{"@type":"Organization","name":"Brath-Blog","logo":{"@type":"ImageObject","url":"https://brath.cloud/me.png"}},"description":""}</script><link rel="icon" href="https://brath.cloud/me.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://brath.cloud/me.png" alt="Brath-Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">主页</a><a class="navbar-item" href="/archives">文章列表</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">更多</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Guoqing815"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-26T00:59:24.590Z" title="2023-4-26 8:59:24">2023-04-26</time>发表</span><span class="level-item"><time dateTime="2023-04-26T01:01:36.742Z" title="2023-4-26 9:01:36">2023-04-26</time>更新</span><span class="level-item">29 分钟读完 (大约4379个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/%E3%80%90DDD%E3%80%91DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E4%B8%8E%E4%BC%A0%E7%BB%9F%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB/">【DDD】DDD分层架构与传统三层架构的区别</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="dddddd分层架构与传统三层架构的区别"><a class="markdownIt-Anchor" href="#dddddd分层架构与传统三层架构的区别">#</a> 【DDD】DDD 分层架构与传统三层架构的区别</h1>
<h3 id="文章目录"><a class="markdownIt-Anchor" href="#文章目录">#</a> 文章目录</h3>
<ul>
<li>
<ul>
<li><a href="#DDD_1">DDD 分层与传统三层区别</a></li>
<li><a href="#DDD_16">DDD 分层详解</a></li>
<li>
<ul>
<li><a href="#_17">四层架构图</a></li>
<li><a href="#_24">分层作用</a></li>
<li><a href="#_31">领域对象</a></li>
</ul>
</li>
<li><a href="#DDD_44">DDD 编码实践（改进分层）</a></li>
<li>
<ul>
<li><a href="#_53">代码结构描述</a></li>
<li><a href="#_115">扩展定义注解和接口声明</a></li>
<li><a href="#_135">领域模型注入仓储类的问题</a></li>
</ul>
</li>
<li><a href="#_235">一些个人思考…</a></li>
<li>
<ul>
<li><a href="#DDD_242">项目按上述经典四层架构进行搭建，可以说是 DDD 架构实践么？</a></li>
<li><a href="#SpringDDD_251">题外话：Spring 与 DDD</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ddd分层与传统三层区别"><a class="markdownIt-Anchor" href="#ddd分层与传统三层区别">#</a> DDD 分层与传统三层区别</h2>
<p>根据 DDD 领域驱动设计原则，对应的软件架构也需要做出相应的调整。<br>
我们常用的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84&amp;spm=1001.2101.3001.7020">三层架构</a>模型划分为表现层，业务逻辑层，数据访问层等，在 <code>DDD</code>  分层结构中既有联系又有区别，<br>
个人认为主要有如下异同：</p>
<ul>
<li>在架构设计上，在 <code>DDD</code>  分层结构中将传统三层架构的业务逻辑层拆解为应用层和领域层<br>
其中 Application 划分为很薄的一层服务，非核心的逻辑放到此层去实现，核心的业务逻辑表现下沉到领域层去实现，凝练为更为精确的业务规则集合，通过领域对象去阐述说明。<br>
<img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/20200110163924602.png" alt="与传统三层区别"></li>
<li>在建模方式上， <code>DDD</code>  分层的建模思维方式有别于传统三层<br>
传统三层通常是以数据库为起点进行数据库分析设计，而 <code>DDD</code>  则需要以业务<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B&amp;spm=1001.2101.3001.7020">领域模型</a>为核心建模（即面向对象建模方式），更能体现对现实世界的抽象。<br>
故<strong>在 DDD 分层凸显领域层的重要作用，领域层为系统的核心，包括所有的业务领域模型的抽象表达</strong>。</li>
<li>在职责划分上，基础设施层涵盖了 2 方面内容
<ul>
<li>持久化功能，其中原三层架构的数据访问层下沉到基础设施层的持久化机制实现</li>
<li>通用技术支持，一些公共通用技术支持也放到基础设施层去实现。</li>
</ul>
</li>
</ul>
<h2 id="ddd分层详解"><a class="markdownIt-Anchor" href="#ddd分层详解">#</a> DDD 分层详解</h2>
<h3 id="四层架构图"><a class="markdownIt-Anchor" href="#四层架构图">#</a> 四层架构图</h3>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/20200110164305632.png" alt="在这里插入图片描述"></p>
<p>在该架构中，上层模块可以调用下层模块，反之不行。即</p>
<ul>
<li><code>Interface</code>  ——&gt;  <code>application</code>  |  <code>domain</code>  |  <code>infrastructure</code></li>
<li><code>application </code> ——&gt; <code> domain</code>  |  <code>infrastructure</code></li>
<li><code>domain</code>  ——&gt; <code> infrastructure</code></li>
</ul>
<h3 id="分层作用"><a class="markdownIt-Anchor" href="#分层作用">#</a> 分层作用</h3>
<table>
<thead>
<tr>
<th>分层</th>
<th>英文</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>表现层</td>
<td><code>User Interface</code></td>
<td>用户界面层，或者表现层，负责向用户显示解释用户命令</td>
</tr>
<tr>
<td>应用层</td>
<td><code>Application Layer</code></td>
<td>定义软件要完成的任务，并且指挥协调领域对象进行不同的操作。该层不包含业务领域知识。</td>
</tr>
<tr>
<td>领域层</td>
<td><code>Domain Layer</code></td>
<td>或称为模型层，系统的核心，负责表达业务概念，业务状态信息以及业务规则。即包含了该领域（问题域）所有复杂的业务知识抽象和规则定义。该层主要精力要放在领域对象分析上，可以从实体，值对象，聚合（聚合根），领域服务，领域事件，仓储，工厂等方面入手</td>
</tr>
<tr>
<td>基础设施层</td>
<td><code>Infrastructure Layer</code></td>
<td>主要有 2 方面内容，一是为领域模型提供持久化机制，当软件需要持久化能力时候才需要进行规划；一是对其他层提供通用的技术支持能力，如消息通信，通用工具，配置等的实现；</td>
</tr>
</tbody>
</table>
<h3 id="领域对象"><a class="markdownIt-Anchor" href="#领域对象">#</a> 领域对象</h3>
<p>根据战术设计，关注的领域对象主要包括有</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>英文</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>值对象</td>
<td><code>value object</code></td>
<td>无唯一标识的简单对象</td>
</tr>
<tr>
<td>实体</td>
<td><code>entity</code></td>
<td>充血的领域模型，有唯一标识</td>
</tr>
<tr>
<td>聚合（聚合根）</td>
<td><code>aggregate</code></td>
<td>实体的聚合，拥有聚合根，可为某一个实体</td>
</tr>
<tr>
<td>领域服务</td>
<td><code>service</code></td>
<td>无法归类到某个具体领域模型的行为</td>
</tr>
<tr>
<td>领域事件</td>
<td><code>event</code></td>
<td>不常用</td>
</tr>
<tr>
<td>仓储</td>
<td><code>repository</code></td>
<td>持久化相关，与基础设施层关联</td>
</tr>
<tr>
<td>工厂</td>
<td><code>factory</code></td>
<td>负责复杂对象创建</td>
</tr>
<tr>
<td>模块</td>
<td><code>module</code></td>
<td>子模块引入，可以理解为子域划分</td>
</tr>
</tbody>
</table>
<h2 id="ddd编码实践改进分层"><a class="markdownIt-Anchor" href="#ddd编码实践改进分层">#</a> DDD 编码实践（改进分层）</h2>
<p>本文在对上述的传统四层的实践中，（1）根据 <code>依赖倒置原则</code> 对分层结构进行了改进，通过改变不同层的依赖关系（即将基础设施层倒置）来改进具体实现与抽象之间关系；（2）在基础设施层中增加 <code>引用适配层</code> （防腐层）来增强防御策略，用来统一封装外部系统接口的引用。改进的分层结构如下：<br>
<img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/74de60360d744758993b3ba54ac20370.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>依赖倒置原则（DIP）：</p>
<ul>
<li>高层模块不依赖于低层模块，两者都依赖于抽象；</li>
<li>抽象不应该依赖于细节，细节应依赖抽象</li>
</ul>
</blockquote>
<h3 id="代码结构描述"><a class="markdownIt-Anchor" href="#代码结构描述">#</a> 代码结构描述</h3>
<p><code>eg.</code>  后端 Java 代码工程为例，<br>
 <code>表现层</code> 在此代码结构中表现为 <code>api层</code> ，对外暴露接口的最上层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">├─com.company.microservice</span><br><span class="line">├─com.company.microservice</span><br><span class="line">│    │ </span><br><span class="line">│    ├─apis   API接口层 </span><br><span class="line">│    │    └─controller       控制器，对外提供（Restful）接口</span><br><span class="line">│    │ </span><br><span class="line">│    ├─application           应用层</span><br><span class="line">│    │    ├─model            数据传输对象模型及其装配器（含校验）</span><br><span class="line">│    │    │    ├─assembler   装配器,，实现模型转换eg. apiModel&lt;=&gt; domainModel</span><br><span class="line">│    │    │    └─dto         模型定义（含校验规则）      </span><br><span class="line">│    │    ├─service          应用服务，非核心服务，跨领域的协作、复杂分页查询等</span><br><span class="line">│    │    ├─task             任务定义，协调领域模型</span><br><span class="line">│    │    ├─listener         事件监听定义</span><br><span class="line">│    │    └─***              others</span><br><span class="line">│    │ </span><br><span class="line">│    ├─domain   领域层</span><br><span class="line">│    │    ├─common           模块<span class="number">0</span>-公共代码抽取，限于领域层有效  </span><br><span class="line">│    │    ├─<span class="keyword">module</span>-xxx       模块<span class="number">1</span>-xxx，领域划分的模块，可理解为子域划分     </span><br><span class="line">│    │    ├─<span class="keyword">module</span>-user      模块<span class="number">2</span>-用户子域（领域划分的模块，可理解为子域划分）</span><br><span class="line">│    │    │    ├─action      行为定义</span><br><span class="line">│    │    │    │    ├─UserDomainService.java        领域服务,用户领域服务</span><br><span class="line">│    │    │    │    ├─UserPermissionChecker.java    其他行为，用户权限检查器</span><br><span class="line">│    │    │    │    ├─WhenUserCreatedEventPublisher.java     领域事件，当用户创建完成时的事件 </span><br><span class="line">│    │    │    ├─model       领域聚合内模型 </span><br><span class="line">│    │    │    │    ├─UserEntity.java                领域实体，有唯一标识的充血模型，如本身的CRUD操作在此处</span><br><span class="line">│    │    │    │    ├─UserDictVObj.java              领域值对象，用户字典kv定义       </span><br><span class="line">│    │    │    |    ├─UserDPO.java                   领域负载对象    </span><br><span class="line">│    │    │    ├─repostiory  领域仓储接口</span><br><span class="line">│    │    │    │    ├─UserRepository.java</span><br><span class="line">│    │    │    ├─reference   领域适配接口</span><br><span class="line">│    │    │    │    ├─UserEmailSenderFacade.java</span><br><span class="line">│    │    │    └─factory     领域工厂  </span><br><span class="line">│    │ </span><br><span class="line">│    ├─infrastructure  基础设施层</span><br><span class="line">│    │    ├─persistence      持久化机制</span><br><span class="line">│    │    │    ├─converter   持久化模型转换器</span><br><span class="line">│    │    │    ├─po          持久化对象定义 </span><br><span class="line">│    │    │    └─repository.impl  仓储类，持久化接口&amp;实现，可与ORM映射框架结合</span><br><span class="line">│    │    ├─general          通用技术支持，向其他层输出通用服务</span><br><span class="line">│    │    │    ├─config      配置类</span><br><span class="line">│    │    │    ├─toolkit     工具类  </span><br><span class="line">│    │    │    ├─extension   扩展定义  </span><br><span class="line">│    │    │    └─common      基础公共模块等 </span><br><span class="line">│    │    ├─reference        引用层，包装外部接口用，防止穿插到Domain层腐化领域模型等</span><br><span class="line">│    │    │    ├─dto         传输模型定义</span><br><span class="line">│    │    │    ├─converter   传输模型转换器       </span><br><span class="line">│    │    │    └─facade.impl 适配器具体实现，此处的RPC、Http等调用</span><br><span class="line">│    │ </span><br><span class="line">│    └─resources  </span><br><span class="line">│        ├─statics  静态资源</span><br><span class="line">│        ├─template 系统页面 </span><br><span class="line">│        └─application.yml   全局配置文件</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>其中在上述目录结构中，Domain 层中为对 <code>module</code>  进行划分，实际上默认该层只有一个模块，根据微服务划分可以进行增加模块来规范代码结构。<br>
示例代码工程：</p>
<p>GITHUB 地址：<a target="_blank" rel="noopener" href="https://github.com/smingjie/bbq-ddd.git">https://github.com/smingjie/bbq-ddd.git</a></p>
<h3 id="扩展定义注解和接口声明"><a class="markdownIt-Anchor" href="#扩展定义注解和接口声明">#</a> 扩展定义注解和接口声明</h3>
<p>（1） <code>自定义注解</code> ：在使用 DDD 中自定义了标记的注解 (@DDDAnnotation) 和其衍生子注解，分别是</p>
<ul>
<li><code>@DomainAggregate</code></li>
<li><code>@DomainAggregateRoot</code></li>
<li><code>@DomainEntity</code></li>
<li><code>@DomainValueObject</code></li>
<li><code>@DomainService</code></li>
<li><code>@DomainRepository</code></li>
<li><code>@DomainEvent</code></li>
<li><code>@ApplicationService</code></li>
<li><code>@DomainAssembler</code></li>
<li><code>@DomainConverter</code></li>
</ul>
<p>等注解，详见代码的 infrastructure.general.extension.ddd.annotation.**；其中有些注解继承了 spring 的  <code>@Component</code> , 将会自动注册为 spring bean，有些注解为了标记用于后续扩展；</p>
<p>引入了 Assembler 装配器 / Converter 转换器，通过组合模式解耦继承关系，在 api 层和持久化层都有相应的实现。</p>
<p>（2） <code>自定义接口</code> ：在 domain.common 定义了部分通用的 <code>契约</code> 接口，如领域对象元数据获取接口  <code>IDomainMetaData</code> ，通过接口解耦继承关系。其他还有：  <code>IDomainSaveOrUpdate</code>   <code>IDomainDelete</code>   <code>...</code>  等 Command</p>
<h3 id="领域模型注入仓储类的问题"><a class="markdownIt-Anchor" href="#领域模型注入仓储类的问题">#</a> 领域模型注入仓储类的问题</h3>
<p>区别于传统的分层后，在 domain 中更多关注业务逻辑，考虑到要与 spring 框架集成，需要注意一个领域模型中注入仓储类的问题</p>
<blockquote>
<p>在传统分层中，controller，service，repo 均注册为 spring 管理的 bean，<br>
但是在 domain 层中，service 一部分的业务逻辑划分到了具体的领域对象中去实现了，显然这些对象却不能注册为单例 bean，<br>
因此在此处不能沿用与原来分层结构中 service 层中通过 <code>@Autowired</code>  or  <code>@Resource</code>  等注入仓储接口，</p>
</blockquote>
<p><strong>关于这个问题，此处建议使用 <code>ApplicationContext</code>  实现</strong></p>
<blockquote>
<p>即通过一个工具类  <code>ApplicationContextUtils</code>  实现  <code>ApplicationContextAware</code>  获取 bean 的方法，即  <code>getBean()</code>  方法，<br>
然后我们就可以在我们的领域模型中直接应用该工具类来获取 Spring 托管的 singleton 对象，即<br>
 xxxRepo=ApplicationContextUtils.getBean (“xxxRepository”)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApplicationContextUtils</span> <span class="keyword">implements</span> <span class="title class_">ApplicationContextAware</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ApplicationContext appctx;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setApplicationContext</span><span class="params">(ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        ApplicationContextUtil.appctx=applicationContext;</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ApplicationContext</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ApplicationContext <span class="title function_">getApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> appctx;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name spring配置文件中配置的bean名或注解的名称</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 一个以所给名字注册的bean的实例</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> BeansException 抛出spring异常</span></span><br><span class="line"><span class="comment">     */</span> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">getBean</span><span class="params">(String name)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) appctx.getBean(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取类型为requiredType的对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz 需要获取的bean的类型</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 该类型的一个在ioc容器中的bean</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> BeansException 抛出spring异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">getBean</span><span class="params">(Class&lt;T&gt; clazz)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        <span class="keyword">return</span> appctx.getBean(clazz);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 如果ioc容器中包含一个与所给名称匹配的bean定义，则返回true否则返回false</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name ioc容器中注册的bean名称</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 存在返回true否则返回false</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">containsBean</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> appctx.containsBean(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>考虑到代码结构简洁性，还可以封装一层仓储工厂，只用来获取相应的仓储 <code>Bean</code>  。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 简化版的仓储工厂--用来统一获取仓储的实现Bean</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> jockeys</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/9/12</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RepoFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 根据仓储接口类型获取对应实现且默认取值第一个</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> tClass 具体目标类型</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &lt;T&gt;    仓储接口类型</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 如果不是指定实现，默认获得第一个实现Bean</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">get</span><span class="params">(Class&lt;? extends T&gt; tClass)</span> &#123;</span><br><span class="line"></span><br><span class="line">		Map&lt;String, ? <span class="keyword">extends</span> <span class="title class_">T</span>&gt; map = ApplicationUtils.getApplicationContext().getBeansOfType(tClass);</span><br><span class="line">		Collection&lt;? <span class="keyword">extends</span> <span class="title class_">T</span>&gt; collection = map.values();</span><br><span class="line">		<span class="keyword">if</span> (collection.isEmpty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">PersistException</span>(<span class="string">&quot;未找到仓储接口或其指定的实现:&quot;</span> + tClass.getSimpleName() );</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> collection.stream().findFirst().get();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在领域模型中就可以直接调用该工厂方法来获取仓储接口的实现，<br>
比如 <code>DictRepo</code>  为定义的仓储接口， <code>DictDao</code>  为该接口的准实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接指定实现</span></span><br><span class="line">DictRepo repo= RepoFactory.get(DictDao.class);</span><br><span class="line"><span class="comment">//不指定实现取Spring容器中默认注册第1位的Bean</span></span><br><span class="line">DictRepo repo= RepoFactory.get(DictRepo.class);</span><br></pre></td></tr></table></figure>
<h2 id="一些个人思考"><a class="markdownIt-Anchor" href="#一些个人思考">#</a> 一些个人思考…</h2>
<p>上述经典四层架构，笔者更愿意理解为 DDD 在编码实现阶段的一个体现或应用。</p>
<blockquote>
<p>补充一点：DDD 除了在编码实践阶段，还体现在需求分析、设计阶段等过程，DDD 推荐不割裂系统的需求和设计，我们这里可以合并称作系统建模过程，可参考 <a target="_blank" rel="noopener" href="https://blog.csdn.net/whos2016/article/details/103430565">DDD - 建模过程分析</a>一文，不再赘述。</p>
</blockquote>
<p>当然除了这个经典四层架构模型，DDD 还有五层架构、六边形架构等，所以这里抛出一个问题，</p>
<h3 id="项目按上述经典四层架构进行搭建可以说是ddd架构实践么"><a class="markdownIt-Anchor" href="#项目按上述经典四层架构进行搭建可以说是ddd架构实践么">#</a> 项目按上述经典四层架构进行搭建，可以说是 DDD 架构实践么？</h3>
<p>关于这个问题，笔者想引入一对哲学概念，哲学有言形式与内容，现象与本质等辩证关系（当然与本文可能也没啥太大关系啦）；从这两个角度来阐述本人的观点：</p>
<ul>
<li>
<p>形式与内容：经典四层架构是一个 DDD 实现的形式，相当于给我们提供了一个框框来让我们自己去实现；在这个框框里面我们怎么实现是自由发挥的，但也是有约束的，这个约束体现在 DDD 对每一层的作用的约定，如每个层约定做了什么功能，充当什么角色等。<strong>尤其是对 Domain 层的约定，才是最重要的</strong>。那么我们按照哲学辩证的套话来说，<em><strong>形式上满足了 DDD 架构，但这应该是片面的，具体还要看内容，即具体实现是怎样的。</strong></em></p>
</li>
<li>
<p>现象与本质：接着上述观点，如果要看实现，就要具体分析一下现象与本质嘞。上面笔者也有提到，DDD 除了四层经典架构，还有五层架构（包括其演化的多层架构）、六边形架构等也都是 DDD 提供的架构模型（形式），那这些都可以理解 DDD 架构模式的外显形式，那么又有哪些共性呢？可自行查询，本文直接给结论，即</p>
<p>它们都有 Domain 层，Domain 层，Domain 层</p>
<p>（重要的事情说三遍～～，该结论 DDD 作者译著有写到…），所以不管架构模式怎么演化，Domain 是核心不能变。</p>
<p>那么如上分析，我们在回到这个问题，我们是不是可以给出一个这样的答案：</p>
<blockquote>
<p>形式上符合 DDD 架构，具体是不是 DDD 的架构实践，本质上还要看</p>
<ul>
<li>（1）项目是否包括有 Domain 层；</li>
<li>（2）Domain 层是否满足 DDD 战术篇的要求（或者可暂时简单理解为充血模型吧）</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="题外话spring与ddd"><a class="markdownIt-Anchor" href="#题外话spring与ddd">#</a> 题外话：Spring 与 DDD</h3>
<ul>
<li>Spring 框架中，Spring 为我们提供了 <code>@Service</code>   <code>@Repository</code>  等注解，为我们分离行为和行为（注册为 Bean）和属性（数据模型），同时通过 <code>@Autowired</code>  在合适地方进行注入行为，因为行为被注册为 Spring 容器中的 Bean 后，减少了频繁创建行为的开销，只有属性的数据模型作为数据的载体来传递数据。提供很大的便捷性。但也阻碍了我们应用 DDD 编码实践， Spring 框架主张分离，DDD 思想主张合并，我们在 Spring 框架中使用 DDD 则需要在其基础上进行一些权衡取舍，即 <em><strong>如何将注册为 Bean 的行为穿插到原有的贫血模型中来构建充血模型是我们要解决的问题</strong></em></li>
<li>关于这个问题，笔者使用了 Spring 框架提供的<strong>获取容器内已经注册的 Bean 接口</strong>，直接调用接口，在有属性的领域模型中来获取行为；主要还是体现融入领域模型中的部分 Service 获取仓储接口来实现持久化过程。</li>
</ul>
<p>当然，上述的说明都是从一个软件开发人员的角度来阐述说明 DDD 在编码实践阶段的应用 。<br>
除此之外在业务领域的建模分析过程中也可引入该概念。<br>
比如我们现在所倡导的微服务化，如何划分或拆分微服务；如何有效地区分限界上下文，划分子域；如何构建一个有效的聚合，识别聚合根等。。。</p>
<ul>
<li>附在最后的，关于笔者对于 DDD 在需求设计阶段应用的学习总结</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/whos2016/article/details/103430565">DDD - 建模分析过程</a></li>
</ul>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt=""></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-21T01:04:21.063Z" title="2023-4-21 9:04:21">2023-04-21</time>发表</span><span class="level-item"><time dateTime="2023-04-21T01:08:00.429Z" title="2023-4-21 9:08:00">2023-04-21</time>更新</span><span class="level-item">5 分钟读完 (大约704个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/21/%E3%80%90NodeJS%E3%80%91Windows%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%A6%82%E4%BD%95%E5%81%9ANode%E5%A4%9A%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%EF%BC%9F/">【NodeJS】Windows环境下如何做Node多版本管理？</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="nodejswindows环境下如何做node多版本管理"><a class="markdownIt-Anchor" href="#nodejswindows环境下如何做node多版本管理">#</a> 【NodeJS】Windows 环境下如何做 Node 多版本管理？</h1>
<h1 id="前言"><a class="markdownIt-Anchor" href="#前言">#</a> 前言</h1>
<p>​		在多个不同的前端项目中，总会遇到 nodeJs 需求版本不一致的情况，例如，项目 A 需要 node12 版本，项目 B 要求不能小于 node16 版本，此时就产生了冲突，因此我们需要使用一个 Node 版本控制来解决这一系列的问题。</p>
<h1 id="nvm-windows"><a class="markdownIt-Anchor" href="#nvm-windows">#</a> nvm-windows</h1>
<p>​		在 Windows 环境下，可以使用  <code>nvm-windows</code>  工具来管理多个 Node.js 版本。与  <code>nvm</code>  相似， <code>nvm-windows</code>  也是一个 Node.js 版本管理器，可以让你在同一台计算机上安装和管理多个 Node.js 版本。</p>
<p>以下是使用  <code>nvm-windows</code>  工具的步骤：</p>
<ol>
<li>
<p>下载安装包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/coreybutler/nvm-windows/releases/tag/1.1.11</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>首先需要下载并安装  <code>nvm-windows</code>  工具。可以从 GitHub 上下载最新版本的安装包。下载后，直接运行安装程序按照提示进行安装即可。</p>
<ol>
<li>安装 Node.js 版本</li>
</ol>
<p>安装完成后，在命令行中输入以下命令来安装 Node.js 的不同版本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 14.17.5</span><br></pre></td></tr></table></figure>
<p>这将安装 Node.js v14.17.5 版本。如果要安装其他版本，只需将  <code>14.17.5</code>  替换为所需的版本即可。安装完成后，可以使用以下命令查看已安装的 Node.js 版本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm list</span><br></pre></td></tr></table></figure>
<ol>
<li>切换 Node.js 版本</li>
</ol>
<p>要切换到已安装的特定版本，可以使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 14.17.5</span><br></pre></td></tr></table></figure>
<p>这将使当前命令行窗口使用 Node.js v14.17.5 版本。如果要设置默认版本，请使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm alias default 14.17.5</span><br></pre></td></tr></table></figure>
<p>这将将 Node.js v14.17.5 设置为默认版本。每次打开一个新的命令行窗口时，都会自动将其设置为默认版本。</p>
<ol>
<li>其他命令</li>
</ol>
<p>除了上述命令外， <code>nvm-windows</code>  还提供了其他有用的命令，例如：</p>
<ul>
<li><code>nvm on</code> ：启用  <code>nvm</code>  环境变量。</li>
<li><code>nvm off</code> ：禁用  <code>nvm</code>  环境变量。</li>
<li><code>nvm uninstall 14.17.5</code> ：卸载 Node.js v14.17.5 版本。</li>
</ul>
<p>以上是在 Windows 环境下使用  <code>nvm-windows</code>  工具管理多个 Node.js 版本的基本步骤。</p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:52:53.490Z" title="2023-4-20 14:52:53">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:53:41.406Z" title="2023-4-20 14:53:41">2023-04-20</time>更新</span><span class="level-item">8 分钟读完 (大约1262个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90HEXO%E3%80%91%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/">【HEXO】使用Hexo搭建属于自己的博客</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="hexo使用hexo搭建属于自己的博客"><a class="markdownIt-Anchor" href="#hexo使用hexo搭建属于自己的博客">#</a> 【HEXO】使用 Hexo 搭建属于自己的博客</h1>
<p><strong>目录</strong></p>
<p><a href="#t0">一、查询当前博客发布地址</a></p>
<p><a href="#t1">二、域名注册</a></p>
<p><a href="#t2">1、这里博主以阿里云为例，首先进入阿里云官网，登录账号</a></p>
<p><a href="#t3">2、点击搜索按钮，搜索栏输入域名，点击搜索</a></p>
<p><a href="#t4">3、点击域名注册</a></p>
<p><a href="#t5">4、在搜索栏输入想要的域名，这里以 “wanwang” 举例，点击查询域名</a></p>
<p><a href="#t6">5、购买域名 </a></p>
<p><a href="#t7">6、购买完成后，返回查询域名页面，点击管理我的域名</a></p>
<p><a href="#t8">7、找到刚刚购买的域名，点击解析</a></p>
<p><a href="#t9">8、点击添加记录</a></p>
<p><a href="#t10">9、添加记录</a></p>
<p><a href="#t11">10、设置成功后，等待状态变为正常即可</a></p>
<p><a href="#t12">11、设置自定义域名</a></p>
<p><a href="#t13">三、完成</a></p>
<p><a href="#t14">1、访问刚才设置好的域名，“http:// 域名”，出现博客页面，表示成功。</a></p>
<hr>
<h1 id="一-查询当前博客发布地址"><a class="markdownIt-Anchor" href="#一-查询当前博客发布地址">#</a> 一、查询当前博客发布地址</h1>
<p>1、登录 GitHub，找到仓库（一般以 “.github.io” 结尾），点击进入</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/f16f4f455be5402f9b95487ac16f362c.png" alt="img"></p>
<p>2、右上方点击 “Settings”, 左下方找到 “Pages” 点击后，蓝色字体为博客发布的网址，点击查看，网址一般为 “<a target="_blank" rel="noopener" href="https://xn--5mq40k5uk/%E2%80%9D">https:// 仓库名 /”</a></p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/e4b93952287a4830a07ef974e72890b3.png" alt="img"></p>
<h1 id="二-域名注册"><a class="markdownIt-Anchor" href="#二-域名注册">#</a> 二、域名注册</h1>
<p>注：博主这里提供国内域名商的官网，仅供参考！</p>
<p>阿里云网址</p>
<p><a target="_blank" rel="noopener" href="https://www.aliyun.com/">阿里云 - 上云就上阿里云<img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/icon-default.png" alt="img">https://www.aliyun.com/</a></p>
<p>华为云网址</p>
<p><a target="_blank" rel="noopener" href="https://activity.huaweicloud.com/">最新优惠活动_云服务器特惠促销_打折云产品专场_特价低至 1 折 - 华为云<img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/icon-default.png" alt="img">https://activity.huaweicloud.com/</a></p>
<p>腾讯云网址</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/">腾讯云 - 产业智变 云启未来<img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/icon-default.png" alt="img">https://cloud.tencent.com/</a></p>
<h2 id="1-这里博主以阿里云为例首先进入阿里云官网登录账号"><a class="markdownIt-Anchor" href="#1-这里博主以阿里云为例首先进入阿里云官网登录账号">#</a> 1、这里博主以阿里云为例，首先进入阿里云官网，登录账号</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/c294e851d3734e508c7aa093d656d2d1.png" alt="img"></p>
<h2 id="2-点击搜索按钮搜索栏输入域名点击搜索"><a class="markdownIt-Anchor" href="#2-点击搜索按钮搜索栏输入域名点击搜索">#</a> 2、点击搜索按钮，搜索栏输入域名，点击搜索</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/2e3c87e917e047b68e69a5ecc6809576.png" alt="img"></p>
<h2 id="3-点击域名注册"><a class="markdownIt-Anchor" href="#3-点击域名注册">#</a> 3、点击域名注册</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/0176ff2c3e104636b5c938a075f94101.png" alt="img"></p>
<h2 id=""><a class="markdownIt-Anchor" href="#">#</a> </h2>
<h2 id="4-在搜索栏输入想要的域名这里以wanwang举例点击查询域名"><a class="markdownIt-Anchor" href="#4-在搜索栏输入想要的域名这里以wanwang举例点击查询域名">#</a> 4、在搜索栏输入想要的域名，这里以 “wanwang” 举例，点击查询域名</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/ad6c7f9be87d4d4f877d2ddc145be9e8.png" alt="img"></p>
<h2 id="5-购买域名"><a class="markdownIt-Anchor" href="#5-购买域名">#</a> 5、购买域名</h2>
<p>搜索结果，可能出现已注册情况，建议选择未注册的域名，点击购买，各位朋友请根据自己的需求和自身的经济实力购买，域名没有永久的都是有时效性的，具体可以询问客服</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/b761760294024ec5a015ba17b6e5256d.png" alt="img"></p>
<h2 id="6-购买完成后返回查询域名页面点击管理我的域名"><a class="markdownIt-Anchor" href="#6-购买完成后返回查询域名页面点击管理我的域名">#</a> 6、购买完成后，返回查询域名页面，点击管理我的域名</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/cfb0a55c15da4c99b4cf2054d01fe56c.png" alt="img"></p>
<h2 id="7-找到刚刚购买的域名点击解析"><a class="markdownIt-Anchor" href="#7-找到刚刚购买的域名点击解析">#</a> 7、找到刚刚购买的域名，点击解析</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/14a5a0a258914d078026d0e188c2d52b.png" alt="img"></p>
<h2 id="8-点击添加记录"><a class="markdownIt-Anchor" href="#8-点击添加记录">#</a> 8、点击添加记录</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/8ae1f0fd8ffa4c07a5a1c6c7ca0a52e4.png" alt="img"></p>
<h2 id="9-添加记录"><a class="markdownIt-Anchor" href="#9-添加记录">#</a> 9、添加记录</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/ddcaacbaca9f440e98bd8f690d667b2d.png" alt="img"></p>
<h2 id="10-设置成功后等待状态变为正常即可"><a class="markdownIt-Anchor" href="#10-设置成功后等待状态变为正常即可">#</a> 10、设置成功后，等待状态变为正常即可</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/642fe813a4ab43339a94a23261f58d28.png" alt="img"></p>
<h2 id="11-设置自定义域名"><a class="markdownIt-Anchor" href="#11-设置自定义域名">#</a> 11、设置自定义域名</h2>
<p>右上方点击 “Settings”，左下方找到 “Pages” 点击后，在 “Custom domain”（自定义域名）下方文本栏中填写域名，勾选 “Enforce HTTPS”（强制使用 https 协议），点击 “Save”（保存），蓝色字体为博客发布的网址，点击查看，网址一般为 “<a target="_blank" rel="noopener" href="https://xn--eqrt2g/%E2%80%9D">https:// 域名 /”</a></p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/df5af9f92fc44565b3be43e426b50cee.png" alt="img"></p>
<h1 id="三-完成"><a class="markdownIt-Anchor" href="#三-完成">#</a> 三、完成</h1>
<h2 id="1-访问刚才设置好的域名http域名出现博客页面表示成功"><a class="markdownIt-Anchor" href="#1-访问刚才设置好的域名http域名出现博客页面表示成功">#</a> 1、访问刚才设置好的域名，“<a target="_blank" rel="noopener" href="http://xn--eqrt2g">http:// 域名</a>”，出现博客页面，表示成功。</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/30baf16189c9448da5e343f87759774a.png" alt="img"></p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.463Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.169Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">4 分钟读完 (大约580个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E3%80%91%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%B3%E8%AF%B7%E7%9A%84%E5%85%8D%E8%B4%B9%E8%AF%81%E4%B9%A6%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91CDN%E5%92%8C%E4%BA%91%E7%9B%BE%E8%AF%81%E4%B9%A6%E4%B8%AD%E5%BF%83/">腾讯云申请的免费证书部署到阿里云CDN和云盾证书中心</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h3 id="腾讯云申请的免费证书部署到阿里云cdn和云盾证书中心"><a class="markdownIt-Anchor" href="#腾讯云申请的免费证书部署到阿里云cdn和云盾证书中心">#</a> 腾讯云申请的免费证书部署到阿里云 CDN 和云盾证书中心</h3>
<p>tips：以下内容仅支持有域名的小伙伴配置，没有域名请先申请域名</p>
<p>小伙伴们在有了自己的不知道如何部署 HTTPS？请看下面的操作</p>
<p>​	为什么不在阿里云申请 SSL 证书</p>
<p>​	答：阿里云免费证书很慢，而且付费的超级贵</p>
<p>所以本教程让大家在腾讯云官方申请 SSL 证书，注意：有效期只能为 1 年，过期不续费，只能重新申请和配置</p>
<p>1. 进入腾讯云证书官网： <a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/ssl">https://console.cloud.tencent.com/ssl</a></p>
<p>2. 点击申请免费证书</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101221781.png" alt="image-20230211101221781"></p>
<p>3. 输入绑定的域名、校验方式选择自动 DNS 验证、邮箱填写常用邮箱<img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101232921.png" alt="image-20230211101232921"></p>
<p>点击提交申请，等待校验通过</p>
<p>4. 申请通过后会颁发证书</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101359187.png" alt="image-20230211101359187"></p>
<p>5. 点击右侧下载，选择 Nginx 证书压缩包</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101422722.png" alt="image-20230211101422722"></p>
<p>解压缩后可以看见如下文件</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101454344.png" alt="image-20230211101454344"></p>
<p>6. 进入阿里云 云盾证书管理 <a target="_blank" rel="noopener" href="https://yundunnext.console.aliyun.com/?spm=5176.11785003.domainDetail.14.4251142fPqrVnU&amp;p=cas#/certExtend/upload">https://yundunnext.console.aliyun.com/?spm=5176.11785003.domainDetail.14.4251142fPqrVnU&amp;p=cas#/certExtend/upload</a></p>
<p>点击上传证书</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101539890.png" alt="image-20230211101539890"></p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101638094.png" alt="image-20230211101638094"></p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101727709.png" alt="image-20230211101727709"></p>
<p>点击确定后上传成功。</p>
<p>接下来就可以在阿里云使用你在腾讯云申请的证书来支持你的 CDN HTTPS 服务拉！</p>
<p><img src="https://brath.oss-cn-shanghai.aliyuncs.com/pigo/image-20230211101919544.png" alt="image-20230211101919544"></p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.459Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.174Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">16 分钟读完 (大约2446个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E5%A4%96%E8%AE%BE%E3%80%91%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98%E8%BD%B4%E4%BD%93%E6%80%8E%E4%B9%88%E9%80%89%EF%BC%9F%E4%B8%89%E6%A8%A1%E7%83%AD%E6%8F%92%E6%8B%94%E5%8E%9F%E6%9D%A5%E6%98%AF%E8%BF%99%E4%B9%88%E5%9B%9E%E4%BA%8B/">【外设】机械键盘轴体怎么选？三模热插拔原来是这么回事</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="前言"><a class="markdownIt-Anchor" href="#前言">#</a> 前言</h1>
<p>​		随着科技进步和生活品质的提高，机械键盘凭借其超长的使用寿命和非凡的手感夺回曾被薄膜键盘抢走十余年的金交椅，成为外设发烧友与游戏玩家的掌中爱物。除去寿命和使用手感，三模热插拔机械键盘可以根据玩家个人喜好使用需求，让自己心爱的机械键盘拥有独一无二的外观。</p>
<h2 id="三模热插拔键盘是什么"><a class="markdownIt-Anchor" href="#三模热插拔键盘是什么">#</a> 三模热插拔键盘是什么？</h2>
<p><strong>三模</strong>是一种键盘的连接模式，<strong>是指键盘支持有线、蓝牙和无线 2.4G 三种模式的连接方式</strong>。<strong>有线</strong>的连接方式简单，延迟率低，能提供更好的稳定性和兼容性。<strong>无线</strong> 2.4G 是需要电脑插入接收器，使键盘与接收器互联但容易受到同频段干扰。<strong>蓝牙</strong>模式则同时与平板电脑、手机等多设备进行快速无缝切换。市场上的单模、双模键盘更换率高、性能单一，三模键盘无疑是多设备简洁党玩家的首选，不管用不用得上买就对了。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095508676.png" alt="image-20230420095508676"></p>
<p><strong>热插拔即带电插拔</strong>，热插拔功能就是允许用户在不关闭系统，不切断电源的情况下更换零件后能立即识别且及时恢复公用，不需要系统对键盘进行二次识别。这样一来又能对机械键盘进行 DIY。</p>
<p>即使不为 DIY，买机械键盘也离不开对轴体的选择。</p>
<h2 id="轴体的结构组成"><a class="markdownIt-Anchor" href="#轴体的结构组成">#</a> 轴体的结构组成：</h2>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095523273.png" alt="image-20230420095523273"></p>
<p>轴体结构分化图</p>
<h2 id="机械轴体主要分为线性轴和段落轴"><a class="markdownIt-Anchor" href="#机械轴体主要分为线性轴和段落轴">#</a> 机械轴体主要分为线性轴和段落轴。</h2>
<p>对于选择困难户来说，轴体型号五花八门，不同的轴体具有不同的特性。</p>
<p>先来说说段落轴。顾名思义段落轴按到一半会触发一个段落变化，有很明显的段落感，声音大。</p>
<p>（1） <strong>青轴</strong>：必须承认樱桃青轴的经典设计。段落感强，具有<strong>明显</strong>清脆的<strong>敲击声</strong>，有阻滞感，易疲劳且有极大的<strong>噪音污染</strong>。住宿的学生党和长时间文字输入用户不建议使用。</p>
<p>（2） <strong>BOX 白轴</strong>：按压时带来清脆整齐的 “圆珠笔” 音，回弹力度大。声音、段落感比青轴轻，手感也比较不易疲累，是一款防尘防水的段落轴，在老式的机械键盘上经常出现。</p>
<p>（3） <strong>静音月白轴</strong>：一款把段落手感前置的轴体。加入了<strong>双重降噪设计</strong>，手感上具有十分有力的回弹。强烈的大段落手感更加接近早期的段落轴但没有白轴的沉重感。想体验<strong>提前大段落手感</strong>并且有静音处理的用户不妨试试。</p>
<p>（4） <strong>茶轴</strong>：一款入门级高性价比的机械键盘轴体，人称 “万能轴”。主要体现在各方面表现比较均衡，段落感较弱，不易误触、敲击声小、手感柔和、舒适感强是大多数人能接受的轴体。在职场办公想要有明晰的段落感又不想打扰到别人，那茶轴是一个不可多得的选择。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095528949.png" alt="image-20230420095528949"></p>
<p>追求段落感兼备游戏办公需求的可选茶轴</p>
<p>还有线性轴，<strong>线性轴特点是直上直下，声音小、没有段落感</strong>。举例如下：</p>
<p>（1） <strong>红轴</strong>：又称入坑轴，是线性轴体的典型代表。如果你是手劲小的女玩家可以尝试，手感上和普通的薄膜键盘比较类似。直上直下的设计带来轻盈的手感也不易累，敲击声小、反应灵敏、按压后的回弹柔和，兼顾日常游戏和打字办公的需求。</p>
<p>（2） <strong>G 黄轴 PRO</strong>：属于<strong>偏重手感</strong>的线性轴，从品名上能看出是 G 黄的升级版，自带厂润手感更顺滑，轴芯更稳定，声音小但有些许的闷，是目前性价比非常高的国产轴体。</p>
<p>（3） <strong>G 银轴 PRO</strong>：顺滑度和 G 黄轴 PRO 相比更胜一筹，提前触底声音小，<strong>触发速度快</strong>，轴芯稳定没有明显的晃动感。雷蛇、罗技这类游戏键盘上都是使用类似定制的轴体，非常适合游戏场景。</p>
<p>（4） <strong>快银轴</strong>：属于轻压力线性轴体，是银轴的升级版。快银轴使用了 TTC 双侧墙防尘壁专利技术结构，极大的增加轴体使用寿命，TTC 快银轴整体手感顺滑，几乎没有杂音；触发速度快、<strong>键程短</strong>、回弹跟手不易误触、轴心稳定性强。人送称号：国货天花板游戏神器。</p>
<p>（5） <strong>金粉轴</strong>： 整体手感轻盈、温柔，按压时更加顺滑也具备稳定有力的回弹，声音脆 ，杂音小且具备出色的跟手感是目前公认的顶级轻压力线性轴，被誉为码字神轴。适合长时间打字用户。</p>
<p>（6） <strong>黑轴</strong>：按压的声音小、没有段落感，键程很短 、敏感度及反弹力强。但需要花大力气去按压，用久手指容易酸累，是 “<strong>大力</strong>金刚指玩家” 的游戏键盘首选轴体。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095534157.png" alt="image-20230420095534157"></p>
<p>选择一款机械轴体基本就是选择段落轴和线性轴区别，之后依据敲击声和舒适感再进行详细划分，就能找到适合自己的轴体，不妨买个<strong>试轴器体验一下</strong>。想要轴体寿命长的颜值党也是推荐定制类的轴体。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095539280.png" alt="image-20230420095539280"></p>
<p>机械键盘还具有一招更换键帽独门秘技。同样的轴体手感依旧有所大不相同，所以在键帽的设计上除去工艺的差距，键帽的材质上也极为讲究。</p>
<p><strong>键帽</strong>有三类<strong>材质</strong>：<strong>ABS、PBT 和 POM</strong>。ABS 是使用频率最高的键帽材料，不管低价位普及型产品还是上千元的高端旗舰机械键盘，都可以看到 ABS 键帽的身影。POM 材质高成本也一同指向高售价的高端产品，所以 POM 材质键帽在键盘市场越来越少见。</p>
<p>ABS 材质本身<strong>便于加工、成本低、强度高、韧性好、透光性</strong>比 PBT<strong> 强</strong>，推荐喜欢光污染 RGB 的用户。键帽触感细腻润滑，饱和度高、色彩鲜艳。尽管<strong>制作工艺成熟</strong>但是不耐高温、耐磨性差，长时间使用后整个键盘表面表现得油光逞亮，被称为 “打油” 现象，影响美观，手感更是大打折扣。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/image-20230420095543873.png" alt="image-20230420095543873"></p>
<p>“打油” 展示图</p>
<p>不能断定 ABS 材质都是不好的，价格昂贵又好看的键帽有不少是 ABS 材质。ABS 结合其他成分制作的键帽也有很耐磨的，主要看工艺和成本。</p>
<p>PBT 材质耐磨性明显优于 ABS，材质是最坚韧的工程热塑材料之一，耐高热，有非常好的化学稳定性。用 PBT 材质制作的键帽触感干爽硬朗，具有非常独特的磨砂感，耐磨性相当不错。手感上略硬一些，<strong>色彩还原度高</strong>也<strong>不易掉色</strong>，主要适用于浅色键帽。长时间使用不 “打油” 的特性得到资深玩家的热爱，但并不表示 “永不打油”，一些成本便宜成分含量低的光面 PBT 键帽一样会打油。除了以上两款常见材质外还有树脂、金属这种比较少见的材质，通常做成个性键帽，主要特点是装饰键盘突显个性，价格昂贵。</p>
<p>“横看成岭侧成峰，远近高低各不同”。 不同高度的键帽在同一把机械键盘上又会是截然不同的输入体验。<strong>总而言之适合自己才是最好的，不必盲目追求复古与特殊，舒适才是最为轻松自在的。</strong></p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.456Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.190Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">26 分钟读完 (大约3850个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E6%9E%B6%E6%9E%84%E3%80%91DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%9E%8B/">【架构】DDD分层架构模型</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="架构ddd分层架构模型"><a class="markdownIt-Anchor" href="#架构ddd分层架构模型">#</a> 【架构】DDD 分层架构模型</h1>
<p>还在单体应用的时候就是分层架构一说，我们用得最多的就是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84&amp;spm=1001.2101.3001.7020">三层架构</a>。而现在已经是微服务时代，在微服务架构模型比较常用的有几个，例如：整洁架构，CQRS（命令查询分离）以及六边形架构。每种架构模型都有自己的应用场景，但其核心都是 “<strong>高内聚低耦合</strong>” 原则。而运用领域驱动设计（DDD）理念以应对日常加速的业务变化对架构的影响，架构的边界越来越清晰，各司其职，这也符合<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%BE%AE%E6%9C%8D%E5%8A%A1&amp;spm=1001.2101.3001.7020">微服务</a>架构的设计思想。以领域驱动设计（DDD）为理念的分层架构已经成为微服务架构实践的最佳实践方法。</p>
<h1 id="一-什么是ddd分层架构"><a class="markdownIt-Anchor" href="#一-什么是ddd分层架构">#</a> 一、什么是 DDD 分层架构</h1>
<h1 id="1-传统三层架构"><a class="markdownIt-Anchor" href="#1-传统三层架构">#</a> 1. 传统三层架构</h1>
<p>要了解 DDD 分层架构，首先先了解传统的三层架构。</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/bc95fd968f658441bac8dde830d82d39.png" alt="DDD分层架构最佳实践"></p>
<p>传统三层架构流程：</p>
<ul>
<li>第一步考虑的是数据库设计，数据表如何建，表之间的关系如何设计</li>
<li>第二步就是搭建数据访问层，如选一个 ORM 框架或者拼接 SQL 操作</li>
<li>第三步就是业务逻辑的实现，由于我们先设计了数据库，我们整个的思考都会围绕着数据库，想着怎么写才能把数据正确地写入数据库中，这时 CRUD 的标准作法就出现了，也就没有太多考虑面向对象，解耦的事情了，这样的代码对日常的维护自然是越来越困难的</li>
<li>第四步表示层主要面向用户的输出</li>
</ul>
<h1 id="2-ddd分层架构"><a class="markdownIt-Anchor" href="#2-ddd分层架构">#</a> 2. DDD 分层架构</h1>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/0688f3781f073a93538b05557b6dbe22.png" alt="DDD分层架构最佳实践"></p>
<p>为了解决高耦合问题并轻松应对以后的系统变化，我们提出了运用领域驱动设计的理念来设计架构。</p>
<blockquote>
<p>此段落部分总结来源于欧创新《DDD 实践课》的《07 | DDD 分层架构：有效降低层与层之间的依赖》读后感</p>
</blockquote>
<h1 id="1领域层"><a class="markdownIt-Anchor" href="#1领域层">#</a> 1）领域层</h1>
<p>首先我们抛开数据库的困扰，<strong>先从业务逻辑入手开始</strong>，设计时不再考虑数据库的实现。将以前的业务逻辑层（BLL）拆分成了领域层和应用层。</p>
<p>领域层聚焦业务对象的业务逻辑实现，体现现实世界业务的逻辑变化。它用来表达业务概念、业务状态和业务规则，对于业务分析可参照：《使用领域驱动设计分析业务》</p>
<h1 id="2应用层"><a class="markdownIt-Anchor" href="#2应用层">#</a> 2）应用层</h1>
<p>应用层是领域层的上层，依赖领域层，是各聚合的协调和编排，原则上是不包括任何业务逻辑。它以较粗粒度的封闭为前端接口提供支持。除了提供上层调用外，还可以包括事件和消息的订阅。</p>
<h1 id="3-用户接口层"><a class="markdownIt-Anchor" href="#3-用户接口层">#</a> 3） 用户接口层</h1>
<p>用户接口层面向用户访问的数据入向接口，可按不同场景提供不一样的用户接口实现。面向 Web 的可使用 http restful 的方式提供服务，可增加安全认证、权限校验，日志记录等功能；面向微服务的可使用 RPC 方式提供服务，可增加限流、熔断等功能。</p>
<h1 id="4-基础设施层"><a class="markdownIt-Anchor" href="#4-基础设施层">#</a> 4） 基础设施层</h1>
<p>基础设施层是数据的出向接口，封装数据调用的技术细节。可为其它任意层提供服务，但为了解决耦合的问题采用了依赖倒置原则。其它层只依赖基础设施的接口，于具体实现进行分离。</p>
<h1 id="二-ddd分层代码实现"><a class="markdownIt-Anchor" href="#二-ddd分层代码实现">#</a> 二、DDD 分层代码实现</h1>
<h1 id="1-结构模型"><a class="markdownIt-Anchor" href="#1-结构模型">#</a> 1. 结构模型</h1>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/7ba92eeaedb20c360874015795e57354.png" alt="DDD分层架构最佳实践"></p>
<h1 id="2-目录结构"><a class="markdownIt-Anchor" href="#2-目录结构">#</a> 2. 目录结构</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── pom.xml</span><br><span class="line">└── src</span><br><span class="line">    ├── main</span><br><span class="line">    │   ├── java</span><br><span class="line">    │   │   └── fun</span><br><span class="line">    │   │       └── barryhome</span><br><span class="line">    │   │           └── ddd</span><br><span class="line">    │   │               ├── WalletApplication.java</span><br><span class="line">    │   │               ├── application</span><br><span class="line">    │   │               │   ├── TradeEventProcessor.java</span><br><span class="line">    │   │               │   ├── TradeMQReceiver.java</span><br><span class="line">    │   │               │   └── TradeManager.java</span><br><span class="line">    │   │               ├── constant</span><br><span class="line">    │   │               │   └── MessageConstant.java</span><br><span class="line">    │   │               ├── controller</span><br><span class="line">    │   │               │   ├── TradeController.java</span><br><span class="line">    │   │               │   ├── WalletController.java</span><br><span class="line">    │   │               │   └── dto</span><br><span class="line">    │   │               │       └── TradeDTO.java</span><br><span class="line">    │   │               ├── domain</span><br><span class="line">    │   │               │   ├── TradeService.java</span><br><span class="line">    │   │               │   ├── TradeServiceImpl.java</span><br><span class="line">    │   │               │   ├── enums</span><br><span class="line">    │   │               │   │   ├── InOutFlag.java</span><br><span class="line">    │   │               │   │   ├── TradeStatus.java</span><br><span class="line">    │   │               │   │   ├── TradeType.java</span><br><span class="line">    │   │               │   │   └── WalletStatus.java</span><br><span class="line">    │   │               │   ├── event</span><br><span class="line">    │   │               │   │   └── TradeEvent.java</span><br><span class="line">    │   │               │   ├── model</span><br><span class="line">    │   │               │   │   ├── BaseEntity.java</span><br><span class="line">    │   │               │   │   ├── TradeRecord.java</span><br><span class="line">    │   │               │   │   └── Wallet.java</span><br><span class="line">    │   │               │   └── repository</span><br><span class="line">    │   │               │       ├── TradeRepository.java</span><br><span class="line">    │   │               │       └── WalletRepository.java</span><br><span class="line">    │   │               └── infrastructure</span><br><span class="line">    │   │                   ├── TradeRepositoryImpl.java</span><br><span class="line">    │   │                   ├── WalletRepositoryImpl.java</span><br><span class="line">    │   │                   ├── cache</span><br><span class="line">    │   │                   │   └── Redis.java</span><br><span class="line">    │   │                   ├── client</span><br><span class="line">    │   │                   │   ├── AuthFeignClient.java</span><br><span class="line">    │   │                   │   └── LocalAuthClient.java</span><br><span class="line">    │   │                   ├── jpa</span><br><span class="line">    │   │                   │   ├── JpaTradeRepository.java</span><br><span class="line">    │   │                   │   └── JpaWalletRepository.java</span><br><span class="line">    │   │                   └── mq</span><br><span class="line">    │   │                       └── RabbitMQSender.java</span><br><span class="line">    │   └── resources</span><br><span class="line">    │       ├── application.properties</span><br><span class="line">    │       └── rabbitmq-spring.xml</span><br><span class="line">    └── test</span><br><span class="line">        └── java</span><br></pre></td></tr></table></figure>
<p>此结构为单一微服务的简单结构，各层在同一个模块中。</p>
<p>在大型项目开发过程中，为了达到核心模块的权限控制或更好的灵活性可适当调整结构，可参考《 数字钱包系统》系统结构</p>
<h1 id="3-领域层实现domain"><a class="markdownIt-Anchor" href="#3-领域层实现domain">#</a> 3. 领域层实现（domain）</h1>
<p>在业务分析（《使用领域驱动设计分析业务》）之后，开始编写代码，首先就是写领域层，创建领域对象和领域服务接口</p>
<h1 id="1领域对象"><a class="markdownIt-Anchor" href="#1领域对象">#</a> 1）领域对象</h1>
<p>这里的领域对象包括实体对象、值对象。</p>
<p><strong>实体对象</strong>：具有唯一标识，能单独存在且可变化的对象</p>
<p><strong>值对象</strong>：不能单独存在或在逻辑层面单独存在无意义，且不可变化的对象</p>
<p><strong>聚合</strong>：多个对象的集合，对外是一个整体</p>
<p><strong>聚合根</strong>：聚合中可代表整个业务操作的实体对象，通过它提供对外访问操作，它维护聚合内部的数据一致性，它是聚合中对象的管理者</p>
<p>代码示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">// 交易</span><br><span class="line">public class TradeRecord extends BaseEntity &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 交易号</span><br><span class="line">     */</span><br><span class="line">    @Column(unique = true)</span><br><span class="line">    private String tradeNumber;</span><br><span class="line">    /**</span><br><span class="line">     * 交易金额</span><br><span class="line">     */</span><br><span class="line">    private BigDecimal tradeAmount;</span><br><span class="line">    /**</span><br><span class="line">     * 交易类型</span><br><span class="line">     */</span><br><span class="line">    @Enumerated(EnumType.STRING)</span><br><span class="line">    private TradeType tradeType;</span><br><span class="line">    /**</span><br><span class="line">     * 交易余额</span><br><span class="line">     */</span><br><span class="line">    private BigDecimal balance;</span><br><span class="line">    /**</span><br><span class="line">     * 钱包</span><br><span class="line">     */</span><br><span class="line">    @ManyToOne</span><br><span class="line">    private Wallet wallet;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 交易状态</span><br><span class="line">     */</span><br><span class="line">    @Enumerated(EnumType.STRING)</span><br><span class="line">    private TradeStatus tradeStatus;</span><br><span class="line"> </span><br><span class="line">  	@DomainEvents</span><br><span class="line">    public List&lt;Object&gt; domainEvents() &#123;</span><br><span class="line">        return Collections.singletonList(new TradeEvent(this));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">// 钱包</span><br><span class="line">public class Wallet extends BaseEntity &#123;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 钱包ID</span><br><span class="line">     */</span><br><span class="line">    @Id</span><br><span class="line">    private String walletId;</span><br><span class="line">    /**</span><br><span class="line">     * 密码</span><br><span class="line">     */</span><br><span class="line">    private String password;</span><br><span class="line">    /**</span><br><span class="line">     * 状态</span><br><span class="line">     */</span><br><span class="line">    @Enumerated(EnumType.STRING)</span><br><span class="line">    private WalletStatus walletStatus = WalletStatus.AVAILABLE;</span><br><span class="line">    /**</span><br><span class="line">     * 用户Id</span><br><span class="line">     */</span><br><span class="line">    private Integer userId;</span><br><span class="line">    /**</span><br><span class="line">     * 余额</span><br><span class="line">     */</span><br><span class="line">    private BigDecimal balance = BigDecimal.ZERO;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>从<strong>钱包交易</strong>例子的系统设计中，钱包的任何操作如：充值、消息等都是通过交易对象驱动钱包余额的变化</li>
<li><strong>交易对象</strong>和<strong>钱包对象</strong>均为实体对象且组成聚合关系，<strong>交易对象</strong>是钱包交易业务模型的聚合根，代表聚合向外提供调用服务</li>
<li>经过分析<strong>交易对象</strong>与<strong>钱包对象</strong>为 1 对多关系（@ManyToOne），这里采用了 JPA 做<strong> ORM</strong> 架构，更多 JPA 实践请参考 &gt;&gt;</li>
<li>这里的领域建模使用的是贫血模型，结构简单，职责单一，相互隔离性好但缺乏面向对象设计思想，关于领域建模可参考《领域建模的贫血模型与充血模型》</li>
<li>domainEvents () 为领域事件发布的一种实现，作用是<strong>交易对象</strong>任何的数据操作都将触发事件的发布，再配合<strong>事件订阅</strong>实现<strong>事件驱动设计</strong>模型，当然也可以有别的实现方式</li>
</ul>
<h1 id="2领域服务"><a class="markdownIt-Anchor" href="#2领域服务">#</a> 2）领域服务</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Created on 2020/9/7 11:40 上午</span><br><span class="line"> *</span><br><span class="line"> * @author barry</span><br><span class="line"> * Description: 交易服务</span><br><span class="line"> */</span><br><span class="line">public interface TradeService &#123;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 充值</span><br><span class="line">     *</span><br><span class="line">     * @param tradeRecord</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    TradeRecord recharge(TradeRecord tradeRecord);</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 消费</span><br><span class="line">     *</span><br><span class="line">     * @param tradeRecord</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    TradeRecord consume(TradeRecord tradeRecord);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<p>先定义服务接口，接口的定义需要遵循<strong>现实业务的操作</strong>，切勿以程序逻辑或数据库逻辑来设计定义出增删改查</p>
<ul>
<li>主要的思考方向是交易对象对外可提供哪些服务，这种服务的定义是<strong>粗粒度</strong>且<strong>高内聚</strong>的，切勿将某些具体代码实现层面的方法定义出来</li>
<li>接口的输入输出参数尽量考虑以对象的形式，充分兼容各种场景变化</li>
<li>关于前端需要的复杂查询方法可不在此定义，一般情况下查询并非是一种领域服务且没有数据变化，可单独处理</li>
<li>领域服务的实现主要关注逻辑实现，切勿包含技术基础类代码，比如缓存实现，数据库实现，远程调用等</li>
</ul>
<h1 id="3基础设施接口"><a class="markdownIt-Anchor" href="#3基础设施接口">#</a> 3）基础设施接口</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public interface TradeRepository &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 保存</span><br><span class="line">     * @param tradeRecord</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    TradeRecord save(TradeRecord tradeRecord);</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 查询订单</span><br><span class="line">     * @param tradeNumber</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    TradeRecord findByTradeNumber(String tradeNumber);</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 发送MQ事件消息</span><br><span class="line">     * @param tradeEvent</span><br><span class="line">     */</span><br><span class="line">    void sendMQEvent(TradeEvent tradeEvent);</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取所有</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    List&lt;TradeRecord&gt; findAll();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<ul>
<li>基础设施接口放在领域层主要的目的是减少领域层对基础设施层的依赖</li>
<li>接口的设计是不可暴露实现的技术细节，如不能将拼装的 SQL 作为参数</li>
</ul>
<h1 id="4-应用层实现application"><a class="markdownIt-Anchor" href="#4-应用层实现application">#</a> 4. 应用层实现（application）</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">// 交易服务</span><br><span class="line">@Component</span><br><span class="line">public class TradeManager &#123;</span><br><span class="line"> </span><br><span class="line">    private final TradeService tradeService;</span><br><span class="line">    public TradeManager(TradeService tradeService) &#123;</span><br><span class="line">        this.tradeService = tradeService;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    // 充值</span><br><span class="line">    @Transactional(rollbackFor = Exception.class)</span><br><span class="line">    public TradeRecord recharge(TradeRecord tradeRecord) &#123;</span><br><span class="line">        return tradeService.recharge(tradeRecord);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">     // 消费</span><br><span class="line">    @Transactional(rollbackFor = Exception.class)</span><br><span class="line">    public TradeRecord consume(TradeRecord tradeRecord) &#123;</span><br><span class="line">        return tradeService.consume(tradeRecord);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">// 交易事件订阅</span><br><span class="line">@Component</span><br><span class="line">public class TradeEventProcessor &#123;</span><br><span class="line"> </span><br><span class="line">    @Autowired</span><br><span class="line">    private TradeRepository tradeRepository;</span><br><span class="line"> </span><br><span class="line">    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT, condition = &quot;# tradeEvent.tradeStatus.name() == &#x27;SUCCEED&#x27;&quot;)</span><br><span class="line">    public void TradeSucceed(TradeEvent tradeEvent) &#123;</span><br><span class="line">        tradeRepository.sendMQEvent(tradeEvent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">// 交易消息订阅</span><br><span class="line">@Component</span><br><span class="line">public class TradeMQReceiver &#123;</span><br><span class="line"> </span><br><span class="line">    @RabbitListener(queues = &quot;ddd-trade-succeed&quot;)</span><br><span class="line">    public void receiveTradeMessage(TradeEvent tradeEvent)&#123;</span><br><span class="line">        System.err.println(&quot;========MQ Receiver============&quot;);</span><br><span class="line">        System.err.println(tradeEvent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<p><strong>应用服务</strong>：</p>
<ul>
<li>应用层是很薄的一层，主要用于调用和组合领域服务，切勿包含任何业务逻辑</li>
<li>可包括少量的流程参数判断</li>
<li>由于可能是多个领域服务组合操作调用，如果存在原子性要求可以增加 **@Transactional** 事务控制</li>
</ul>
<p><strong>事件订阅</strong>：</p>
<ul>
<li>事件订阅是进程内多个领域操作协作解耦的一种实现方式，它也是进程内所有后续操作的接入口</li>
<li>它与应用服务的组合操作用途不一样，组合是根据场景需求可增可减，但事件订阅后的操作是相对固化的，主要是满足逻辑的一致性要求</li>
</ul>
<p><strong>TransactionPhase.AFTER_COMMIT</strong> 配置是在前一操作事务完成后再调用，从而减少后续操作对前操作的影响</p>
<ul>
<li>事件订阅可能会有多个消息主体，为了方便管理最好统一在一个类里处理</li>
<li>MQ 消息发布一般放在事件订阅中</li>
</ul>
<p><strong>消息订阅</strong>：</p>
<ul>
<li>消息订阅是多个微服务间协作解耦的一步实现方式</li>
<li>消息体尽量以统一的对象包装进行传递，降低对象异构带来的处理难度</li>
</ul>
<h1 id="5-基础设施层infrastructure"><a class="markdownIt-Anchor" href="#5-基础设施层infrastructure">#</a> 5. 基础设施层（infrastructure）</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">@Repository</span><br><span class="line">public class TradeRepositoryImpl implements TradeRepository &#123;</span><br><span class="line"> </span><br><span class="line">    private final JpaTradeRepository jpaTradeRepository;</span><br><span class="line">    private final RabbitMQSender rabbitMQSender;</span><br><span class="line">    private final Redis redis;</span><br><span class="line"> </span><br><span class="line">    public TradeRepositoryImpl(JpaTradeRepository jpaTradeRepository, RabbitMQSender rabbitMQSender, Redis redis) &#123;</span><br><span class="line">        this.jpaTradeRepository = jpaTradeRepository;</span><br><span class="line">        this.rabbitMQSender = rabbitMQSender;</span><br><span class="line">        this.redis = redis;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @Override</span><br><span class="line">    public TradeRecord save(TradeRecord tradeRecord) &#123;</span><br><span class="line">        return jpaTradeRepository.save(tradeRecord);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 查询订单</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public TradeRecord findByTradeNumber(String tradeNumber) &#123;</span><br><span class="line">        TradeRecord tradeRecord = redis.getTrade(tradeNumber);</span><br><span class="line">        if (tradeRecord == null)&#123;</span><br><span class="line">            tradeRecord = jpaTradeRepository.findFirstByTradeNumber(tradeNumber);</span><br><span class="line">            // 缓存</span><br><span class="line">            redis.cacheTrade(tradeRecord);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        return tradeRecord;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 发送事件消息</span><br><span class="line">     * @param tradeEvent</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public void sendMQEvent(TradeEvent tradeEvent) &#123;</span><br><span class="line">        // 发送消息</span><br><span class="line">        rabbitMQSender.sendMQTradeEvent(tradeEvent);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    /**</span><br><span class="line">     * 获取所有</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;TradeRecord&gt; findAll() &#123;</span><br><span class="line">        return jpaTradeRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<ul>
<li>基础设施层是数据的输出向，主要包含数据库、缓存、消息队列、远程访问等的技术实现</li>
<li>基础设计层对外隐藏技术实现细节，提供粗粒度的数据输出服务</li>
<li>数据库操作：领域层传递的是数据对象，在这里可以按数据表的实现方式进行拆分实现</li>
</ul>
<h1 id="6-用户接口层controller"><a class="markdownIt-Anchor" href="#6-用户接口层controller">#</a> 6. 用户接口层（controller）</h1>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@RequestMapping</span>(<span class="string">&quot;/trade&quot;</span>)</span><br><span class="line"><span class="variable">@RestController</span></span><br><span class="line">public class TradeController &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">@Autowired</span></span><br><span class="line">    private TradeManager tradeManager;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">@Autowired</span></span><br><span class="line">    private TradeRepository tradeRepository;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">@PostMapping</span>(path = <span class="string">&quot;/recharge&quot;</span>)</span><br><span class="line">    public TradeDTO <span class="built_in">recharge</span>(<span class="variable">@RequestBody</span> TradeDTO tradeDTO) &#123;</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">TradeDTO</span><span class="selector-class">.toDto</span>(tradeManager.<span class="built_in">recharge</span>(tradeDTO.<span class="built_in">toEntity</span>()));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @<span class="selector-tag">PostMapping</span>(path = <span class="string">&quot;/consume&quot;</span>)</span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">TradeDTO</span> <span class="selector-tag">consume</span>(<span class="variable">@RequestBody</span> TradeDTO tradeDTO) &#123;</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">TradeDTO</span><span class="selector-class">.toDto</span>(tradeManager.<span class="built_in">consume</span>(tradeDTO.<span class="built_in">toEntity</span>()));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @<span class="selector-tag">GetMapping</span>(path = <span class="string">&quot;/&#123;tradeNumber&#125;&quot;</span>)</span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">TradeDTO</span> <span class="selector-tag">findByTradeNumber</span>(<span class="variable">@PathVariable</span>(<span class="string">&quot;tradeNumber&quot;</span>) String tradeNumber)&#123;</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">TradeDTO</span><span class="selector-class">.toDto</span>(tradeRepository.<span class="built_in">findByTradeNumber</span>(tradeNumber));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<ul>
<li>用户接口层面向终端提供服务支持</li>
<li>可根据不同的场景单独一个模块，面向 Web 提供 http restful，面向服务间 API 调用提供 RPG 支持</li>
<li>为 Web 端提供身份认证和权限验证服务，VO 数据转换</li>
<li>为 API 端提供限流和熔断服务，DTO 数据转换</li>
<li>将数据转换从应用层提到用户接口层更方便不同场景之前的需求变化，同时也保证应用层数据格式的统一性</li>
</ul>
<h1 id="7-复杂数据查询"><a class="markdownIt-Anchor" href="#7-复杂数据查询">#</a> 7. 复杂数据查询</h1>
<p>以上可见并没有涉及复杂数据查询问题，此问题不涉及业务逻辑处理所以不应该放在领域层处理。</p>
<p>如果复杂数据查询需求较多可采用 CQRS 模式，将查询单独一个模块处理。如果较少可由基础设施层做数据查询，应用层做数据封装，用户接口层做数据调用</p>
<ul>
<li>JPA 不太适合做多表关联的数据库查询操作，可使用其它的灵活性较高的 ORM 架构</li>
</ul>
<p>在大数据大并发情况下，多表关联会严重影响数据库性能，可以考虑做<strong>宽表查询</strong></p>
<h1 id="三-综述"><a class="markdownIt-Anchor" href="#三-综述">#</a> 三、综述</h1>
<p>DDD 分层主要解决各层之间耦合度问题，做到各层各施其职互不影响。各层中领域层的设计是整个系统的中枢，最能体现领域驱动设计的核心思想。它的良好设计是保证往后架构的可持续性，可维护性。</p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.452Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.180Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">2 分钟读完 (大约269个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E5%AE%9D%E5%A1%94/">云服务器部署宝塔面板</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<p>购买好服务器后，进入 Xshell：</p>
<p>1. 安装宝塔面板</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure>
<p>获得：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">==================================================================</span><br><span class="line">Congratulations! Installed successfully!</span><br><span class="line">==================================================================</span><br><span class="line">外网面板地址: http://42.193.125.92:8888/ef1f509f</span><br><span class="line">内网面板地址: http://172.21.0.3:8888/ef1f509f</span><br><span class="line">username: upqknxq4</span><br><span class="line">password: f3701931</span><br><span class="line">If you cannot access the panel,</span><br><span class="line">release the following panel port [8888] in the security group</span><br><span class="line">若无法访问面板，请检查防火墙/安全组是否有放行面板[8888]端口</span><br><span class="line">==================================================================</span><br><span class="line">Time consumed: 1 Minute!</span><br></pre></td></tr></table></figure>
<p>访问 <a target="_blank" rel="noopener" href="http://ip:8888/ef1f509f">http://ip:8888/ef1f509f</a> 打开宝塔</p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.448Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.184Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">9 分钟读完 (大约1304个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E9%98%BF%E9%87%8C%E4%BA%91OSS%E7%9A%84CDN%E5%8A%A0%E9%80%9F%E5%92%8COSS%E4%BC%A0%E8%BE%93%E5%8A%A0%E9%80%9F%E7%9A%84%E5%8C%BA%E5%88%AB/">阿里云OSS的CDN加速和OSS传输加速的区别</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h2 id="概述"><a class="markdownIt-Anchor" href="#概述">#</a> 概述</h2>
<p>本文主要介绍阿里云对象存储 OSS 的传输加速功能和 CDN 加速 OSS 资源的区别，以便您根据实际业务进行选择。</p>
<h2 id="详细信息"><a class="markdownIt-Anchor" href="#详细信息">#</a> 详细信息</h2>
<p>阿里云对象存储 OSS 以海量、安全、低成本、高可靠等特点已经成为用户存储静态资源和文件的首要选择，实际使用中面向全球各地用户访问 OSS 资源时，访问速度会受到客户端网络、OSS 的下行带宽、Bucket 地域、访问链路长等限制出现访问慢的情况。以下主要介绍 CDN 加速 OSS 和 OSS 传输加速的加速方式：</p>
<h3 id="实现原理"><a class="markdownIt-Anchor" href="#实现原理">#</a> 实现原理</h3>
<p>具体实现加速的原理如下：</p>
<ul>
<li>CDN 加速 OSS：是建立并覆盖在承载网之上，由遍布全球的边缘节点服务器群组成的分布式网络。阿里云 CDN 能分担源站压力，避免网络拥塞，确保在不同区域、不同场景下加速网站内容的分发，提高资源访问速度。由 CDN 全球广泛分布的边缘节点缓存 OSS 存储的静态数据，从而实现客户端从边缘节点直接获取数据的方式来实现访问的加速。</li>
<li>OSS 传输加速：利用全球分布的云机房，将全球各地用户对您存储空间（Bucket）的访问，经过智能路由解析至就近的接入点，使用优化后的网络及协议，为云存储互联网的上传、下载提供端到端的加速方案。</li>
</ul>
<h3 id="资源加速场景介绍"><a class="markdownIt-Anchor" href="#资源加速场景介绍">#</a> 资源加速场景介绍</h3>
<p>OSS 传输加速是针对 OSS 的链路加速，使用 OSS 传输加速后支持 OSS 提供的任意特性。CDN 通过全球边缘节点缓存 OSS 资源，加速同时可降低带宽成本。OSS 传输加速和 CDN 加速完全是两个不同的产品，且应对的场景不同，详情请参见<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/109895.htm"> CDN 应用场景</a>和<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/131312.htm">传输加速场景</a>。</p>
<ul>
<li>如果您的业务是第三方数据源加速，推荐您使用 CDN 加速。</li>
<li>如果您的 OSS 资源需要进行多次下载的操作，并且不要求数据强一致性，推荐您使用 CDN 加速。</li>
<li>如果您的 OSS 资源需要加速下载，并且访问量少，推荐您使用 OSS 传输加速。</li>
<li>如果您的 OSS 资源需要进行多次下载的操作，并且要求数据强一致性，推荐您使用 OSS 传输加速。</li>
<li>如果您的业务存储的是动态资源，且数据更新频繁，推荐您使用 OSS 传输加速。</li>
<li>如果您的业务存储的是静态资源，且更新少，推荐您使用 CDN 加速。</li>
</ul>
<h3 id="cdn加速和oss传输加速的对比"><a class="markdownIt-Anchor" href="#cdn加速和oss传输加速的对比">#</a> CDN 加速和 OSS 传输加速的对比</h3>
<p>CDN 加速和 OSS 传输加速的使用场景不同，其优缺点对比如下：</p>
<table>
<thead>
<tr>
<th><strong>加速方式</strong></th>
<th><strong>实现方法</strong></th>
<th><strong>应用场景</strong></th>
<th><strong>优点</strong></th>
<th><strong>缺点</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>CDN 加速 OSS</td>
<td>通过全球分布的边缘节点缓存数据来实现加速。</td>
<td>网站或应用中小文件大文件的下载视音频点播</td>
<td>CDN 边缘节点全球分布，数量多。CDN 节点提供的服务带宽量大。</td>
<td>对于访问量大的资源，命中率高，访问量小的资源命中率低，节点未缓存的情况下，还是需要回源访问，回源依赖实时的公网回源链路。CDN 静态资源的访问，对于上传、删除等动态请求加速效果不明显。</td>
</tr>
<tr>
<td>OSS 传输加速</td>
<td>实现的是客户端到 OSS 服务端之间链路优化来实现的加速功能，实际每次资源的请求还是从 OSS 来进行获取。</td>
<td>远距离数据传输加速 GB、TB 级大文件上传和下载非静态、非热点数据下载加速</td>
<td>OSS 存储节点全球主要区域分布。远距离以及大文件的上传和下载加速。</td>
<td>所有的访问都是回源到 OSS 访问，占用 OSS 的服务带宽。同一区域大量用户集中访问资源的情况下，效果没有 CDN 加速效果好。只能使用 HTTPS 方式访问。</td>
</tr>
</tbody>
</table>
<h2 id=""><a class="markdownIt-Anchor" href="#">#</a> </h2>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.445Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.164Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">5 分钟读完 (大约744个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E3%80%91Hexo/">Hexo搭建</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="hexo框架个人博客搭建"><a class="markdownIt-Anchor" href="#hexo框架个人博客搭建">#</a> hexo 框架个人博客搭建</h1>
<h2 id="1-环境准备"><a class="markdownIt-Anchor" href="#1-环境准备">#</a> 1 环境准备</h2>
<h3 id="11-nodejs和npm安装"><a class="markdownIt-Anchor" href="#11-nodejs和npm安装">#</a> 1.1 Node.js 和 npm 安装</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NoedJS自行百度安装</span><br></pre></td></tr></table></figure>
<h3 id="12选-npm-淘宝镜像"><a class="markdownIt-Anchor" href="#12选-npm-淘宝镜像">#</a> 1.2 (选) npm 淘宝镜像</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<h3 id="13-hexo框架安装"><a class="markdownIt-Anchor" href="#13-hexo框架安装">#</a> 1.3 hexo 框架安装</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<h3 id="14git安装配置"><a class="markdownIt-Anchor" href="#14git安装配置">#</a> 1.4git 安装配置</h3>
<ol>
<li>
<p><a target="_blank" rel="noopener" href="https://git-scm.com/download">git 官网</a> 下载对应系统安装包</p>
</li>
<li>
<p>运行安装包 一路下一步</p>
</li>
<li>
<p>开始菜单运行 Git Bash (运行成功表示 git 安装成功)</p>
</li>
<li>
<p>git 安装好去 GitHub 上注册一个账号</p>
</li>
<li>
<p>设置 git：在 Git Bush 命令行中输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 配置用户名</span><br><span class="line">git config --global user.name &quot;username&quot;    //（ &quot;username&quot;是自己的账户名）</span><br><span class="line"># 配置邮箱</span><br><span class="line">git config --global user.email &quot;username@email.com&quot;     //(&quot;username@email.com&quot;注册账号时用的邮箱)</span><br></pre></td></tr></table></figure>
<p>以上命令执行结束后，可用 git config –global –list 命令查看配置是否 OK</p>
</li>
<li>
<p>生成 ssh, 在命令框中输入以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>连续敲三次回车，结束后去系统盘目录下（一般在 C:\Users\ 你的用户名.ssh）(mac: /Users/ 用户 /.ssh）查看是否有：ssh 文件夹生成<br>
 \7. 将 ssh 文件夹中的公钥（ id_rsa.pub）添加到 GitHub 管理平台中，在 GitHub 的个人账户的设置中找到如下界面</p>
<p><img src="http://m.qpic.cn/psc?/V13GZ6V642zl3l/LjNfElrpEt6hXz54k3bCMchAT9Eqb8h826wZJlbf5XTg7bk2vbn8iPBmpUMKdT*qmYTTTu6PvI2OOXduLhX4YWkD8PDL7HQ0zwtH8In.gVk!/b&amp;bo=8wKMAQAAAAADB14!&amp;rf=viewer_4" alt="20181012202024433"></p>
<p>title 随便起一个，将公钥（ id_rsa.pub）文件中内容复制粘贴到 key 中，然后点击 Ass SSH key 就好啦</p>
<h2 id="2-建立本地网站"><a class="markdownIt-Anchor" href="#2-建立本地网站">#</a> 2 建立本地网站</h2>
<h3 id="21-在本地建立一个文件夹"><a class="markdownIt-Anchor" href="#21-在本地建立一个文件夹">#</a> 2.1 在本地建立一个文件夹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">去任意盘符下，建立一个文件夹，这个文件夹就是你的博客文件夹</span><br></pre></td></tr></table></figure>
<h3 id="22-cmd命令进入这个文件夹"><a class="markdownIt-Anchor" href="#22-cmd命令进入这个文件夹">#</a> 2.2 cmd 命令进入这个文件夹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">进入文件夹后，路径输入cmd进入命令提示符窗口</span><br></pre></td></tr></table></figure>
<h3 id="23-hxeo生成博客"><a class="markdownIt-Anchor" href="#23-hxeo生成博客">#</a> 2.3 hxeo 生成博客</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo init</span><br></pre></td></tr></table></figure>
<h3 id="24-启动博客"><a class="markdownIt-Anchor" href="#24-启动博客">#</a> 2.4 启动博客</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>进入网站 说明建立成功</p>
<h2 id="3-上传至github"><a class="markdownIt-Anchor" href="#3-上传至github">#</a> 3 上传至 github</h2>
<h3 id="31-建立仓库"><a class="markdownIt-Anchor" href="#31-建立仓库">#</a> 3.1 建立仓库</h3>
<ol>
<li>登录 github 新建一个仓库</li>
<li>仓库名必须是 “&lt;&lt;你的 Github 名字&gt;&gt;.github.io”</li>
</ol>
<h3 id="32-在博客目录安装git插件"><a class="markdownIt-Anchor" href="#32-在博客目录安装git插件">#</a> 3.2 在博客目录安装 git 插件</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure>
<h3 id="33-设置文件_configyml最底部"><a class="markdownIt-Anchor" href="#33-设置文件_configyml最底部">#</a> 3.3 设置文件 “_config.yml”（最底部）</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">     type: git</span><br><span class="line">     repo: //仓库的ssh地址</span><br><span class="line">     branch: master</span><br></pre></td></tr></table></figure>
<h3 id="34-部署到远端"><a class="markdownIt-Anchor" href="#34-部署到远端">#</a> 3.4 部署到远端</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d //需要登陆</span><br></pre></td></tr></table></figure>
<h3 id="35-访问"><a class="markdownIt-Anchor" href="#35-访问">#</a> 3.5 访问</h3>
<p>”https://&lt;&lt;你的 username&gt;&gt;.github.io“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">补充命令：</span><br><span class="line"></span><br><span class="line">hexo clean 清理博客</span><br><span class="line"></span><br><span class="line">hexo generate 同步博客</span><br><span class="line"></span><br><span class="line">hexo deploy 提交博客</span><br></pre></td></tr></table></figure>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-20T06:02:20.441Z" title="2023-4-20 14:02:20">2023-04-20</time>发表</span><span class="level-item"><time dateTime="2023-04-20T06:01:27.158Z" title="2023-4-20 14:01:27">2023-04-20</time>更新</span><span class="level-item">2 分钟读完 (大约265个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/20/%E3%80%90Vue%E3%80%91%E4%BF%AE%E5%A4%8Delement%E5%8F%AF%E6%90%9C%E7%B4%A2%E4%B8%8B%E6%8B%89%E6%A1%86%E9%80%89%E4%B8%AD%E9%80%89%E9%A1%B9%EF%BC%8C%E5%88%87%E5%B1%8F%E5%90%8E%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9%EF%BC%8C%E8%8F%9C%E5%8D%95%E8%87%AA%E5%8A%A8%E5%BC%B9%E5%87%BA/">【Vue】修复element可搜索下拉框选中选项，切屏后，会自动获取焦点，菜单自动弹出</a></p><div class="content"><p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png" alt="InterviewCoder"></p>
<h1 id="vue修复element可搜索下拉框选中选项切屏后会自动获取焦点菜单自动弹出"><a class="markdownIt-Anchor" href="#vue修复element可搜索下拉框选中选项切屏后会自动获取焦点菜单自动弹出">#</a> 【Vue】修复 element 可搜索下拉框选中选项，切屏后，会自动获取焦点，菜单自动弹出</h1>
<h3 id="1添加自定义指令-v-select-blur"><a class="markdownIt-Anchor" href="#1添加自定义指令-v-select-blur">#</a> 1. 添加自定义指令 v-select-blur</h3>
<h5 id="在mainjs添加"><a class="markdownIt-Anchor" href="#在mainjs添加">#</a> 在 main.js 添加：</h5>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;select-blur&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> inputDom = el.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;input&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (!inputDom) <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">let</span> isOpen = <span class="literal">false</span></span><br><span class="line">    inputDom.<span class="title function_">addEventListener</span>(<span class="string">&#x27;focus&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isOpen) &#123;</span><br><span class="line">        inputDom.<span class="title function_">blur</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        isOpen = <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="用法"><a class="markdownIt-Anchor" href="#用法">#</a> 用法：</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-select</span><br><span class="line">    v-select-blur</span><br><span class="line">    v-model=&quot;value&quot;</span><br><span class="line">    :placeholder=&quot;请选择&quot;</span><br><span class="line">    clearable</span><br><span class="line">    filterable</span><br><span class="line">&gt;</span><br><span class="line"> &lt;el-option</span><br><span class="line">     v-for=&quot;item in countryList&quot;</span><br><span class="line">     :key=&quot;item.id&quot;</span><br><span class="line">     :label=&quot;item.name&quot;</span><br><span class="line">     :value=&quot;item.name&quot;</span><br><span class="line">     :title=&quot;item.name&quot;</span><br><span class="line"> /&gt;</span><br><span class="line">&lt;/el-select&gt;          </span><br></pre></td></tr></table></figure>
<h3 id="存在的问题"><a class="markdownIt-Anchor" href="#存在的问题">#</a> 存在的问题：</h3>
<p>​	虽然有效，但是会导致第二次点下拉框时，无法继续搜索</p>
<h2 id="关于我"><a class="markdownIt-Anchor" href="#关于我">#</a> 关于我</h2>
<p>Brath 是一个热爱技术的 Java 程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！</p>
<p><img src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></p>
<p>非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/13/">13</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T00:59:24.590Z">2023-04-26</time></p><p class="title"><a href="/2023/04/26/%E3%80%90DDD%E3%80%91DDD%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E4%B8%8E%E4%BC%A0%E7%BB%9F%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8C%BA%E5%88%AB/">【DDD】DDD分层架构与传统三层架构的区别</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-21T01:04:21.063Z">2023-04-21</time></p><p class="title"><a href="/2023/04/21/%E3%80%90NodeJS%E3%80%91Windows%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%A6%82%E4%BD%95%E5%81%9ANode%E5%A4%9A%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%EF%BC%9F/">【NodeJS】Windows环境下如何做Node多版本管理？</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-20T06:52:53.490Z">2023-04-20</time></p><p class="title"><a href="/2023/04/20/%E3%80%90HEXO%E3%80%91%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/">【HEXO】使用Hexo搭建属于自己的博客</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-20T06:02:20.463Z">2023-04-20</time></p><p class="title"><a href="/2023/04/20/%E3%80%90%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E3%80%91%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%B3%E8%AF%B7%E7%9A%84%E5%85%8D%E8%B4%B9%E8%AF%81%E4%B9%A6%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91CDN%E5%92%8C%E4%BA%91%E7%9B%BE%E8%AF%81%E4%B9%A6%E4%B8%AD%E5%BF%83/">腾讯云申请的免费证书部署到阿里云CDN和云盾证书中心</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-20T06:02:20.459Z">2023-04-20</time></p><p class="title"><a href="/2023/04/20/%E3%80%90%E5%A4%96%E8%AE%BE%E3%80%91%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98%E8%BD%B4%E4%BD%93%E6%80%8E%E4%B9%88%E9%80%89%EF%BC%9F%E4%B8%89%E6%A8%A1%E7%83%AD%E6%8F%92%E6%8B%94%E5%8E%9F%E6%9D%A5%E6%98%AF%E8%BF%99%E4%B9%88%E5%9B%9E%E4%BA%8B/">【外设】机械键盘轴体怎么选？三模热插拔原来是这么回事</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">121</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png" alt="InterviewCoder"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">InterviewCoder</p><p class="is-size-6 is-block">面试记官方公众号</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">121</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://mp.weixin.qq.com/s/jWs6lLHl5L-atXJhHc4YvA" target="_blank" rel="noopener">关注我</a></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://brath.cloud/me.png" alt="Brath"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Brath</p><p class="is-size-6 is-block">技能改变人生，知识改变命运。</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国·江苏·无锡</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">121</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Guoqing815" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Guoqing815"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/Guoqing-Li"><i class="fab fa-gitee"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://schokolade.cn/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">泠灵(特别呜谢)</span></span><span class="level-right"><span class="level-item tag">schokolade.cn</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/Guoqing-Li" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Gitee(码云)</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li><li><a class="level is-mobile" href="https://blog.csdn.net/Brath?type=blog" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://juejin.cn/user/settings/profile" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">掘金</span></span><span class="level-right"><span class="level-item tag">juejin.cn</span></span></a></li><li><a class="level is-mobile" href="https://oss.console.aliyun.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">AliCloud(阿里云)</span></span><span class="level-right"><span class="level-item tag">oss.console.aliyun.com</span></span></a></li><li><a class="level is-mobile" href="https://cloud.tencent.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">TencentCloud(腾讯云)</span></span><span class="level-right"><span class="level-item tag">cloud.tencent.com</span></span></a></li><li><a class="level is-mobile" href="https://www.zhipin.com/web/user/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">BOSS</span></span><span class="level-right"><span class="level-item tag">www.zhipin.com</span></span></a></li><li><a class="level is-mobile" href="https://www.bilibili.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bilibili(B站)</span></span><span class="level-right"><span class="level-item tag">www.bilibili.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://brath.cloud/me.png" alt="Brath-Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Brath</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p><p class="is-size-7">© 2029</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>